(self.webpackChunkargent=self.webpackChunkargent||[]).push([[179],{255:ap=>{function Oa(wn){return Promise.resolve().then(()=>{var Rn=new Error("Cannot find module '"+wn+"'");throw Rn.code="MODULE_NOT_FOUND",Rn})}Oa.keys=()=>[],Oa.resolve=Oa,Oa.id=255,ap.exports=Oa},579:function(ap,Oa){!function(wn){var Rn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function tn(p){var y={exports:{}};return p(y,y.exports),y.exports}var kr=function(p){return p&&p.Math==Math&&p},Xe=kr("object"==typeof globalThis&&globalThis)||kr("object"==typeof window&&window)||kr("object"==typeof self&&self)||kr("object"==typeof Rn&&Rn)||function(){return this}()||Function("return this")(),Re=function(p){try{return!!p()}catch(y){return!0}},Ve=!Re(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),dn={}.propertyIsEnumerable,mr=Object.getOwnPropertyDescriptor,pu={f:mr&&!dn.call({1:2},1)?function(y){var D=mr(this,y);return!!D&&D.enumerable}:dn},Rr=function(p,y){return{enumerable:!(1&p),configurable:!(2&p),writable:!(4&p),value:y}},fl={}.toString,hn=function(p){return fl.call(p).slice(8,-1)},as="".split,ei=Re(function(){return!Object("z").propertyIsEnumerable(0)})?function(p){return"String"==hn(p)?as.call(p,""):Object(p)}:Object,ln=function(p){if(null==p)throw TypeError("Can't call method on "+p);return p},Ln=function(p){return ei(ln(p))},ir=function(p){return"object"==typeof p?null!==p:"function"==typeof p},ft=function(p,y){if(!ir(p))return p;var D,x;if(y&&"function"==typeof(D=p.toString)&&!ir(x=D.call(p))||"function"==typeof(D=p.valueOf)&&!ir(x=D.call(p))||!y&&"function"==typeof(D=p.toString)&&!ir(x=D.call(p)))return x;throw TypeError("Can't convert object to primitive value")},Ma={}.hasOwnProperty,Je=function(p,y){return Ma.call(p,y)},cc=Xe.document,us=ir(cc)&&ir(cc.createElement),Tn=function(p){return us?cc.createElement(p):{}},kt=!Ve&&!Re(function(){return 7!=Object.defineProperty(Tn("div"),"a",{get:function(){return 7}}).a}),dc=Object.getOwnPropertyDescriptor,gu={f:Ve?dc:function(y,D){if(y=Ln(y),D=ft(D,!0),kt)try{return dc(y,D)}catch(x){}if(Je(y,D))return Rr(!pu.f.call(y,D),y[D])}},Aa=/#|\.prototype\./,$o=function(p,y){var D=Lh[up(p)];return D==Pa||D!=Ft&&("function"==typeof y?Re(y):!!y)},up=$o.normalize=function(p){return String(p).replace(Aa,".").toLowerCase()},Lh=$o.data={},Ft=$o.NATIVE="N",Pa=$o.POLYFILL="P",Na=$o,rt={},Uo=function(p){if("function"!=typeof p)throw TypeError(String(p)+" is not a function");return p},yr=function(p,y,D){if(Uo(p),void 0===y)return p;switch(D){case 0:return function(){return p.call(y)};case 1:return function(x){return p.call(y,x)};case 2:return function(x,T){return p.call(y,x,T)};case 3:return function(x,T,O){return p.call(y,x,T,O)}}return function(){return p.apply(y,arguments)}},In=function(p){if(!ir(p))throw TypeError(String(p)+" is not an object");return p},hc=Object.defineProperty,Ze={f:Ve?hc:function(y,D,x){if(In(y),D=ft(D,!0),In(x),kt)try{return hc(y,D,x)}catch(T){}if("get"in x||"set"in x)throw TypeError("Accessors not supported");return"value"in x&&(y[D]=x.value),y}},Vn=Ve?function(p,y,D){return Ze.f(p,y,Rr(1,D))}:function(p,y,D){return p[y]=D,p},jh=gu.f,fc=function(p){var y=function(D,x,T){if(this instanceof p){switch(arguments.length){case 0:return new p;case 1:return new p(D);case 2:return new p(D,x)}return new p(D,x,T)}return p.apply(this,arguments)};return y.prototype=p.prototype,y},pt=function(p,y){var Q,J,ie,xe,nt,lt,_t,je,D=p.target,x=p.global,T=p.stat,O=p.proto,F=x?Xe:T?Xe[D]:(Xe[D]||{}).prototype,B=x?rt:rt[D]||(rt[D]={}),L=B.prototype;for(ie in y)Q=!Na(x?ie:D+(T?".":"#")+ie,p.forced)&&F&&Je(F,ie),nt=B[ie],Q&&(lt=p.noTargetGet?(je=jh(F,ie))&&je.value:F[ie]),xe=Q&&lt?lt:y[ie],(!Q||typeof nt!=typeof xe)&&(_t=p.bind&&Q?yr(xe,Xe):p.wrap&&Q?fc(xe):O&&"function"==typeof xe?yr(Function.call,xe):xe,(p.sham||xe&&xe.sham||nt&&nt.sham)&&Vn(_t,"sham",!0),B[ie]=_t,O&&(Je(rt,J=D+"Prototype")||Vn(rt,J,{}),rt[J][ie]=xe,p.real&&L&&!L[ie]&&Vn(L,ie,xe)))},Gs=Array.isArray||function(y){return"Array"==hn(y)},_o=Math.ceil,Dd=Math.floor,vu=function(p){return isNaN(p=+p)?0:(p>0?Dd:_o)(p)},Ci=Math.min,An=function(p){return p>0?Ci(vu(p),9007199254740991):0},Fa=function(p,y,D,x,T,O,F,B){for(var J,L=T,q=0,Q=!!F&&yr(F,B,3);q<x;){if(q in D){if(J=Q?Q(D[q],q,y):D[q],O>0&&Gs(J))L=Fa(p,y,J,An(J.length),L,O-1)-1;else{if(L>=9007199254740991)throw TypeError("Exceed the acceptable array length");p[L]=J}L++}q++}return L},pl=Fa,fn=function(p){return Object(ln(p))},gl="__core-js_shared__",mu=Xe[gl]||function(p,y){try{Vn(Xe,p,y)}catch(D){Xe[p]=y}return y}(gl,{}),ls=tn(function(p){(p.exports=function(y,D){return mu[y]||(mu[y]=void 0!==D?D:{})})("versions",[]).push({version:"3.7.0",mode:"pure",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})}),vl=0,zg=Math.random(),pn=function(p){return"Symbol("+String(void 0===p?"":p)+")_"+(++vl+zg).toString(36)},qs=!!Object.getOwnPropertySymbols&&!Re(function(){return!String(Symbol())}),Ys=qs&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Ui=ls("wks"),Ra=Xe.Symbol,Mt=Ys?Ra:Ra&&Ra.withoutSetter||pn,or=function(p){return Je(Ui,p)||(Ui[p]=qs&&Je(Ra,p)?Ra[p]:Mt("Symbol."+p)),Ui[p]},Bh=or("species"),xd=function(p,y){var D;return Gs(p)&&("function"!=typeof(D=p.constructor)||D!==Array&&!Gs(D.prototype)?ir(D)&&null===(D=D[Bh])&&(D=void 0):D=void 0),new(void 0===D?Array:D)(0===y?0:y)};pt({target:"Array",proto:!0},{flatMap:function(y){var T,D=fn(this),x=An(D.length);return Uo(y),(T=xd(D,0)).length=pl(T,D,D,x,0,1,y,arguments.length>1?arguments[1]:void 0),T}});var Ue,Sr,sr=function(p){return rt[p+"Prototype"]},yu=sr("Array").flatMap,bu=Array.prototype,Td=[].push,Qs=function(p){var y=1==p,D=2==p,x=3==p,T=4==p,O=6==p,F=5==p||O;return function(B,L,q,Q){for(var bn,On,J=fn(B),ie=ei(J),xe=yr(L,q,3),nt=An(ie.length),lt=0,_t=Q||xd,je=y?_t(B,nt):D?_t(B,0):void 0;nt>lt;lt++)if((F||lt in ie)&&(On=xe(bn=ie[lt],lt,J),p))if(y)je[lt]=On;else if(On)switch(p){case 3:return!0;case 5:return bn;case 6:return lt;case 2:Td.call(je,bn)}else if(T)return!1;return O?-1:x||T?T:je}},Wt={forEach:Qs(0),map:Qs(1),filter:Qs(2),some:Qs(3),every:Qs(4),find:Qs(5),findIndex:Qs(6)},$e=function(p){return"function"==typeof p?p:void 0},La=function(p,y){return arguments.length<2?$e(rt[p])||$e(Xe[p]):rt[p]&&rt[p][y]||Xe[p]&&Xe[p][y]},_u=La("navigator","userAgent")||"",Va=Xe.process,Hh=Va&&Va.versions,pc=Hh&&Hh.v8;pc?Sr=(Ue=pc.split("."))[0]+Ue[1]:_u&&(!(Ue=_u.match(/Edge\/(\d+)/))||Ue[1]>=74)&&(Ue=_u.match(/Chrome\/(\d+)/))&&(Sr=Ue[1]);var gc=Sr&&+Sr,rm=or("species"),Id=function(p){return gc>=51||!Re(function(){var y=[];return(y.constructor={})[rm]=function(){return{foo:1}},1!==y[p](Boolean).foo})},Ks=Object.defineProperty,cn={},$g=function(p){throw p},Xs=function(p,y){if(Je(cn,p))return cn[p];y||(y={});var D=[][p],x=!!Je(y,"ACCESSORS")&&y.ACCESSORS,T=Je(y,0)?y[0]:$g,O=Je(y,1)?y[1]:void 0;return cn[p]=!!D&&!Re(function(){if(x&&!Ve)return!0;var F={length:-1};x?Ks(F,1,{enumerable:!0,get:$g}):F[1]=1,D.call(F,T,O)})},im=Wt.map,Zs=Id("map"),vc=Xs("map");pt({target:"Array",proto:!0,forced:!Zs||!vc},{map:function(y){return im(this,y,arguments.length>1?arguments[1]:void 0)}});var Lr=sr("Array").map,ml=Array.prototype,Pn=function(p){var y=p.map;return p===ml||p instanceof Array&&y===ml.map?Lr:y},Ug=Wt.filter,om=Id("filter"),Di=Xs("filter");pt({target:"Array",proto:!0,forced:!om||!Di},{filter:function(y){return Ug(this,y,arguments.length>1?arguments[1]:void 0)}});var En=sr("Array").filter,zh=Array.prototype,Ye=function(p){var y=p.filter;return p===zh||p instanceof Array&&y===zh.filter?En:y},kd=function(p){return function(y,D,x,T){Uo(D);var O=fn(y),F=ei(O),B=An(O.length),L=p?B-1:0,q=p?-1:1;if(x<2)for(;;){if(L in F){T=F[L],L+=q;break}if(L+=q,p?L<0:B<=L)throw TypeError("Reduce of empty array with no initial value")}for(;p?L>=0:B>L;L+=q)L in F&&(T=D(T,F[L],L,O));return T}},Eo={left:kd(!1),right:kd(!0)},Wi=function(p,y){var D=[][p];return!!D&&Re(function(){D.call(null,y||function(){throw 1},1)})},ja="process"==hn(Xe.process),Ba=Eo.left,Js=Wi("reduce"),Sd=Xs("reduce",{1:0});pt({target:"Array",proto:!0,forced:!Js||!Sd||!ja&&gc>79&&gc<83},{reduce:function(y){return Ba(this,y,arguments.length,arguments.length>1?arguments[1]:void 0)}});var dt=sr("Array").reduce,ea=Array.prototype,bc=function(p){var y=p.reduce;return p===ea||p instanceof Array&&y===ea.reduce?dt:y},cp=[].slice,br={},wu=function(p,y,D){if(!(y in br)){for(var x=[],T=0;T<y;T++)x[T]="a["+T+"]";br[y]=Function("C,a","return new C("+x.join(",")+")")}return br[y](p,D)},dp=Function.bind||function(y){var D=Uo(this),x=cp.call(arguments,1),T=function(){var F=x.concat(cp.call(arguments));return this instanceof T?wu(D,F.length,F):D.apply(y,F)};return ir(D.prototype)&&(T.prototype=D.prototype),T};pt({target:"Function",proto:!0},{bind:dp});var ds=sr("Function").bind,Qn=Function.prototype,rn=function(p){var y=p.bind;return p===Qn||p instanceof Function&&y===Qn.bind?ds:y};var fs=function(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")};pt({target:"Object",stat:!0,forced:!Ve,sham:!Ve},{defineProperty:Ze.f});var yl=tn(function(p){var y=rt.Object,D=p.exports=function(T,O,F){return y.defineProperty(T,O,F)};y.defineProperty.sham&&(D.sham=!0)}),$t=yl;function _c(p,y){for(var D=0;D<y.length;D++){var x=y[D];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),$t(p,x.key,x)}}var _r=function(p,y,D){return y&&_c(p.prototype,y),D&&_c(p,D),p};var wc=function(){function p(y,D,x){var T,O,F;fs(this,p),this._source=y,this._transformers=D,this._target=x,this._listeners={add:rn(T=this._add).call(T,this),remove:rn(O=this._remove).call(O,this),update:rn(F=this._update).call(F,this)}}return _r(p,[{key:"all",value:function(){return this._target.update(this._transformItems(this._source.get())),this}},{key:"start",value:function(){return this._source.on("add",this._listeners.add),this._source.on("remove",this._listeners.remove),this._source.on("update",this._listeners.update),this}},{key:"stop",value:function(){return this._source.off("add",this._listeners.add),this._source.off("remove",this._listeners.remove),this._source.off("update",this._listeners.update),this}},{key:"_transformItems",value:function(D){var x;return bc(x=this._transformers).call(x,function(T,O){return O(T)},D)}},{key:"_add",value:function(D,x){null!=x&&this._target.add(this._transformItems(this._source.get(x.items)))}},{key:"_update",value:function(D,x){null!=x&&this._target.update(this._transformItems(this._source.get(x.items)))}},{key:"_remove",value:function(D,x){null!=x&&this._target.remove(this._transformItems(x.oldData))}}]),p}(),Uh=function(){function p(y){fs(this,p),this._source=y,this._transformers=[]}return _r(p,[{key:"filter",value:function(D){return this._transformers.push(function(x){return Ye(x).call(x,D)}),this}},{key:"map",value:function(D){return this._transformers.push(function(x){return Pn(x).call(x,D)}),this}},{key:"flatMap",value:function(D){return this._transformers.push(function(x){return function(p){var y=p.flatMap;return p===bu||p instanceof Array&&y===bu.flatMap?yu:y}(x).call(x,D)}),this}},{key:"to",value:function(D){return new wc(this._source,this._transformers,D)}}]),p}(),Eu=yl,hp=Math.max,ps=Math.min,li=function(p,y){var D=vu(p);return D<0?hp(D+y,0):ps(D,y)},Wh=function(p){return function(y,D,x){var B,T=Ln(y),O=An(T.length),F=li(x,O);if(p&&D!=D){for(;O>F;)if((B=T[F++])!=B)return!0}else for(;O>F;F++)if((p||F in T)&&T[F]===D)return p||F||0;return!p&&-1}},Cu={includes:Wh(!0),indexOf:Wh(!1)},Du={},Ec=Cu.indexOf,ti=function(p,y){var O,D=Ln(p),x=0,T=[];for(O in D)!Je(Du,O)&&Je(D,O)&&T.push(O);for(;y.length>x;)Je(D,O=y[x++])&&(~Ec(T,O)||T.push(O));return T},xu=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Or=Object.keys||function(y){return ti(y,xu)},jn=Ve?Object.defineProperties:function(y,D){In(y);for(var F,x=Or(D),T=x.length,O=0;T>O;)Ze.f(y,F=x[O++],D[F]);return y};pt({target:"Object",stat:!0,forced:!Ve,sham:!Ve},{defineProperties:jn});var Vr=tn(function(p){var y=rt.Object,D=p.exports=function(T,O){return y.defineProperties(T,O)};y.defineProperties.sham&&(D.sham=!0)}),jr=xu.concat("length","prototype"),Go={f:Object.getOwnPropertyNames||function(y){return ti(y,jr)}},Bn={f:Object.getOwnPropertySymbols},Gi=La("Reflect","ownKeys")||function(y){var D=Go.f(In(y)),x=Bn.f;return x?D.concat(x(y)):D},Ce=function(p,y,D){var x=ft(y);x in p?Ze.f(p,x,Rr(0,D)):p[x]=D};pt({target:"Object",stat:!0,sham:!Ve},{getOwnPropertyDescriptors:function(y){for(var B,L,D=Ln(y),x=gu.f,T=Gi(D),O={},F=0;T.length>F;)void 0!==(L=x(D,B=T[F++]))&&Ce(O,B,L);return O}});var ni=rt.Object.getOwnPropertyDescriptors,Ti=gu.f,wr=Re(function(){Ti(1)});pt({target:"Object",stat:!0,forced:!Ve||wr,sham:!Ve},{getOwnPropertyDescriptor:function(y,D){return Ti(Ln(y),D)}});var Su,Ha=tn(function(p){var y=rt.Object,D=p.exports=function(T,O){return y.getOwnPropertyDescriptor(T,O)};y.getOwnPropertyDescriptor.sham&&(D.sham=!0)}),xt=La("document","documentElement"),Co=ls("keys"),ra=function(p){return Co[p]||(Co[p]=pn(p))},Br="prototype",Iu="script",qi=ra("IE_PROTO"),Hn=function(){},Ut=function(p){return"<script>"+p+"</"+Iu+">"},Ou=function(){try{Su=document.domain&&new ActiveXObject("htmlfile")}catch(y){}Ou=Su?function(p){p.write(Ut("")),p.close();var y=p.parentWindow.Object;return p=null,y}(Su):function(){var D,p=Tn("iframe");return p.style.display="none",xt.appendChild(p),p.src=String("javascript:"),(D=p.contentWindow.document).open(),D.write(Ut("document.F=Object")),D.close(),D.F}();for(var p=xu.length;p--;)delete Ou[Br][xu[p]];return Ou()};Du[qi]=!0;var ci=Object.create||function(y,D){var x;return null!==y?(Hn[Br]=In(y),x=new Hn,Hn[Br]=null,x[qi]=y):x=Ou(),void 0===D?x:jn(x,D)},di=Go.f,Er={}.toString,zn="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Yi={f:function(y){return zn&&"[object Window]"==Er.call(y)?function(p){try{return di(p)}catch(y){return zn.slice()}}(y):di(Ln(y))}},bl=function(p,y,D,x){x&&x.enumerable?p[y]=D:Vn(p,y,D)},Do={f:or},Qi=Ze.f,Kn=function(p){var y=rt.Symbol||(rt.Symbol={});Je(y,p)||Qi(y,p,{value:Do.f(p)})},Od={};Od[or("toStringTag")]="z";var Yo="[object z]"===String(Od),fp=or("toStringTag"),qh="Arguments"==hn(function(){return arguments}()),hi=Yo?hn:function(p){var y,D,x;return void 0===p?"Undefined":null===p?"Null":"string"==typeof(D=function(p,y){try{return p[y]}catch(D){}}(y=Object(p),fp))?D:qh?hn(y):"Object"==(x=hn(y))&&"function"==typeof y.callee?"Arguments":x},Mu=Yo?{}.toString:function(){return"[object "+hi(this)+"]"},gp=Ze.f,Yh=or("toStringTag"),ki=function(p,y,D,x){if(p){var T=D?p:p.prototype;Je(T,Yh)||gp(T,Yh,{configurable:!0,value:y}),x&&!Yo&&Vn(T,"toString",Mu)}},Qh=Function.toString;"function"!=typeof mu.inspectSource&&(mu.inspectSource=function(p){return Qh.call(p)});var Ad,Ar,Au,Md=Xe.WeakMap;if("function"==typeof Md&&/native code/.test((0,mu.inspectSource)(Md))){var oa=mu.state||(mu.state=new(0,Xe.WeakMap)),gs=oa.get,Dc=oa.has,Si=oa.set;Ad=function(p,y){return y.facade=p,Si.call(oa,p,y),y},Ar=function(p){return gs.call(oa,p)||{}},Au=function(p){return Dc.call(oa,p)}}else{var sa=ra("state");Du[sa]=!0,Ad=function(p,y){return y.facade=p,Vn(p,sa,y),y},Ar=function(p){return Je(p,sa)?p[sa]:{}},Au=function(p){return Je(p,sa)}}var xo={set:Ad,get:Ar,has:Au,enforce:function(p){return Au(p)?Ar(p):Ad(p,{})},getterFor:function(p){return function(y){var D;if(!ir(y)||(D=Ar(y)).type!==p)throw TypeError("Incompatible receiver, "+p+" required");return D}}},Pd=Wt.forEach,Pr=ra("hidden"),Pu="Symbol",Qo="prototype",Nu=or("toPrimitive"),yp=xo.set,Ki=xo.getterFor(Pu),fi=Object[Qo],ri=Xe.Symbol,Fu=La("JSON","stringify"),bp=gu.f,To=Ze.f,xc=Yi.f,kn=pu.f,Ko=ls("symbols"),vs=ls("op-symbols"),Ru=ls("string-to-symbol-registry"),Sn=ls("symbol-to-string-registry"),Kh=ls("wks"),_p=Xe.QObject,aa=!_p||!_p[Qo]||!_p[Qo].findChild,zr=Ve&&Re(function(){return 7!=ci(To({},"a",{get:function(){return To(this,"a",{value:7}).a}})).a})?function(p,y,D){var x=bp(fi,y);x&&delete fi[y],To(p,y,D),x&&p!==fi&&To(fi,y,x)}:To,ms=function(p,y){var D=Ko[p]=ci(ri[Qo]);return yp(D,{type:Pu,tag:p,description:y}),Ve||(D.description=y),D},Io=Ys?function(p){return"symbol"==typeof p}:function(p){return Object(p)instanceof ri},Xo=function(y,D,x){y===fi&&Xo(vs,D,x),In(y);var T=ft(D,!0);return In(x),Je(Ko,T)?(x.enumerable?(Je(y,Pr)&&y[Pr][T]&&(y[Pr][T]=!1),x=ci(x,{enumerable:Rr(0,!1)})):(Je(y,Pr)||To(y,Pr,Rr(1,{})),y[Pr][T]=!0),zr(y,T,x)):To(y,T,x)},Oi=function(y,D){In(y);var x=Ln(D),T=Or(x).concat(Tc(x));return Pd(T,function(O){(!Ve||Nd.call(x,O))&&Xo(y,O,x[O])}),y},Nd=function(y){var D=ft(y,!0),x=kn.call(this,D);return!(this===fi&&Je(Ko,D)&&!Je(vs,D))&&(!(x||!Je(this,D)||!Je(Ko,D)||Je(this,Pr)&&this[Pr][D])||x)},Xh=function(y,D){var x=Ln(y),T=ft(D,!0);if(x!==fi||!Je(Ko,T)||Je(vs,T)){var O=bp(x,T);return O&&Je(Ko,T)&&!(Je(x,Pr)&&x[Pr][T])&&(O.enumerable=!0),O}},ys=function(y){var D=xc(Ln(y)),x=[];return Pd(D,function(T){!Je(Ko,T)&&!Je(Du,T)&&x.push(T)}),x},Tc=function(y){var D=y===fi,x=xc(D?vs:Ln(y)),T=[];return Pd(x,function(O){Je(Ko,O)&&(!D||Je(fi,O))&&T.push(Ko[O])}),T};if(qs||(bl((ri=function(){if(this instanceof ri)throw TypeError("Symbol is not a constructor");var y=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,D=pn(y),x=function(T){this===fi&&x.call(vs,T),Je(this,Pr)&&Je(this[Pr],D)&&(this[Pr][D]=!1),zr(this,D,Rr(1,T))};return Ve&&aa&&zr(fi,D,{configurable:!0,set:x}),ms(D,y)})[Qo],"toString",function(){return Ki(this).tag}),bl(ri,"withoutSetter",function(p){return ms(pn(p),p)}),pu.f=Nd,Ze.f=Xo,gu.f=Xh,Go.f=Yi.f=ys,Bn.f=Tc,Do.f=function(p){return ms(or(p),p)},Ve&&To(ri[Qo],"description",{configurable:!0,get:function(){return Ki(this).description}})),pt({global:!0,wrap:!0,forced:!qs,sham:!qs},{Symbol:ri}),Pd(Or(Kh),function(p){Kn(p)}),pt({target:Pu,stat:!0,forced:!qs},{for:function(p){var y=String(p);if(Je(Ru,y))return Ru[y];var D=ri(y);return Ru[y]=D,Sn[D]=y,D},keyFor:function(y){if(!Io(y))throw TypeError(y+" is not a symbol");if(Je(Sn,y))return Sn[y]},useSetter:function(){aa=!0},useSimple:function(){aa=!1}}),pt({target:"Object",stat:!0,forced:!qs,sham:!Ve},{create:function(y,D){return void 0===D?ci(y):Oi(ci(y),D)},defineProperty:Xo,defineProperties:Oi,getOwnPropertyDescriptor:Xh}),pt({target:"Object",stat:!0,forced:!qs},{getOwnPropertyNames:ys,getOwnPropertySymbols:Tc}),pt({target:"Object",stat:!0,forced:Re(function(){Bn.f(1)})},{getOwnPropertySymbols:function(y){return Bn.f(fn(y))}}),Fu){var Fd=!qs||Re(function(){var p=ri();return"[null]"!=Fu([p])||"{}"!=Fu({a:p})||"{}"!=Fu(Object(p))});pt({target:"JSON",stat:!0,forced:Fd},{stringify:function(y,D,x){for(var F,T=[y],O=1;arguments.length>O;)T.push(arguments[O++]);if(F=D,(ir(D)||void 0!==y)&&!Io(y))return Gs(D)||(D=function(B,L){if("function"==typeof F&&(L=F.call(this,B,L)),!Io(L))return L}),T[1]=D,Fu.apply(null,T)}})}ri[Qo][Nu]||Vn(ri[Qo],Nu,ri[Qo].valueOf),ki(ri,Pu),Du[Pr]=!0;var Sc,$n,Rd,Zh=rt.Object.getOwnPropertySymbols,Xi={},Ep=!Re(function(){function p(){}return p.prototype.constructor=null,Object.getPrototypeOf(new p)!==p.prototype}),Jh=ra("IE_PROTO"),Cp=Object.prototype,kc=Ep?Object.getPrototypeOf:function(p){return p=fn(p),Je(p,Jh)?p[Jh]:"function"==typeof p.constructor&&p instanceof p.constructor?p.constructor.prototype:p instanceof Object?Cp:null},Vt=(or("iterator"),!1);[].keys&&("next"in(Rd=[].keys())?($n=kc(kc(Rd)))!==Object.prototype&&(Sc=$n):Vt=!0),null==Sc&&(Sc={});var ua={IteratorPrototype:Sc,BUGGY_SAFARI_ITERATORS:Vt},bs=ua.IteratorPrototype,ef=function(){return this},Oc=Object.setPrototypeOf||("__proto__"in{}?function(){var D,p=!1,y={};try{(D=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(y,[]),p=y instanceof Array}catch(x){}return function(T,O){return In(T),function(p){if(!ir(p)&&null!==p)throw TypeError("Can't set "+String(p)+" as a prototype")}(O),p?D.call(T,O):T.__proto__=O,T}}():void 0),_s=ua.IteratorPrototype,ko=ua.BUGGY_SAFARI_ITERATORS,ar=or("iterator"),Lu="values",ws="entries",Zi=function(){return this},Vd=function(p,y,D,x,T,O,F){!function(p,y,D){var x=y+" Iterator";p.prototype=ci(bs,{next:Rr(1,D)}),ki(p,x,!1,!0),Xi[x]=ef}(D,y,x);var nt,lt,_t,B=function(je){if(je===T&&ie)return ie;if(!ko&&je in Q)return Q[je];switch(je){case"keys":case Lu:case ws:return function(){return new D(this,je)}}return function(){return new D(this)}},L=y+" Iterator",q=!1,Q=p.prototype,J=Q[ar]||Q["@@iterator"]||T&&Q[T],ie=!ko&&J||B(T),xe="Array"==y&&Q.entries||J;if(xe&&(nt=kc(xe.call(new p)),_s!==Object.prototype&&nt.next&&(ki(nt,L,!0,!0),Xi[L]=Zi)),T==Lu&&J&&J.name!==Lu&&(q=!0,ie=function(){return J.call(this)}),F&&Q[ar]!==ie&&Vn(Q,ar,ie),Xi[y]=ie,T)if(lt={values:B(Lu),keys:O?ie:B("keys"),entries:B(ws)},F)for(_t in lt)(ko||q||!(_t in Q))&&bl(Q,_t,lt[_t]);else pt({target:y,proto:!0,forced:ko||q},lt);return lt},tf="Array Iterator",jd=xo.set,Dp=xo.getterFor(tf);Vd(Array,"Array",function(p,y){jd(this,{type:tf,target:Ln(p),index:0,kind:y})},function(){var p=Dp(this),y=p.target,D=p.kind,x=p.index++;return!y||x>=y.length?(p.target=void 0,{value:void 0,done:!0}):"keys"==D?{value:x,done:!1}:"values"==D?{value:y[x],done:!1}:{value:[x,y[x]],done:!1}},"values"),Xi.Arguments=Xi.Array;var nf=or("toStringTag");for(var la in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var Tp=Xe[la],Mc=Tp&&Tp.prototype;Mc&&hi(Mc)!==nf&&Vn(Mc,nf,la),Xi[la]=Xi.Array}var Ac=function(p){return function(y,D){var F,B,x=String(ln(y)),T=vu(D),O=x.length;return T<0||T>=O?p?"":void 0:(F=x.charCodeAt(T))<55296||F>56319||T+1===O||(B=x.charCodeAt(T+1))<56320||B>57343?p?x.charAt(T):F:p?x.slice(T,T+2):B-56320+(F-55296<<10)+65536}},Ip=(Ac(!1),Ac(!0)),rf="String Iterator",kp=xo.set,zd=xo.getterFor(rf);Vd(String,"String",function(p){kp(this,{type:rf,string:String(p),index:0})},function(){var T,y=zd(this),D=y.string,x=y.index;return x>=D.length?{value:void 0,done:!0}:(T=Ip(D,x),y.index+=T.length,{value:T,done:!1})});var Zg=or("iterator"),Pc=function(p){if(null!=p)return p[Zg]||p["@@iterator"]||Xi[hi(p)]},Ht=function(p){var y=Pc(p);if("function"!=typeof y)throw TypeError(String(p)+" is not iterable");return In(y.call(p))},Nc=Pc,$d=function(p){var y=p.return;if(void 0!==y)return In(y.call(p)).value},Jg=function(p,y,D,x){try{return x?y(In(D)[0],D[1]):y(D)}catch(T){throw $d(p),T}},of=or("iterator"),ev=Array.prototype,Fc=function(p){return void 0!==p&&(Xi.Array===p||ev[of]===p)},Rc=or("iterator"),Wd=!1;try{var Gd=0,sf={next:function(){return{done:!!Gd++}},return:function(){Wd=!0}};sf[Rc]=function(){return this},Array.from(sf,function(){throw 2})}catch(p){}var Vu=!function(p,y){if(!Wd)return!1;var D=!1;try{var x={};x[Rc]=function(){return{next:function(){return{done:D=!0}}}},function(p){Array.from(p)}(x)}catch(T){}return D}();pt({target:"Array",stat:!0,forced:Vu},{from:function(y){var q,Q,J,ie,xe,nt,D=fn(y),x="function"==typeof this?this:Array,T=arguments.length,O=T>1?arguments[1]:void 0,F=void 0!==O,B=Pc(D),L=0;if(F&&(O=yr(O,T>2?arguments[2]:void 0,2)),null==B||x==Array&&Fc(B))for(Q=new x(q=An(D.length));q>L;L++)nt=F?O(D[L],L):D[L],Ce(Q,L,nt);else for(xe=(ie=B.call(D)).next,Q=new x;!(J=xe.call(ie)).done;L++)nt=F?Jg(ie,O,[J.value,L],!0):J.value,Ce(Q,L,nt);return Q.length=L,Q}});var Sp=rt.Array.from,$a=Sp;pt({target:"Array",proto:!0},{fill:function(y){for(var D=fn(this),x=An(D.length),T=arguments.length,O=li(T>1?arguments[1]:void 0,x),F=T>2?arguments[2]:void 0,B=void 0===F?x:li(F,x);B>O;)D[O++]=y;return D}}),sr("Array");var tv=[].slice,Op=/MSIE .\./.test(_u),Mp=function(p){return function(y,D){var x=arguments.length>2,T=x?tv.call(arguments,2):void 0;return p(x?function(){("function"==typeof y?y:Function(y)).apply(this,T)}:y,D)}};pt({global:!0,bind:!0,forced:Op},{setTimeout:Mp(Xe.setTimeout),setInterval:Mp(Xe.setInterval)});var uf=rt.setTimeout,Ji=La("JSON","stringify"),Vc=/[\uD800-\uDFFF]/g,Yd=/^[\uD800-\uDBFF]$/,lf=/^[\uDC00-\uDFFF]$/,wl=function(p,y,D){var x=D.charAt(y-1),T=D.charAt(y+1);return Yd.test(p)&&!lf.test(T)||lf.test(p)&&!Yd.test(x)?"\\u"+p.charCodeAt(0).toString(16):p},Ap=Re(function(){return'"\\udf06\\ud834"'!==Ji("\udf06\ud834")||'"\\udead"'!==Ji("\udead")});Ji&&pt({target:"JSON",stat:!0,forced:Ap},{stringify:function(y,D,x){var T=Ji.apply(null,arguments);return"string"==typeof T?T.replace(Vc,wl):T}}),rt.JSON||(rt.JSON={stringify:JSON.stringify});pt({target:"Object",stat:!0,sham:!Ve},{create:ci});var Pp=rt.Object,Qd=function(y,D){return Pp.create(y,D)},Zo=Qd;var p,ii=function(p,y,D){return y in p?$t(p,y,{value:D,enumerable:!0,configurable:!0,writable:!0}):p[y]=D,p},So="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",Dl="["+So+"]",Xd=RegExp("^"+Dl+Dl+"*"),Hu=RegExp(Dl+Dl+"*$"),cf=function(p){return function(y){var D=String(ln(y));return 1&p&&(D=D.replace(Xd,"")),2&p&&(D=D.replace(Hu,"")),D}},Zd={start:cf(1),end:cf(2),trim:cf(3)},xl=Zd.trim;pt({target:"String",proto:!0,forced:(p="trim",Re(function(){return!!So[p]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[p]()||So[p].name!==p}))},{trim:function(){return xl(this)}}),sr("String");var eh=Cu.indexOf,Tl=[].indexOf,Il=!!Tl&&1/[1].indexOf(1,-0)<0,Ai=Wi("indexOf"),Un=Xs("indexOf",{ACCESSORS:!0,1:0});pt({target:"Array",proto:!0,forced:Il||!Ai||!Un},{indexOf:function(y){return Il?Tl.apply(this,arguments)||0:eh(this,y,arguments.length>1?arguments[1]:void 0)}}),sr("Array");var Xn=Zd.trim,oi=Xe.parseInt,ff=/^[+-]?0[Xx]/,Ua=8!==oi(So+"08")||22!==oi(So+"0x16")?function(y,D){var x=Xn(String(y));return oi(x,D>>>0||(ff.test(x)?16:10))}:oi;pt({global:!0,forced:parseInt!=Ua},{parseInt:Ua});var Es=pu.f,zu=function(p){return function(y){for(var B,D=Ln(y),x=Or(D),T=x.length,O=0,F=[];T>O;)B=x[O++],(!Ve||Es.call(D,B))&&F.push(p?[B,D[B]]:D[B]);return F}},pf=(zu(!0),zu(!1));pt({target:"Object",stat:!0},{values:function(y){return pf(y)}});var $u=Re(function(){kc(1)});pt({target:"Object",stat:!0,forced:$u,sham:!Ep},{getPrototypeOf:function(y){return kc(fn(y))}});var da=rt.Object.getPrototypeOf,ha=Cu.includes,Hc=Xs("indexOf",{ACCESSORS:!0,1:0});pt({target:"Array",proto:!0,forced:!Hc},{includes:function(y){return ha(this,y,arguments.length>1?arguments[1]:void 0)}}),sr("Array");var gt=or("match"),Uu=function(p){if(function(p){var y;return ir(p)&&(void 0!==(y=p[gt])?!!y:"RegExp"==hn(p))}(p))throw TypeError("The method doesn't accept regular expressions");return p},yn=or("match");pt({target:"String",proto:!0,forced:!function(p){var y=/./;try{"/./"[p](y)}catch(D){try{return y[yn]=!1,"/./"[p](y)}catch(x){}}return!1}("includes")},{includes:function(y){return!!~String(ln(this)).indexOf(Uu(y),arguments.length>1?arguments[1]:void 0)}}),sr("String");var Wu=Object.assign,Wa=Object.defineProperty,Gu=!Wu||Re(function(){if(Ve&&1!==Wu({b:1},Wu(Wa({},"a",{enumerable:!0,get:function(){Wa(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var p={},y={},D=Symbol(),x="abcdefghijklmnopqrst";return p[D]=7,x.split("").forEach(function(T){y[T]=T}),7!=Wu({},p)[D]||Or(Wu({},y)).join("")!=x})?function(y,D){for(var x=fn(y),T=arguments.length,O=1,F=Bn.f,B=pu.f;T>O;)for(var ie,L=ei(arguments[O++]),q=F?Or(L).concat(F(L)):Or(L),Q=q.length,J=0;Q>J;)ie=q[J++],(!Ve||B.call(L,ie))&&(x[ie]=L[ie]);return x}:Wu;pt({target:"Object",stat:!0,forced:Object.assign!==Gu},{assign:Gu});var gf=rt.Object.assign,Ga=Id("splice"),Uc=Xs("splice",{ACCESSORS:!0,0:0,1:2}),Jn=Math.max,Wc=Math.min,Cs=9007199254740991,Gc="Maximum allowed length exceeded";pt({target:"Array",proto:!0,forced:!Ga||!Uc},{splice:function(y,D){var B,L,q,Q,J,ie,x=fn(this),T=An(x.length),O=li(y,T),F=arguments.length;if(0===F?B=L=0:1===F?(B=0,L=T-O):(B=F-2,L=Wc(Jn(vu(D),0),T-O)),T+B-L>Cs)throw TypeError(Gc);for(q=xd(x,L),Q=0;Q<L;Q++)(J=O+Q)in x&&Ce(q,Q,x[J]);if(q.length=L,B<L){for(Q=O;Q<T-L;Q++)ie=Q+B,(J=Q+L)in x?x[ie]=x[J]:delete x[ie];for(Q=T;Q>T-L+B;Q--)delete x[Q-1]}else if(B>L)for(Q=T-L;Q>O;Q--)ie=Q+B-1,(J=Q+L-1)in x?x[ie]=x[J]:delete x[ie];for(Q=0;Q<B;Q++)x[Q+O]=arguments[Q+2];return x.length=T-L+B,q}});var qc=sr("Array").splice,Ur=Array.prototype,fa=function(p){var y=p.splice;return p===Ur||p instanceof Array&&y===Ur.splice?qc:y},ai=[].reverse,Sl=[1,2];pt({target:"Array",proto:!0,forced:String(Sl)===String(Sl.reverse())},{reverse:function(){return Gs(this)&&(this.length=this.length),ai.call(this)}});var Ol=sr("Array").reverse,Ml=Array.prototype,Wr=Wt.forEach,Mo=Wi("forEach"),ur=Xs("forEach"),Al=Mo&&ur?[].forEach:function(y){return Wr(this,y,arguments.length>1?arguments[1]:void 0)};pt({target:"Array",proto:!0,forced:[].forEach!=Al},{forEach:Al});var Np=sr("Array").forEach,Pl=Array.prototype,eo={DOMTokenList:!0,NodeList:!0},no=function(p){var y=p.forEach;return p===Pl||p instanceof Array&&y===Pl.forEach||eo.hasOwnProperty(hi(p))?Np:y};pt({target:"Array",stat:!0},{isArray:Gs});var qu=rt.Array.isArray,Ts=qu;var Gr=function(p){if(Ts(p))return p},qa=or("iterator"),Fp=function(p){var y=Object(p);return void 0!==y[qa]||"@@iterator"in y||Xi.hasOwnProperty(hi(y))},ih=or("isConcatSpreadable"),Yu=9007199254740991,oh="Maximum allowed index exceeded",Nl=gc>=51||!Re(function(){var p=[];return p[ih]=!1,p.concat()[0]!==p}),Ao=Id("concat"),ga=function(p){if(!ir(p))return!1;var y=p[ih];return void 0!==y?!!y:Gs(p)};pt({target:"Array",proto:!0,forced:!Nl||!Ao},{concat:function(y){var O,F,B,L,q,D=fn(this),x=xd(D,0),T=0;for(O=-1,B=arguments.length;O<B;O++)if(ga(q=-1===O?D:arguments[O])){if(T+(L=An(q.length))>Yu)throw TypeError(oh);for(F=0;F<L;F++,T++)F in q&&Ce(x,T,q[F])}else{if(T>=Yu)throw TypeError(oh);Ce(x,T++,q)}return x.length=T,x}}),Kn("asyncIterator"),Kn("hasInstance"),Kn("isConcatSpreadable"),Kn("iterator"),Kn("match"),Kn("matchAll"),Kn("replace"),Kn("search"),Kn("species"),Kn("split"),Kn("toPrimitive"),Kn("toStringTag"),Kn("unscopables"),ki(Xe.JSON,"JSON",!0);var At=rt.Symbol;Kn("asyncDispose"),Kn("dispose"),Kn("observable"),Kn("patternMatch"),Kn("replaceAll");var Qu=At;var Fl=function(p,y){if(void 0!==Qu&&Fp(Object(p))){var D=[],x=!0,T=!1,O=void 0;try{for(var B,F=Ht(p);!(x=(B=F.next()).done)&&(D.push(B.value),!y||D.length!==y);x=!0);}catch(L){T=!0,O=L}finally{try{!x&&null!=F.return&&F.return()}finally{if(T)throw O}}return D}},Qc=Sp,mf=Id("slice"),iv=Xs("slice",{ACCESSORS:!0,0:0,1:2}),Rl=or("species"),Jo=[].slice,Is=Math.max;pt({target:"Array",proto:!0,forced:!mf||!iv},{slice:function(y,D){var B,L,q,x=Ln(this),T=An(x.length),O=li(y,T),F=li(void 0===D?T:D,T);if(Gs(x)&&("function"!=typeof(B=x.constructor)||B!==Array&&!Gs(B.prototype)?ir(B)&&null===(B=B[Rl])&&(B=void 0):B=void 0,B===Array||void 0===B))return Jo.call(x,O,F);for(L=new(void 0===B?Array:B)(Is(F-O,0)),q=0;O<F;O++,q++)O in x&&Ce(L,q,x[O]);return L.length=q,L}});var Ni=sr("Array").slice,yf=Array.prototype,io=function(p){var y=p.slice;return p===yf||p instanceof Array&&y===yf.slice?Ni:y},Ya=io;var va=function(p,y){(null==y||y>p.length)&&(y=p.length);for(var D=0,x=new Array(y);D<y;D++)x[D]=p[D];return x};var ma=function(p,y){var D;if(p){if("string"==typeof p)return va(p,y);var x=Ya(D=Object.prototype.toString.call(p)).call(D,8,-1);if("Object"===x&&p.constructor&&(x=p.constructor.name),"Map"===x||"Set"===x)return Qc(p);if("Arguments"===x||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return va(p,y)}};var Vp=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")};var qr=function(p,y){return Gr(p)||Fl(p,y)||ma(p,y)||Vp()};pt({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}});var ov=Re(function(){Or(1)});pt({target:"Object",stat:!0,forced:ov},{keys:function(y){return Or(fn(y))}});var uh=rt.Object.keys,Nr=qu,ks=Do.f("iterator"),_f=ks,oo=tn(function(p){function y(D){return p.exports=y="function"==typeof Qu&&"symbol"==typeof _f?function(T){return typeof T}:function(T){return T&&"function"==typeof Qu&&T.constructor===Qu&&T!==Qu.prototype?"symbol":typeof T},y(D)}p.exports=y});pt({target:"Reflect",stat:!0},{ownKeys:Gi});var Xc=rt.Reflect.ownKeys,Ku=io;var Ef=function(p){if(Ts(p))return va(p)};var ch=function(p){if(void 0!==Qu&&Fp(Object(p)))return Qc(p)};var Hp=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")};var Gt=function(p){return Ef(p)||ch(p)||ma(p)||Hp()},dh=sr("Array").concat,hh=Array.prototype,es=function(p){var y=p.concat;return p===hh||p instanceof Array&&y===hh.concat?dh:y},Xa=At,Wp=tn(function(p){function y(x){if(x)return function(x){for(var T in y.prototype)x[T]=y.prototype[T];return x}(x)}p.exports=y,y.prototype.on=y.prototype.addEventListener=function(x,T){return this._callbacks=this._callbacks||{},(this._callbacks["$"+x]=this._callbacks["$"+x]||[]).push(T),this},y.prototype.once=function(x,T){function O(){this.off(x,O),T.apply(this,arguments)}return O.fn=T,this.on(x,O),this},y.prototype.off=y.prototype.removeListener=y.prototype.removeAllListeners=y.prototype.removeEventListener=function(x,T){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var O=this._callbacks["$"+x];if(!O)return this;if(1==arguments.length)return delete this._callbacks["$"+x],this;for(var F,B=0;B<O.length;B++)if((F=O[B])===T||F.fn===T){O.splice(B,1);break}return 0===O.length&&delete this._callbacks["$"+x],this},y.prototype.emit=function(x){this._callbacks=this._callbacks||{};for(var T=new Array(arguments.length-1),O=this._callbacks["$"+x],F=1;F<arguments.length;F++)T[F-1]=arguments[F];if(O){F=0;for(var B=(O=O.slice(0)).length;F<B;++F)O[F].apply(this,T)}return this},y.prototype.listeners=function(x){return this._callbacks=this._callbacks||{},this._callbacks["$"+x]||[]},y.prototype.hasListeners=function(x){return!!this.listeners(x).length}});function ts(){return(ts=Object.assign||function(p){for(var y=1;y<arguments.length;y++){var D=arguments[y];for(var x in D)Object.prototype.hasOwnProperty.call(D,x)&&(p[x]=D[x])}return p}).apply(this,arguments)}function Cn(p,y){p.prototype=Object.create(y.prototype),p.prototype.constructor=p,p.__proto__=y}function Ss(p){if(void 0===p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}var Ja,ao="function"!=typeof Object.assign?function(y){if(null==y)throw new TypeError("Cannot convert undefined or null to object");for(var D=Object(y),x=1;x<arguments.length;x++){var T=arguments[x];if(null!=T)for(var O in T)T.hasOwnProperty(O)&&(D[O]=T[O])}return D}:Object.assign,Bl=["","webkit","Moz","MS","ms","o"],Df="undefined"==typeof document?{style:{}}:document.createElement("div"),Po=Math.round,Za=Math.abs,fh=Date.now;function Zc(p,y){for(var D,x,T=y[0].toUpperCase()+y.slice(1),O=0;O<Bl.length;){if((x=(D=Bl[O])?D+T:y)in p)return x;O++}}Ja="undefined"==typeof window?{}:window;var Gp=Zc(Df.style,"touchAction"),xf=void 0!==Gp;var Jc="compute",ya="manipulation",Xu="none",Hl="pan-x",zl="pan-y",$l=function(){if(!xf)return!1;var p={},y=Ja.CSS&&Ja.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(D){return p[D]=!y||Ja.CSS.supports("touch-action",D)}),p}(),Nn="ontouchstart"in Ja,qp=void 0!==Zc(Ja,"PointerEvent"),Xt=Nn&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Cr="touch",gh="mouse",ed=["x","y"],Gl=["clientX","clientY"];function ns(p,y,D){var x;if(p)if(p.forEach)p.forEach(y,D);else if(void 0!==p.length)for(x=0;x<p.length;)y.call(D,p[x],x,p),x++;else for(x in p)p.hasOwnProperty(x)&&y.call(D,p[x],x,p)}function lr(p,y){return"function"==typeof p?p.apply(y&&y[0]||void 0,y):p}function Fi(p,y){return p.indexOf(y)>-1}var en=function(){function p(D,x){this.manager=D,this.set(x)}var y=p.prototype;return y.set=function(x){x===Jc&&(x=this.compute()),xf&&this.manager.element.style&&$l[x]&&(this.manager.element.style[Gp]=x),this.actions=x.toLowerCase().trim()},y.update=function(){this.set(this.manager.options.touchAction)},y.compute=function(){var x=[];return ns(this.manager.recognizers,function(T){lr(T.options.enable,[T])&&(x=x.concat(T.getTouchAction()))}),function(p){if(Fi(p,Xu))return Xu;var y=Fi(p,Hl),D=Fi(p,zl);return y&&D?Xu:y||D?y?Hl:zl:Fi(p,ya)?ya:"auto"}(x.join(" "))},y.preventDefaults=function(x){var T=x.srcEvent,O=x.offsetDirection;if(!this.manager.session.prevented){var F=this.actions,B=Fi(F,Xu)&&!$l[Xu],L=Fi(F,zl)&&!$l[zl],q=Fi(F,Hl)&&!$l[Hl];if(B&&1===x.pointers.length&&x.distance<2&&x.deltaTime<250)return;return q&&L||!(B||L&&6&O||q&&24&O)?void 0:this.preventSrc(T)}T.preventDefault()},y.preventSrc=function(x){this.manager.session.prevented=!0,x.preventDefault()},p}();function ql(p,y){for(;p;){if(p===y)return!0;p=p.parentNode}return!1}function Sf(p){var y=p.length;if(1===y)return{x:Po(p[0].clientX),y:Po(p[0].clientY)};for(var D=0,x=0,T=0;T<y;)D+=p[T].clientX,x+=p[T].clientY,T++;return{x:Po(D/y),y:Po(x/y)}}function Of(p){for(var y=[],D=0;D<p.pointers.length;)y[D]={clientX:Po(p.pointers[D].clientX),clientY:Po(p.pointers[D].clientY)},D++;return{timeStamp:fh(),pointers:y,center:Sf(y),deltaX:p.deltaX,deltaY:p.deltaY}}function td(p,y,D){D||(D=ed);var x=y[D[0]]-p[D[0]],T=y[D[1]]-p[D[1]];return Math.sqrt(x*x+T*T)}function mh(p,y,D){return D||(D=ed),180*Math.atan2(y[D[1]]-p[D[1]],y[D[0]]-p[D[0]])/Math.PI}function Dn(p,y){return p===y?1:Za(p)>=Za(y)?p<0?2:4:y<0?8:16}function Yp(p,y,D){return{x:y/p||0,y:D/p||0}}function nd(p,y){var D=p.session,x=y.pointers,T=x.length;D.firstInput||(D.firstInput=Of(y)),T>1&&!D.firstMultiple?D.firstMultiple=Of(y):1===T&&(D.firstMultiple=!1);var O=D.firstInput,F=D.firstMultiple,B=F?F.center:O.center,L=y.center=Sf(x);y.timeStamp=fh(),y.deltaTime=y.timeStamp-O.timeStamp,y.angle=mh(B,L),y.distance=td(B,L),function(p,y){var D=y.center,x=p.offsetDelta||{},T=p.prevDelta||{},O=p.prevInput||{};(1===y.eventType||4===O.eventType)&&(T=p.prevDelta={x:O.deltaX||0,y:O.deltaY||0},x=p.offsetDelta={x:D.x,y:D.y}),y.deltaX=T.x+(D.x-x.x),y.deltaY=T.y+(D.y-x.y)}(D,y),y.offsetDirection=Dn(y.deltaX,y.deltaY);var q=Yp(y.deltaTime,y.deltaX,y.deltaY);y.overallVelocityX=q.x,y.overallVelocityY=q.y,y.overallVelocity=Za(q.x)>Za(q.y)?q.x:q.y,y.scale=F?function(p,y){return td(y[0],y[1],Gl)/td(p[0],p[1],Gl)}(F.pointers,x):1,y.rotation=F?function(p,y){return mh(y[1],y[0],Gl)+mh(p[1],p[0],Gl)}(F.pointers,x):0,y.maxPointers=D.prevInput?y.pointers.length>D.prevInput.maxPointers?y.pointers.length:D.prevInput.maxPointers:y.pointers.length,function(p,y){var T,O,F,B,D=p.lastInterval||y,x=y.timeStamp-D.timeStamp;if(8!==y.eventType&&(x>25||void 0===D.velocity)){var L=y.deltaX-D.deltaX,q=y.deltaY-D.deltaY,Q=Yp(x,L,q);O=Q.x,F=Q.y,T=Za(Q.x)>Za(Q.y)?Q.x:Q.y,B=Dn(L,q),p.lastInterval=y}else T=D.velocity,O=D.velocityX,F=D.velocityY,B=D.direction;y.velocity=T,y.velocityX=O,y.velocityY=F,y.direction=B}(D,y);var ie,Q=p.element,J=y.srcEvent;ql(ie=J.composedPath?J.composedPath()[0]:J.path?J.path[0]:J.target,Q)&&(Q=ie),y.target=Q}function Ms(p,y,D){var x=D.pointers.length,T=D.changedPointers.length,O=1&y&&x-T==0,F=12&y&&x-T==0;D.isFirst=!!O,D.isFinal=!!F,O&&(p.session={}),D.eventType=y,nd(p,D),p.emit("hammer.input",D),p.recognize(D),p.session.prevInput=D}function rd(p){return p.trim().split(/\s+/g)}function eu(p,y,D){ns(rd(y),function(x){p.addEventListener(x,D,!1)})}function ba(p,y,D){ns(rd(y),function(x){p.removeEventListener(x,D,!1)})}function Nf(p){var y=p.ownerDocument||p;return y.defaultView||y.parentWindow||window}var tu=function(){function p(D,x){var T=this;this.manager=D,this.callback=x,this.element=D.element,this.target=D.options.inputTarget,this.domHandler=function(O){lr(D.options.enable,[D])&&T.handler(O)},this.init()}var y=p.prototype;return y.handler=function(){},y.init=function(){this.evEl&&eu(this.element,this.evEl,this.domHandler),this.evTarget&&eu(this.target,this.evTarget,this.domHandler),this.evWin&&eu(Nf(this.element),this.evWin,this.domHandler)},y.destroy=function(){this.evEl&&ba(this.element,this.evEl,this.domHandler),this.evTarget&&ba(this.target,this.evTarget,this.domHandler),this.evWin&&ba(Nf(this.element),this.evWin,this.domHandler)},p}();function Ri(p,y,D){if(p.indexOf&&!D)return p.indexOf(y);for(var x=0;x<p.length;){if(D&&p[x][D]==y||!D&&p[x]===y)return x;x++}return-1}var Qp={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},As={2:Cr,3:"pen",4:gh,5:"kinect"},Kp="pointerdown",Ff="pointermove pointerup pointercancel";Ja.MSPointerEvent&&!Ja.PointerEvent&&(Kp="MSPointerDown",Ff="MSPointerMove MSPointerUp MSPointerCancel");var Xp=function(p){function y(){var x,T=y.prototype;return T.evEl=Kp,T.evWin=Ff,(x=p.apply(this,arguments)||this).store=x.manager.session.pointerEvents=[],x}return Cn(y,p),y.prototype.handler=function(T){var O=this.store,F=!1,B=T.type.toLowerCase().replace("ms",""),L=Qp[B],q=As[T.pointerType]||T.pointerType,Q=q===Cr,J=Ri(O,T.pointerId,"pointerId");1&L&&(0===T.button||Q)?J<0&&(O.push(T),J=O.length-1):12&L&&(F=!0),!(J<0)&&(O[J]=T,this.callback(this.manager,L,{pointers:O,changedPointers:[T],pointerType:q,srcEvent:T}),F&&O.splice(J,1))},y}(tu);function nu(p){return Array.prototype.slice.call(p,0)}function vi(p,y,D){for(var x=[],T=[],O=0;O<p.length;){var F=y?p[O][y]:p[O];Ri(T,F)<0&&x.push(p[O]),T[O]=F,O++}return D&&(x=y?x.sort(function(B,L){return B[y]>L[y]}):x.sort()),x}var v={touchstart:1,touchmove:2,touchend:4,touchcancel:8},_="touchstart touchmove touchend touchcancel",w=function(p){function y(){var x;return y.prototype.evTarget=_,(x=p.apply(this,arguments)||this).targetIds={},x}return Cn(y,p),y.prototype.handler=function(T){var O=v[T.type],F=E.call(this,T,O);!F||this.callback(this.manager,O,{pointers:F[0],changedPointers:F[1],pointerType:Cr,srcEvent:T})},y}(tu);function E(p,y){var D=nu(p.touches),x=this.targetIds;if(3&y&&1===D.length)return x[D[0].identifier]=!0,[D,D];var T,O,F=nu(p.changedTouches),B=[],L=this.target;if(O=D.filter(function(q){return ql(q.target,L)}),1===y)for(T=0;T<O.length;)x[O[T].identifier]=!0,T++;for(T=0;T<F.length;)x[F[T].identifier]&&B.push(F[T]),12&y&&delete x[F[T].identifier],T++;return B.length?[vi(O.concat(B),"identifier",!0),B]:void 0}var S={mousedown:1,mousemove:2,mouseup:4},N="mousedown",R="mousemove mouseup",j=function(p){function y(){var x,T=y.prototype;return T.evEl=N,T.evWin=R,(x=p.apply(this,arguments)||this).pressed=!1,x}return Cn(y,p),y.prototype.handler=function(T){var O=S[T.type];1&O&&0===T.button&&(this.pressed=!0),2&O&&1!==T.which&&(O=4),this.pressed&&(4&O&&(this.pressed=!1),this.callback(this.manager,O,{pointers:[T],changedPointers:[T],pointerType:gh,srcEvent:T}))},y}(tu);function re(p){var D=p.changedPointers[0];if(D.identifier===this.primaryTouch){var x={x:D.clientX,y:D.clientY},T=this.lastTouches;this.lastTouches.push(x),setTimeout(function(){var B=T.indexOf(x);B>-1&&T.splice(B,1)},2500)}}function se(p,y){1&p?(this.primaryTouch=y.changedPointers[0].identifier,re.call(this,y)):12&p&&re.call(this,y)}function Ie(p){for(var y=p.srcEvent.clientX,D=p.srcEvent.clientY,x=0;x<this.lastTouches.length;x++){var T=this.lastTouches[x],O=Math.abs(y-T.x),F=Math.abs(D-T.y);if(O<=25&&F<=25)return!0}return!1}var Oe=function(){return function(y){function D(T,O){var F;return(F=y.call(this,T,O)||this).handler=function(B,L,q){var J=q.pointerType===gh;if(!(J&&q.sourceCapabilities&&q.sourceCapabilities.firesTouchEvents)){if(q.pointerType===Cr)se.call(Ss(Ss(F)),L,q);else if(J&&Ie.call(Ss(Ss(F)),q))return;F.callback(B,L,q)}},F.touch=new w(F.manager,F.handler),F.mouse=new j(F.manager,F.handler),F.primaryTouch=null,F.lastTouches=[],F}return Cn(D,y),D.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},D}(tu)}();function Ae(p,y,D){return!!Array.isArray(p)&&(ns(p,D[y],D),!0)}var Li=1;function Yr(p,y){var D=y.manager;return D?D.get(p):p}function Ro(p){return 16&p?"cancel":8&p?"end":4&p?"move":2&p?"start":""}var co=function(){function p(D){void 0===D&&(D={}),this.options=ts({enable:!0},D),this.id=Li++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var y=p.prototype;return y.set=function(x){return ao(this.options,x),this.manager&&this.manager.touchAction.update(),this},y.recognizeWith=function(x){if(Ae(x,"recognizeWith",this))return this;var T=this.simultaneous;return T[(x=Yr(x,this)).id]||(T[x.id]=x,x.recognizeWith(this)),this},y.dropRecognizeWith=function(x){return Ae(x,"dropRecognizeWith",this)||(x=Yr(x,this),delete this.simultaneous[x.id]),this},y.requireFailure=function(x){if(Ae(x,"requireFailure",this))return this;var T=this.requireFail;return-1===Ri(T,x=Yr(x,this))&&(T.push(x),x.requireFailure(this)),this},y.dropRequireFailure=function(x){if(Ae(x,"dropRequireFailure",this))return this;x=Yr(x,this);var T=Ri(this.requireFail,x);return T>-1&&this.requireFail.splice(T,1),this},y.hasRequireFailures=function(){return this.requireFail.length>0},y.canRecognizeWith=function(x){return!!this.simultaneous[x.id]},y.emit=function(x){var T=this,O=this.state;function F(B){T.manager.emit(B,x)}O<8&&F(T.options.event+Ro(O)),F(T.options.event),x.additionalEvent&&F(x.additionalEvent),O>=8&&F(T.options.event+Ro(O))},y.tryEmit=function(x){if(this.canEmit())return this.emit(x);this.state=32},y.canEmit=function(){for(var x=0;x<this.requireFail.length;){if(!(33&this.requireFail[x].state))return!1;x++}return!0},y.recognize=function(x){var T=ao({},x);if(!lr(this.options.enable,[this,T]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(T),30&this.state&&this.tryEmit(T)},y.process=function(x){},y.getTouchAction=function(){},y.reset=function(){},p}(),Ju=function(p){function y(x){var T;return void 0===x&&(x={}),(T=p.call(this,ts({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},x))||this).pTime=!1,T.pCenter=!1,T._timer=null,T._input=null,T.count=0,T}Cn(y,p);var D=y.prototype;return D.getTouchAction=function(){return[ya]},D.process=function(T){var O=this,F=this.options,B=T.pointers.length===F.pointers,L=T.distance<F.threshold,q=T.deltaTime<F.time;if(this.reset(),1&T.eventType&&0===this.count)return this.failTimeout();if(L&&q&&B){if(4!==T.eventType)return this.failTimeout();var Q=!this.pTime||T.timeStamp-this.pTime<F.interval,J=!this.pCenter||td(this.pCenter,T.center)<F.posThreshold;if(this.pTime=T.timeStamp,this.pCenter=T.center,J&&Q?this.count+=1:this.count=1,this._input=T,0==this.count%F.taps)return this.hasRequireFailures()?(this._timer=setTimeout(function(){O.state=8,O.tryEmit()},F.interval),2):8}return 32},D.failTimeout=function(){var T=this;return this._timer=setTimeout(function(){T.state=32},this.options.interval),32},D.reset=function(){clearTimeout(this._timer)},D.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},y}(co),mi=function(p){function y(x){return void 0===x&&(x={}),p.call(this,ts({pointers:1},x))||this}Cn(y,p);var D=y.prototype;return D.attrTest=function(T){var O=this.options.pointers;return 0===O||T.pointers.length===O},D.process=function(T){var O=this.state,F=T.eventType,B=6&O,L=this.attrTest(T);return B&&(8&F||!L)?16|O:B||L?4&F?8|O:2&O?4|O:2:32},y}(co);function bh(p){return 16===p?"down":8===p?"up":2===p?"left":4===p?"right":""}var el=function(p){function y(x){var T;return void 0===x&&(x={}),(T=p.call(this,ts({event:"pan",threshold:10,pointers:1,direction:30},x))||this).pX=null,T.pY=null,T}Cn(y,p);var D=y.prototype;return D.getTouchAction=function(){var T=this.options.direction,O=[];return 6&T&&O.push(zl),24&T&&O.push(Hl),O},D.directionTest=function(T){var O=this.options,F=!0,B=T.distance,L=T.direction,q=T.deltaX,Q=T.deltaY;return L&O.direction||(6&O.direction?(L=0===q?1:q<0?2:4,F=q!==this.pX,B=Math.abs(T.deltaX)):(L=0===Q?1:Q<0?8:16,F=Q!==this.pY,B=Math.abs(T.deltaY))),T.direction=L,F&&B>O.threshold&&L&O.direction},D.attrTest=function(T){return mi.prototype.attrTest.call(this,T)&&(2&this.state||!(2&this.state)&&this.directionTest(T))},D.emit=function(T){this.pX=T.deltaX,this.pY=T.deltaY;var O=bh(T.direction);O&&(T.additionalEvent=this.options.event+O),p.prototype.emit.call(this,T)},y}(mi),id=function(p){function y(x){return void 0===x&&(x={}),p.call(this,ts({event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},x))||this}Cn(y,p);var D=y.prototype;return D.getTouchAction=function(){return el.prototype.getTouchAction.call(this)},D.attrTest=function(T){var F,O=this.options.direction;return 30&O?F=T.overallVelocity:6&O?F=T.overallVelocityX:24&O&&(F=T.overallVelocityY),p.prototype.attrTest.call(this,T)&&O&T.offsetDirection&&T.distance>this.options.threshold&&T.maxPointers===this.options.pointers&&Za(F)>this.options.velocity&&4&T.eventType},D.emit=function(T){var O=bh(T.offsetDirection);O&&this.manager.emit(this.options.event+O,T),this.manager.emit(this.options.event,T)},y}(mi),De=function(p){function y(x){return void 0===x&&(x={}),p.call(this,ts({event:"pinch",threshold:0,pointers:2},x))||this}Cn(y,p);var D=y.prototype;return D.getTouchAction=function(){return[Xu]},D.attrTest=function(T){return p.prototype.attrTest.call(this,T)&&(Math.abs(T.scale-1)>this.options.threshold||2&this.state)},D.emit=function(T){1!==T.scale&&(T.additionalEvent=this.options.event+(T.scale<1?"in":"out")),p.prototype.emit.call(this,T)},y}(mi),_e=function(p){function y(x){return void 0===x&&(x={}),p.call(this,ts({event:"rotate",threshold:0,pointers:2},x))||this}Cn(y,p);var D=y.prototype;return D.getTouchAction=function(){return[Xu]},D.attrTest=function(T){return p.prototype.attrTest.call(this,T)&&(Math.abs(T.rotation)>this.options.threshold||2&this.state)},y}(mi),vt=function(p){function y(x){var T;return void 0===x&&(x={}),(T=p.call(this,ts({event:"press",pointers:1,time:251,threshold:9},x))||this)._timer=null,T._input=null,T}Cn(y,p);var D=y.prototype;return D.getTouchAction=function(){return["auto"]},D.process=function(T){var O=this,F=this.options,B=T.pointers.length===F.pointers,L=T.distance<F.threshold,q=T.deltaTime>F.time;if(this._input=T,!L||!B||12&T.eventType&&!q)this.reset();else if(1&T.eventType)this.reset(),this._timer=setTimeout(function(){O.state=8,O.tryEmit()},F.time);else if(4&T.eventType)return 8;return 32},D.reset=function(){clearTimeout(this._timer)},D.emit=function(T){8===this.state&&(T&&4&T.eventType?this.manager.emit(this.options.event+"up",T):(this._input.timeStamp=fh(),this.manager.emit(this.options.event,this._input)))},y}(co),Pt={domEvents:!1,touchAction:Jc,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},tt=[[_e,{enable:!1}],[De,{enable:!1},["rotate"]],[id,{direction:6}],[el,{direction:6},["swipe"]],[Ju],[Ju,{event:"doubletap",taps:2},["tap"]],[vt]];function Fn(p,y){var x,D=p.element;D.style&&(ns(p.options.cssProps,function(T,O){x=Zc(D.style,O),y?(p.oldCssProps[x]=D.style[x],D.style[x]=T):D.style[x]=p.oldCssProps[x]||""}),y||(p.oldCssProps={}))}var an=function(){function p(D,x){var T=this;this.options=ao({},Pt,x||{}),this.options.inputTarget=this.options.inputTarget||D,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=D,this.input=function(p){return new(p.options.inputClass||(qp?Xp:Xt?w:Nn?Oe:j))(p,Ms)}(this),this.touchAction=new en(this,this.options.touchAction),Fn(this,!0),ns(this.options.recognizers,function(O){var F=T.add(new O[0](O[1]));O[2]&&F.recognizeWith(O[2]),O[3]&&F.requireFailure(O[3])},this)}var y=p.prototype;return y.set=function(x){return ao(this.options,x),x.touchAction&&this.touchAction.update(),x.inputTarget&&(this.input.destroy(),this.input.target=x.inputTarget,this.input.init()),this},y.stop=function(x){this.session.stopped=x?2:1},y.recognize=function(x){var T=this.session;if(!T.stopped){this.touchAction.preventDefaults(x);var O,F=this.recognizers,B=T.curRecognizer;(!B||B&&8&B.state)&&(T.curRecognizer=null,B=null);for(var L=0;L<F.length;)O=F[L],2===T.stopped||B&&O!==B&&!O.canRecognizeWith(B)?O.reset():O.recognize(x),!B&&14&O.state&&(T.curRecognizer=O,B=O),L++}},y.get=function(x){if(x instanceof co)return x;for(var T=this.recognizers,O=0;O<T.length;O++)if(T[O].options.event===x)return T[O];return null},y.add=function(x){if(Ae(x,"add",this))return this;var T=this.get(x.options.event);return T&&this.remove(T),this.recognizers.push(x),x.manager=this,this.touchAction.update(),x},y.remove=function(x){if(Ae(x,"remove",this))return this;var T=this.get(x);if(x){var O=this.recognizers,F=Ri(O,T);-1!==F&&(O.splice(F,1),this.touchAction.update())}return this},y.on=function(x,T){if(void 0===x||void 0===T)return this;var O=this.handlers;return ns(rd(x),function(F){O[F]=O[F]||[],O[F].push(T)}),this},y.off=function(x,T){if(void 0===x)return this;var O=this.handlers;return ns(rd(x),function(F){T?O[F]&&O[F].splice(Ri(O[F],T),1):delete O[F]}),this},y.emit=function(x,T){this.options.domEvents&&function(p,y){var D=document.createEvent("Event");D.initEvent(p,!0,!0),D.gesture=y,y.target.dispatchEvent(D)}(x,T);var O=this.handlers[x]&&this.handlers[x].slice();if(O&&O.length){T.type=x,T.preventDefault=function(){T.srcEvent.preventDefault()};for(var F=0;F<O.length;)O[F](T),F++}},y.destroy=function(){this.element&&Fn(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},p}(),ho={touchstart:1,touchmove:2,touchend:4,touchcancel:8},Lo="touchstart",_h="touchstart touchmove touchend touchcancel",ru=function(p){function y(){var x,T=y.prototype;return T.evTarget=Lo,T.evWin=_h,(x=p.apply(this,arguments)||this).started=!1,x}return Cn(y,p),y.prototype.handler=function(T){var O=ho[T.type];if(1===O&&(this.started=!0),this.started){var F=wh.call(this,T,O);12&O&&F[0].length-F[1].length==0&&(this.started=!1),this.callback(this.manager,O,{pointers:F[0],changedPointers:F[1],pointerType:Cr,srcEvent:T})}},y}(tu);function wh(p,y){var D=nu(p.touches),x=nu(p.changedTouches);return 12&y&&(D=vi(D.concat(x),"identifier",!0)),[D,x]}function iu(p,y,D){var x="DEPRECATED METHOD: "+y+"\n"+D+" AT \n";return function(){var T=new Error("get-stack-trace"),O=T&&T.stack?T.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",F=window.console&&(window.console.warn||window.console.log);return F&&F.call(window.console,x,O),p.apply(this,arguments)}}var Qt=iu(function(p,y,D){for(var x=Object.keys(y),T=0;T<x.length;)(!D||D&&void 0===p[x[T]])&&(p[x[T]]=y[x[T]]),T++;return p},"extend","Use `assign`."),Zp=iu(function(p,y){return Qt(p,y,!0)},"merge","Use `assign`.");function fm(p,y,D){var T,x=y.prototype;(T=p.prototype=Object.create(x)).constructor=p,T._super=x,D&&ao(T,D)}function sv(p,y){return function(){return p.apply(y,arguments)}}var pm=function(){var p=function(D,x){return void 0===x&&(x={}),new an(D,ts({recognizers:tt.concat()},x))};return p.VERSION="2.0.17-rc",p.DIRECTION_ALL=30,p.DIRECTION_DOWN=16,p.DIRECTION_LEFT=2,p.DIRECTION_RIGHT=4,p.DIRECTION_UP=8,p.DIRECTION_HORIZONTAL=6,p.DIRECTION_VERTICAL=24,p.DIRECTION_NONE=1,p.DIRECTION_DOWN=16,p.INPUT_START=1,p.INPUT_MOVE=2,p.INPUT_END=4,p.INPUT_CANCEL=8,p.STATE_POSSIBLE=1,p.STATE_BEGAN=2,p.STATE_CHANGED=4,p.STATE_ENDED=8,p.STATE_RECOGNIZED=8,p.STATE_CANCELLED=16,p.STATE_FAILED=32,p.Manager=an,p.Input=tu,p.TouchAction=en,p.TouchInput=w,p.MouseInput=j,p.PointerEventInput=Xp,p.TouchMouseInput=Oe,p.SingleTouchInput=ru,p.Recognizer=co,p.AttrRecognizer=mi,p.Tap=Ju,p.Pan=el,p.Swipe=id,p.Pinch=De,p.Rotate=_e,p.Press=vt,p.on=eu,p.off=ba,p.each=ns,p.merge=Zp,p.extend=Qt,p.bindFn=sv,p.assign=ao,p.inherit=fm,p.bindFn=sv,p.prefixed=Zc,p.toArray=nu,p.inArray=Ri,p.uniqueArray=vi,p.splitStr=rd,p.boolOrFn=lr,p.hasParent=ql,p.addEventListeners=eu,p.removeEventListeners=ba,p.defaults=ao({},Pt,{preset:tt}),p}();function Jp(p,y){var D;if(void 0===Xa||null==Nc(p)){if(Nr(p)||(D=function(p,y){var D;if(p){if("string"==typeof p)return av(p,y);var x=Ku(D=Object.prototype.toString.call(p)).call(D,8,-1);if("Object"===x&&p.constructor&&(x=p.constructor.name),"Map"===x||"Set"===x)return $a(p);if("Arguments"===x||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return av(p,y)}}(p))||y&&p&&"number"==typeof p.length){D&&(p=D);var x=0,T=function(){};return{s:T,n:function(){return x>=p.length?{done:!0}:{done:!1,value:p[x++]}},e:function(q){throw q},f:T}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var B,O=!0,F=!1;return{s:function(){D=Ht(p)},n:function(){var q=D.next();return O=q.done,q},e:function(q){F=!0,B=q},f:function(){try{!O&&null!=D.return&&D.return()}finally{if(F)throw B}}}}function av(p,y){(null==y||y>p.length)&&(y=p.length);for(var D=0,x=new Array(y);D<y;D++)x[D]=p[D];return x}var Eh=Xa("DELETE");function uv(){var p=sd.apply(void 0,arguments);return tg(p),p}function sd(){for(var p=arguments.length,y=new Array(p),D=0;D<p;D++)y[D]=arguments[D];if(y.length<2)return y[0];var x;if(y.length>2)return sd.apply(void 0,es(x=[uv(y[0],y[1])]).call(x,Gt(Ku(y).call(y,2))));var B,T=y[0],O=y[1],F=Jp(Xc(O));try{for(F.s();!(B=F.n()).done;){var L=B.value;Object.prototype.propertyIsEnumerable.call(O,L)&&(O[L]===Eh?delete T[L]:T[L]=null===T[L]||null===O[L]||"object"!==oo(T[L])||"object"!==oo(O[L])||Nr(T[L])||Nr(O[L])?eg(O[L]):sd(T[L],O[L]))}}catch(q){F.e(q)}finally{F.f()}return T}function eg(p){return Nr(p)?Pn(p).call(p,function(y){return eg(y)}):"object"===oo(p)&&null!==p?sd({},p):p}function tg(p){for(var y=0,D=uh(p);y<D.length;y++){var x=D[y];p[x]===Eh?delete p[x]:"object"===oo(p[x])&&null!==p[x]&&tg(p[x])}}var lv="undefined"!=typeof window?window.Hammer||pm:function(){return function(){var p=function(){};return{on:p,off:p,destroy:p,emit:p,get:function(){return{set:p}}}}()};function Vo(p){var D,y=this;this._cleanupQueue=[],this.active=!1,this._dom={container:p,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){y._dom.overlay.parentNode.removeChild(y._dom.overlay)});var x=lv(this._dom.overlay);x.on("tap",rn(D=this._onTapOverlay).call(D,this)),this._cleanupQueue.push(function(){x.destroy()});var T=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];no(T).call(T,function(O){x.on(O,function(F){F.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(O){(function(p,y){for(;p;){if(p===y)return!0;p=p.parentNode}return!1})(O.target,p)||y.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",y._onClick)})),this._escListener=function(O){("key"in O?"Escape"===O.key:27===O.keyCode)&&y.deactivate()}}Wp(Vo.prototype),Vo.current=null,Vo.prototype.destroy=function(){var p,y;this.deactivate();var x,D=Jp(function(p){var y=p.reverse;return p===Ml||p instanceof Array&&y===Ml.reverse?Ol:y}(p=fa(y=this._cleanupQueue).call(y,0)).call(p));try{for(D.s();!(x=D.n()).done;)(0,x.value)()}catch(O){D.e(O)}finally{D.f()}},Vo.prototype.activate=function(){Vo.current&&Vo.current.deactivate(),Vo.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},Vo.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},Vo.prototype._onTapOverlay=function(p){this.activate(),p.srcEvent.stopPropagation()};var cv=La("Reflect","construct"),ng=Re(function(){function p(){}return!(cv(function(){},[],p)instanceof p)}),is=!Re(function(){cv(function(){})}),dv=ng||is;pt({target:"Reflect",stat:!0,forced:dv,sham:dv},{construct:function(y,D){Uo(y),In(D);var x=arguments.length<3?y:Uo(arguments[2]);if(is&&!ng)return cv(y,D,x);if(y==x){switch(D.length){case 0:return new y;case 1:return new y(D[0]);case 2:return new y(D[0],D[1]);case 3:return new y(D[0],D[1],D[2]);case 4:return new y(D[0],D[1],D[2],D[3])}var T=[null];return T.push.apply(T,D),new(dp.apply(y,T))}var O=x.prototype,F=ci(ir(O)?O:Object.prototype),B=Function.apply.call(y,F,D);return ir(B)?B:F}});var Yl=rt.Reflect.construct,Lf=sr("Array").entries,_a=Array.prototype,fr={DOMTokenList:!0,NodeList:!0},fo=tn(function(p){var y=function(D){var O,x=Object.prototype,T=x.hasOwnProperty,F="function"==typeof Symbol?Symbol:{},B=F.iterator||"@@iterator",L=F.asyncIterator||"@@asyncIterator",q=F.toStringTag||"@@toStringTag";function Q(we,ye,Le){return Object.defineProperty(we,ye,{value:Le,enumerable:!0,configurable:!0,writable:!0}),we[ye]}try{Q({},"")}catch(we){Q=function(ye,Le,ot){return ye[Le]=ot}}function J(we,ye,Le,ot){var Tr=Object.create((ye&&ye.prototype instanceof bn?ye:bn).prototype),pr=new Om(ot||[]);return Tr._invoke=function(we,ye,Le){var ot=xe;return function(Tr,pr){if(ot===lt)throw new Error("Generator is already running");if(ot===_t){if("throw"===Tr)throw pr;return wg()}for(Le.method=Tr,Le.arg=pr;;){var Kr=Le.delegate;if(Kr){var at=ji(Kr,Le);if(at){if(at===je)continue;return at}}if("next"===Le.method)Le.sent=Le._sent=Le.arg;else if("throw"===Le.method){if(ot===xe)throw ot=_t,Le.arg;Le.dispatchException(Le.arg)}else"return"===Le.method&&Le.abrupt("return",Le.arg);ot=lt;var ze=ie(we,ye,Le);if("normal"===ze.type){if(ot=Le.done?_t:nt,ze.arg===je)continue;return{value:ze.arg,done:Le.done}}"throw"===ze.type&&(ot=_t,Le.method="throw",Le.arg=ze.arg)}}}(we,Le,pr),Tr}function ie(we,ye,Le){try{return{type:"normal",arg:we.call(ye,Le)}}catch(ot){return{type:"throw",arg:ot}}}D.wrap=J;var xe="suspendedStart",nt="suspendedYield",lt="executing",_t="completed",je={};function bn(){}function On(){}function tr(){}var bi={};bi[B]=function(){return this};var Qr=Object.getPrototypeOf,os=Qr&&Qr(Qr(al([])));os&&os!==x&&T.call(os,B)&&(bi=os);var xr=tr.prototype=bn.prototype=Object.create(bi);function Ca(we){["next","throw","return"].forEach(function(ye){Q(we,ye,function(Le){return this._invoke(ye,Le)})})}function lu(we,ye){function Le(Tr,pr,Kr,at){var ze=ie(we[Tr],we,pr);if("throw"!==ze.type){var Bi=ze.arg,nr=Bi.value;return nr&&"object"==typeof nr&&T.call(nr,"__await")?ye.resolve(nr.__await).then(function(_i){Le("next",_i,Kr,at)},function(_i){Le("throw",_i,Kr,at)}):ye.resolve(nr).then(function(_i){Bi.value=_i,Kr(Bi)},function(_i){return Le("throw",_i,Kr,at)})}at(ze.arg)}var ot;this._invoke=function(Tr,pr){function Kr(){return new ye(function(at,ze){Le(Tr,pr,at,ze)})}return ot=ot?ot.then(Kr,Kr):Kr()}}function ji(we,ye){var Le=we.iterator[ye.method];if(Le===O){if(ye.delegate=null,"throw"===ye.method){if(we.iterator.return&&(ye.method="return",ye.arg=O,ji(we,ye),"throw"===ye.method))return je;ye.method="throw",ye.arg=new TypeError("The iterator does not provide a 'throw' method")}return je}var ot=ie(Le,we.iterator,ye.arg);if("throw"===ot.type)return ye.method="throw",ye.arg=ot.arg,ye.delegate=null,je;var mt=ot.arg;return mt?mt.done?(ye[we.resultName]=mt.value,ye.next=we.nextLoc,"return"!==ye.method&&(ye.method="next",ye.arg=O),ye.delegate=null,je):mt:(ye.method="throw",ye.arg=new TypeError("iterator result is not an object"),ye.delegate=null,je)}function Nv(we){var ye={tryLoc:we[0]};1 in we&&(ye.catchLoc=we[1]),2 in we&&(ye.finallyLoc=we[2],ye.afterLoc=we[3]),this.tryEntries.push(ye)}function fd(we){var ye=we.completion||{};ye.type="normal",delete ye.arg,we.completion=ye}function Om(we){this.tryEntries=[{tryLoc:"root"}],we.forEach(Nv,this),this.reset(!0)}function al(we){if(we){var ye=we[B];if(ye)return ye.call(we);if("function"==typeof we.next)return we;if(!isNaN(we.length)){var Le=-1,ot=function mt(){for(;++Le<we.length;)if(T.call(we,Le))return mt.value=we[Le],mt.done=!1,mt;return mt.value=O,mt.done=!0,mt};return ot.next=ot}}return{next:wg}}function wg(){return{value:O,done:!0}}return On.prototype=xr.constructor=tr,tr.constructor=On,On.displayName=Q(tr,q,"GeneratorFunction"),D.isGeneratorFunction=function(we){var ye="function"==typeof we&&we.constructor;return!!ye&&(ye===On||"GeneratorFunction"===(ye.displayName||ye.name))},D.mark=function(we){return Object.setPrototypeOf?Object.setPrototypeOf(we,tr):(we.__proto__=tr,Q(we,q,"GeneratorFunction")),we.prototype=Object.create(xr),we},D.awrap=function(we){return{__await:we}},Ca(lu.prototype),lu.prototype[L]=function(){return this},D.AsyncIterator=lu,D.async=function(we,ye,Le,ot,mt){void 0===mt&&(mt=Promise);var Tr=new lu(J(we,ye,Le,ot),mt);return D.isGeneratorFunction(ye)?Tr:Tr.next().then(function(pr){return pr.done?pr.value:Tr.next()})},Ca(xr),Q(xr,q,"Generator"),xr[B]=function(){return this},xr.toString=function(){return"[object Generator]"},D.keys=function(we){var ye=[];for(var Le in we)ye.push(Le);return ye.reverse(),function ot(){for(;ye.length;){var mt=ye.pop();if(mt in we)return ot.value=mt,ot.done=!1,ot}return ot.done=!0,ot}},D.values=al,Om.prototype={constructor:Om,reset:function(we){if(this.prev=0,this.next=0,this.sent=this._sent=O,this.done=!1,this.delegate=null,this.method="next",this.arg=O,this.tryEntries.forEach(fd),!we)for(var ye in this)"t"===ye.charAt(0)&&T.call(this,ye)&&!isNaN(+ye.slice(1))&&(this[ye]=O)},stop:function(){this.done=!0;var ye=this.tryEntries[0].completion;if("throw"===ye.type)throw ye.arg;return this.rval},dispatchException:function(we){if(this.done)throw we;var ye=this;function Le(at,ze){return Tr.type="throw",Tr.arg=we,ye.next=at,ze&&(ye.method="next",ye.arg=O),!!ze}for(var ot=this.tryEntries.length-1;ot>=0;--ot){var mt=this.tryEntries[ot],Tr=mt.completion;if("root"===mt.tryLoc)return Le("end");if(mt.tryLoc<=this.prev){var pr=T.call(mt,"catchLoc"),Kr=T.call(mt,"finallyLoc");if(pr&&Kr){if(this.prev<mt.catchLoc)return Le(mt.catchLoc,!0);if(this.prev<mt.finallyLoc)return Le(mt.finallyLoc)}else if(pr){if(this.prev<mt.catchLoc)return Le(mt.catchLoc,!0)}else{if(!Kr)throw new Error("try statement without catch or finally");if(this.prev<mt.finallyLoc)return Le(mt.finallyLoc)}}}},abrupt:function(we,ye){for(var Le=this.tryEntries.length-1;Le>=0;--Le){var ot=this.tryEntries[Le];if(ot.tryLoc<=this.prev&&T.call(ot,"finallyLoc")&&this.prev<ot.finallyLoc){var mt=ot;break}}mt&&("break"===we||"continue"===we)&&mt.tryLoc<=ye&&ye<=mt.finallyLoc&&(mt=null);var Tr=mt?mt.completion:{};return Tr.type=we,Tr.arg=ye,mt?(this.method="next",this.next=mt.finallyLoc,je):this.complete(Tr)},complete:function(we,ye){if("throw"===we.type)throw we.arg;return"break"===we.type||"continue"===we.type?this.next=we.arg:"return"===we.type?(this.rval=this.arg=we.arg,this.method="return",this.next="end"):"normal"===we.type&&ye&&(this.next=ye),je},finish:function(we){for(var ye=this.tryEntries.length-1;ye>=0;--ye){var Le=this.tryEntries[ye];if(Le.finallyLoc===we)return this.complete(Le.completion,Le.afterLoc),fd(Le),je}},catch:function(we){for(var ye=this.tryEntries.length-1;ye>=0;--ye){var Le=this.tryEntries[ye];if(Le.tryLoc===we){var ot=Le.completion;if("throw"===ot.type){var mt=ot.arg;fd(Le)}return mt}}throw new Error("illegal catch attempt")},delegateYield:function(we,ye,Le){return this.delegate={iterator:al(we),resultName:ye,nextLoc:Le},"next"===this.method&&(this.arg=O),je}},D}(p.exports);try{regeneratorRuntime=y}catch(D){Function("r","regeneratorRuntime = r")(y)}}),Ps=ks,fv=sr("Array").values,Vf=Array.prototype,mm={DOMTokenList:!0,NodeList:!0},pv=function(p){var y=p.values;return p===Vf||p instanceof Array&&y===Vf.values||mm.hasOwnProperty(hi(p))?fv:y},jf=[],ud=jf.sort,Vi=Re(function(){jf.sort(void 0)}),Bf=Re(function(){jf.sort(null)}),ig=Wi("sort");pt({target:"Array",proto:!0,forced:Vi||!Bf||!ig},{sort:function(y){return void 0===y?ud.call(fn(this)):ud.call(fn(this),Uo(y))}});var ou=sr("Array").sort,og=Array.prototype,sg=function(p){var y=p.sort;return p===og||p instanceof Array&&y===og.sort?ou:y},gv=sr("Array").keys,wa=Array.prototype,cd={DOMTokenList:!0,NodeList:!0},Fs=function(p){var y=p.keys;return p===wa||p instanceof Array&&y===wa.keys||cd.hasOwnProperty(hi(p))?gv:y},xh=Wt.some,bm=Wi("some"),ag=Xs("some");pt({target:"Array",proto:!0,forced:!bm||!ag},{some:function(y){return xh(this,y,arguments.length>1?arguments[1]:void 0)}});var yy=sr("Array").some,vv=Array.prototype,_m=!Re(function(){return Object.isExtensible(Object.preventExtensions({}))}),lg=tn(function(p){var y=Ze.f,D=pn("meta"),x=0,T=Object.isExtensible||function(){return!0},O=function(Q){y(Q,D,{value:{objectID:"O"+ ++x,weakData:{}}})},q=p.exports={REQUIRED:!1,fastKey:function(Q,J){if(!ir(Q))return"symbol"==typeof Q?Q:("string"==typeof Q?"S":"P")+Q;if(!Je(Q,D)){if(!T(Q))return"F";if(!J)return"E";O(Q)}return Q[D].objectID},getWeakData:function(Q,J){if(!Je(Q,D)){if(!T(Q))return!0;if(!J)return!1;O(Q)}return Q[D].weakData},onFreeze:function(Q){return _m&&q.REQUIRED&&T(Q)&&!Je(Q,D)&&O(Q),Q}};Du[D]=!0}),cg=function(p,y){this.stopped=p,this.result=y},Hf=function(p,y,D){var L,q,Q,J,ie,xe,nt,T=!(!D||!D.AS_ENTRIES),O=!(!D||!D.IS_ITERATOR),F=!(!D||!D.INTERRUPTED),B=yr(y,D&&D.that,1+T+F),lt=function(je){return L&&$d(L),new cg(!0,je)},_t=function(je){return T?(In(je),F?B(je[0],je[1],lt):B(je[0],je[1])):F?B(je,lt):B(je)};if(O)L=p;else{if("function"!=typeof(q=Pc(p)))throw TypeError("Target is not iterable");if(Fc(q)){for(Q=0,J=An(p.length);J>Q;Q++)if((ie=_t(p[Q]))&&ie instanceof cg)return ie;return new cg(!1)}L=q.call(p)}for(xe=L.next;!(nt=xe.call(L)).done;){try{ie=_t(nt.value)}catch(je){throw $d(L),je}if("object"==typeof ie&&ie&&ie instanceof cg)return ie}return new cg(!1)},zf=function(p,y,D){if(!(p instanceof y))throw TypeError("Incorrect "+(D?D+" ":"")+"invocation");return p},dg=Ze.f,by=Wt.forEach,$f=xo.set,Th=xo.getterFor,_y=function(p,y,D){var q,x=-1!==p.indexOf("Map"),T=-1!==p.indexOf("Weak"),O=x?"set":"add",F=Xe[p],B=F&&F.prototype,L={};if(Ve&&"function"==typeof F&&(T||B.forEach&&!Re(function(){(new F).entries().next()}))){q=y(function(J,ie){$f(zf(J,q,p),{type:p,collection:new F}),null!=ie&&Hf(ie,J[O],{that:J,AS_ENTRIES:x})});var Q=Th(p);by(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(J){var ie="add"==J||"set"==J;J in B&&(!T||"clear"!=J)&&Vn(q.prototype,J,function(xe,nt){var lt=Q(this).collection;if(!ie&&T&&!ir(xe))return"get"==J&&void 0;var _t=lt[J](0===xe?0:xe,nt);return ie?this:_t})}),T||dg(q.prototype,"size",{configurable:!0,get:function(){return Q(this).collection.size}})}else q=D.getConstructor(y,p,x,O),lg.REQUIRED=!0;return ki(q,p,!1,!0),L[p]=q,pt({global:!0,forced:!0},L),T||D.setStrong(q,p,x),q},wy=function(p,y,D){for(var x in y)D&&D.unsafe&&p[x]?p[x]=y[x]:bl(p,x,y[x],D);return p},wm=or("species"),rl=Ze.f,Kl=lg.fastKey,hg=xo.set,fg=xo.getterFor,pg={getConstructor:function(p,y,D,x){var T=p(function(L,q){zf(L,T,y),hg(L,{type:y,index:ci(null),first:void 0,last:void 0,size:0}),Ve||(L.size=0),null!=q&&Hf(q,L[x],{that:L,AS_ENTRIES:D})}),O=fg(y),F=function(L,q,Q){var xe,nt,J=O(L),ie=B(L,q);return ie?ie.value=Q:(J.last=ie={index:nt=Kl(q,!0),key:q,value:Q,previous:xe=J.last,next:void 0,removed:!1},J.first||(J.first=ie),xe&&(xe.next=ie),Ve?J.size++:L.size++,"F"!==nt&&(J.index[nt]=ie)),L},B=function(L,q){var ie,Q=O(L),J=Kl(q);if("F"!==J)return Q.index[J];for(ie=Q.first;ie;ie=ie.next)if(ie.key==q)return ie};return wy(T.prototype,{clear:function(){for(var Q=O(this),J=Q.index,ie=Q.first;ie;)ie.removed=!0,ie.previous&&(ie.previous=ie.previous.next=void 0),delete J[ie.index],ie=ie.next;Q.first=Q.last=void 0,Ve?Q.size=0:this.size=0},delete:function(L){var q=this,Q=O(q),J=B(q,L);if(J){var ie=J.next,xe=J.previous;delete Q.index[J.index],J.removed=!0,xe&&(xe.next=ie),ie&&(ie.previous=xe),Q.first==J&&(Q.first=ie),Q.last==J&&(Q.last=xe),Ve?Q.size--:q.size--}return!!J},forEach:function(q){for(var ie,Q=O(this),J=yr(q,arguments.length>1?arguments[1]:void 0,3);ie=ie?ie.next:Q.first;)for(J(ie.value,ie.key,this);ie&&ie.removed;)ie=ie.previous},has:function(q){return!!B(this,q)}}),wy(T.prototype,D?{get:function(q){var Q=B(this,q);return Q&&Q.value},set:function(q,Q){return F(this,0===q?0:q,Q)}}:{add:function(q){return F(this,q=0===q?0:q,q)}}),Ve&&rl(T.prototype,"size",{get:function(){return O(this).size}}),T},setStrong:function(p,y,D){var x=y+" Iterator",T=fg(y),O=fg(x);Vd(p,y,function(F,B){hg(this,{type:x,target:F,state:T(F),kind:B,last:void 0})},function(){for(var F=O(this),B=F.kind,L=F.last;L&&L.removed;)L=L.previous;return F.target&&(F.last=L=L?L.next:F.state.first)?"keys"==B?{value:L.key,done:!1}:"values"==B?{value:L.value,done:!1}:{value:[L.key,L.value],done:!1}:(F.target=void 0,{value:void 0,done:!0})},D?"entries":"values",!D,!0),function(p){var y=La(p);Ve&&y&&!y[wm]&&(0,Ze.f)(y,wm,{configurable:!0,get:function(){return this}})}(y)}},il=(_y("Map",function(p){return function(){return p(this,arguments.length?arguments[0]:void 0)}},pg),rt.Map),wv=Qd;pt({target:"Object",stat:!0},{setPrototypeOf:Oc});var Cm=rt.Object.setPrototypeOf,Cv=tn(function(p){function y(D,x){return p.exports=y=Cm||function(O,F){return O.__proto__=F,O},y(D,x)}p.exports=y});var ol=function(p,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function");p.prototype=wv(y&&y.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),y&&Cv(p,y)};var su=function(p){if(void 0===p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p};var hd,Ea=function(p,y){return!y||"object"!==oo(y)&&"function"!=typeof y?su(p):y},Rs=da,Wf=tn(function(p){function y(D){return p.exports=y=Cm?Rs:function(T){return T.__proto__||Rs(T)},y(D)}p.exports=y}),Dv=new Uint8Array(16);function vg(){if(!hd&&!(hd="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return hd(Dv)}var mg=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function xv(p){return"string"==typeof p&&mg.test(p)}for(var Dr=[],yg=0;yg<256;++yg)Dr.push((yg+256).toString(16).substr(1));function xy(p,y,D){var x=(p=p||{}).random||(p.rng||vg)();if(x[6]=15&x[6]|64,x[8]=63&x[8]|128,y){D=D||0;for(var T=0;T<16;++T)y[D+T]=x[T];return y}return function(p){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,D=(Dr[p[y+0]]+Dr[p[y+1]]+Dr[p[y+2]]+Dr[p[y+3]]+"-"+Dr[p[y+4]]+Dr[p[y+5]]+"-"+Dr[p[y+6]]+Dr[p[y+7]]+"-"+Dr[p[y+8]]+Dr[p[y+9]]+"-"+Dr[p[y+10]]+Dr[p[y+11]]+Dr[p[y+12]]+Dr[p[y+13]]+Dr[p[y+14]]+Dr[p[y+15]]).toLowerCase();if(!xv(D))throw TypeError("Stringified UUID is invalid");return D}(x)}function bg(p){return"string"==typeof p||"number"==typeof p}var Iv=function(){function p(y){fs(this,p),this._queue=[],this._timeout=null,this._extended=null,this.delay=null,this.max=1/0,this.setOptions(y)}return _r(p,[{key:"setOptions",value:function(D){D&&void 0!==D.delay&&(this.delay=D.delay),D&&void 0!==D.max&&(this.max=D.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var D=this._extended.object,x=this._extended.methods,T=0;T<x.length;T++){var O=x[T];O.original?D[O.name]=O.original:delete D[O.name]}this._extended=null}}},{key:"replace",value:function(D,x){var T=this,O=D[x];if(!O)throw new Error("Method "+x+" undefined");D[x]=function(){for(var F=arguments.length,B=new Array(F),L=0;L<F;L++)B[L]=arguments[L];T.queue({args:B,fn:O,context:this})}}},{key:"queue",value:function(D){this._queue.push("function"==typeof D?{fn:D}:D),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var D=this;this._queue.length>this.max&&this.flush(),null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&"number"==typeof this.delay&&(this._timeout=uf(function(){D.flush()},this.delay))}},{key:"flush",value:function(){var D,x;no(D=fa(x=this._queue).call(x,0)).call(D,function(T){T.fn.apply(T.context||T.fn,T.args||[])})}}],[{key:"extend",value:function(D,x){var T=new p(x);if(void 0!==D.flush)throw new Error("Target object already has a property flush");D.flush=function(){T.flush()};var O=[{name:"flush",original:void 0}];if(x&&x.replace)for(var F=0;F<x.replace.length;F++){var B=x.replace[F];O.push({name:B,original:D[B]}),T.replace(D,B)}return T._extended={object:D,methods:O},T}}]),p}(),Dm=function(){function p(){fs(this,p),this._subscribers={"*":[],add:[],remove:[],update:[]},this.subscribe=p.prototype.on,this.unsubscribe=p.prototype.off}return _r(p,[{key:"_trigger",value:function(D,x,T){var O,F;if("*"===D)throw new Error("Cannot trigger event *");no(O=es(F=[]).call(F,Gt(this._subscribers[D]),Gt(this._subscribers["*"]))).call(O,function(B){B(D,x,null!=T?T:null)})}},{key:"on",value:function(D,x){"function"==typeof x&&this._subscribers[D].push(x)}},{key:"off",value:function(D,x){var T;this._subscribers[D]=Ye(T=this._subscribers[D]).call(T,function(O){return O!==x})}}]),p}(),yi=(_y("Set",function(p){return function(){return p(this,arguments.length?arguments[0]:void 0)}},pg),rt.Set);function au(p,y){var D;if(void 0===Xa||null==Nc(p)){if(Nr(p)||(D=function(p,y){var D;if(p){if("string"==typeof p)return Tm(p,y);var x=Ku(D=Object.prototype.toString.call(p)).call(D,8,-1);if("Object"===x&&p.constructor&&(x=p.constructor.name),"Map"===x||"Set"===x)return $a(p);if("Arguments"===x||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return Tm(p,y)}}(p))||y&&p&&"number"==typeof p.length){D&&(p=D);var x=0,T=function(){};return{s:T,n:function(){return x>=p.length?{done:!0}:{done:!1,value:p[x++]}},e:function(q){throw q},f:T}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var B,O=!0,F=!1;return{s:function(){D=Ht(p)},n:function(){var q=D.next();return O=q.done,q},e:function(q){F=!0,B=q},f:function(){try{!O&&null!=D.return&&D.return()}finally{if(F)throw B}}}}function Tm(p,y){(null==y||y>p.length)&&(y=p.length);for(var D=0,x=new Array(y);D<y;D++)x[D]=p[D];return x}var Im=function(){function p(y){fs(this,p),this._pairs=y}return _r(p,[{key:Ps,value:fo.mark(function y(){var D,x,T,O,F;return fo.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:D=au(this._pairs),L.prev=1,D.s();case 3:if((x=D.n()).done){L.next=9;break}return T=qr(x.value,2),O=T[0],F=T[1],L.next=7,[O,F];case 7:L.next=3;break;case 9:L.next=14;break;case 11:L.prev=11,L.t0=L.catch(1),D.e(L.t0);case 14:return L.prev=14,D.f(),L.finish(14);case 17:case"end":return L.stop()}},y,this,[[1,11,14,17]])})},{key:"entries",value:fo.mark(function y(){var D,x,T,O,F;return fo.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:D=au(this._pairs),L.prev=1,D.s();case 3:if((x=D.n()).done){L.next=9;break}return T=qr(x.value,2),O=T[0],F=T[1],L.next=7,[O,F];case 7:L.next=3;break;case 9:L.next=14;break;case 11:L.prev=11,L.t0=L.catch(1),D.e(L.t0);case 14:return L.prev=14,D.f(),L.finish(14);case 17:case"end":return L.stop()}},y,this,[[1,11,14,17]])})},{key:"keys",value:fo.mark(function y(){var D,x,T,O;return fo.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:D=au(this._pairs),B.prev=1,D.s();case 3:if((x=D.n()).done){B.next=9;break}return T=qr(x.value,1),O=T[0],B.next=7,O;case 7:B.next=3;break;case 9:B.next=14;break;case 11:B.prev=11,B.t0=B.catch(1),D.e(B.t0);case 14:return B.prev=14,D.f(),B.finish(14);case 17:case"end":return B.stop()}},y,this,[[1,11,14,17]])})},{key:"values",value:fo.mark(function y(){var D,x,T,O;return fo.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:D=au(this._pairs),B.prev=1,D.s();case 3:if((x=D.n()).done){B.next=9;break}return T=qr(x.value,2),O=T[1],B.next=7,O;case 7:B.next=3;break;case 9:B.next=14;break;case 11:B.prev=11,B.t0=B.catch(1),D.e(B.t0);case 14:return B.prev=14,D.f(),B.finish(14);case 17:case"end":return B.stop()}},y,this,[[1,11,14,17]])})},{key:"toIdArray",value:function(){var D;return Pn(D=Gt(this._pairs)).call(D,function(x){return x[0]})}},{key:"toItemArray",value:function(){var D;return Pn(D=Gt(this._pairs)).call(D,function(x){return x[1]})}},{key:"toEntryArray",value:function(){return Gt(this._pairs)}},{key:"toObjectMap",value:function(){var T,D=Zo(null),x=au(this._pairs);try{for(x.s();!(T=x.n()).done;){var O=qr(T.value,2);D[O[0]]=O[1]}}catch(L){x.e(L)}finally{x.f()}return D}},{key:"toMap",value:function(){return new il(this._pairs)}},{key:"toIdSet",value:function(){return new yi(this.toIdArray())}},{key:"toItemSet",value:function(){return new yi(this.toItemArray())}},{key:"cache",value:function(){return new p(Gt(this._pairs))}},{key:"distinct",value:function(D){var O,x=new yi,T=au(this._pairs);try{for(T.s();!(O=T.n()).done;){var F=qr(O.value,2);x.add(D(F[1],F[0]))}}catch(q){T.e(q)}finally{T.f()}return x}},{key:"filter",value:function(D){var x=this._pairs;return new p(ii({},Ps,fo.mark(function T(){var O,F,B,L,q;return fo.wrap(function(J){for(;;)switch(J.prev=J.next){case 0:O=au(x),J.prev=1,O.s();case 3:if((F=O.n()).done){J.next=10;break}if(B=qr(F.value,2),!D(q=B[1],L=B[0])){J.next=8;break}return J.next=8,[L,q];case 8:J.next=3;break;case 10:J.next=15;break;case 12:J.prev=12,J.t0=J.catch(1),O.e(J.t0);case 15:return J.prev=15,O.f(),J.finish(15);case 18:case"end":return J.stop()}},T,null,[[1,12,15,18]])})))}},{key:"forEach",value:function(D){var T,x=au(this._pairs);try{for(x.s();!(T=x.n()).done;){var O=qr(T.value,2);D(O[1],O[0])}}catch(L){x.e(L)}finally{x.f()}}},{key:"map",value:function(D){var x=this._pairs;return new p(ii({},Ps,fo.mark(function T(){var O,F,B,L,q;return fo.wrap(function(J){for(;;)switch(J.prev=J.next){case 0:O=au(x),J.prev=1,O.s();case 3:if((F=O.n()).done){J.next=9;break}return B=qr(F.value,2),L=B[0],q=B[1],J.next=7,[L,D(q,L)];case 7:J.next=3;break;case 9:J.next=14;break;case 11:J.prev=11,J.t0=J.catch(1),O.e(J.t0);case 14:return J.prev=14,O.f(),J.finish(14);case 17:case"end":return J.stop()}},T,null,[[1,11,14,17]])})))}},{key:"max",value:function(D){var x=Ht(this._pairs),T=x.next();if(T.done)return null;for(var O=T.value[1],F=D(T.value[1],T.value[0]);!(T=x.next()).done;){var B=qr(T.value,2),q=B[1],Q=D(q,B[0]);Q>F&&(F=Q,O=q)}return O}},{key:"min",value:function(D){var x=Ht(this._pairs),T=x.next();if(T.done)return null;for(var O=T.value[1],F=D(T.value[1],T.value[0]);!(T=x.next()).done;){var B=qr(T.value,2),q=B[1],Q=D(q,B[0]);Q<F&&(F=Q,O=q)}return O}},{key:"reduce",value:function(D,x){var O,T=au(this._pairs);try{for(T.s();!(O=T.n()).done;){var F=qr(O.value,2);x=D(x,F[1],F[0])}}catch(q){T.e(q)}finally{T.f()}return x}},{key:"sort",value:function(D){var x=this;return new p(ii({},Ps,function(){var T;return Ht(sg(T=Gt(x._pairs)).call(T,function(O,F){var B=qr(O,2),L=B[0],q=B[1],Q=qr(F,2);return D(q,Q[1],L,Q[0])}))}))}}]),p}();function _g(p,y){var D=uh(p);if(Zh){var x=Zh(p);y&&(x=Ye(x).call(x,function(T){return Ha(p,T).enumerable})),D.push.apply(D,x)}return D}function km(p){for(var y=1;y<arguments.length;y++){var x,D=null!=arguments[y]?arguments[y]:{};if(y%2)no(x=_g(Object(D),!0)).call(x,function(O){ii(p,O,D[O])});else if(ni)Vr(p,ni(D));else{var T;no(T=_g(Object(D))).call(T,function(O){Eu(p,O,Ha(D,O))})}}return p}function kh(p,y){var D;if(void 0===Xa||null==Nc(p)){if(Nr(p)||(D=function(p,y){var D;if(p){if("string"==typeof p)return Sv(p,y);var x=Ku(D=Object.prototype.toString.call(p)).call(D,8,-1);if("Object"===x&&p.constructor&&(x=p.constructor.name),"Map"===x||"Set"===x)return $a(p);if("Arguments"===x||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return Sv(p,y)}}(p))||y&&p&&"number"==typeof p.length){D&&(p=D);var x=0,T=function(){};return{s:T,n:function(){return x>=p.length?{done:!0}:{done:!1,value:p[x++]}},e:function(q){throw q},f:T}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var B,O=!0,F=!1;return{s:function(){D=Ht(p)},n:function(){var q=D.next();return O=q.done,q},e:function(q){F=!0,B=q},f:function(){try{!O&&null!=D.return&&D.return()}finally{if(F)throw B}}}}function Sv(p,y){(null==y||y>p.length)&&(y=p.length);for(var D=0,x=new Array(y);D<y;D++)x[D]=p[D];return x}function Ov(p){var y=function(){if("undefined"==typeof Reflect||!Yl||Yl.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Yl(Date,[],function(){})),!0}catch(p){return!1}}();return function(){var T,x=Wf(p);if(y){var O=Wf(this).constructor;T=Yl(x,arguments,O)}else T=x.apply(this,arguments);return Ea(this,T)}}var Mv=function(p){ol(D,p);var y=Ov(D);function D(x,T){var O;return fs(this,D),(O=y.call(this))._queue=null,x&&!Nr(x)&&(T=x,x=[]),O._options=T||{},O._data=new il,O.length=0,O._idProp=O._options.fieldId||"id",x&&x.length&&O.add(x),O.setOptions(T),O}return _r(D,[{key:"setOptions",value:function(T){T&&void 0!==T.queue&&(!1===T.queue?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=Iv.extend(this,{replace:["add","update","remove"]})),T.queue&&"object"===oo(T.queue)&&this._queue.setOptions(T.queue)))}},{key:"add",value:function(T,O){var L,F=this,B=[];if(Nr(T)){var q=Pn(T).call(T,function(ie){return ie[F._idProp]});if(function(p){var y=p.some;return p===vv||p instanceof Array&&y===vv.some?yy:y}(q).call(q,function(ie){return F._data.has(ie)}))throw new Error("A duplicate id was found in the parameter array.");for(var Q=0,J=T.length;Q<J;Q++)L=this._addItem(T[Q]),B.push(L)}else{if(!T||"object"!==oo(T))throw new Error("Unknown dataType");L=this._addItem(T),B.push(L)}return B.length&&this._trigger("add",{items:B},O),B}},{key:"update",value:function(T,O){var F=this,B=[],L=[],q=[],Q=[],J=this._idProp,ie=function(je){var bn=je[J];if(null!=bn&&F._data.has(bn)){var On=je,tr=gf({},F._data.get(bn)),bi=F._updateItem(On);L.push(bi),Q.push(On),q.push(tr)}else{var Qr=F._addItem(je);B.push(Qr)}};if(Nr(T))for(var xe=0,nt=T.length;xe<nt;xe++)T[xe]&&"object"===oo(T[xe])?ie(T[xe]):console.warn("Ignoring input item, which is not an object at index "+xe);else{if(!T||"object"!==oo(T))throw new Error("Unknown dataType");ie(T)}return B.length&&this._trigger("add",{items:B},O),L.length&&this._trigger("update",{items:L,oldData:q,data:Q},O),es(B).call(B,L)}},{key:"updateOnly",value:function(T,O){var F,B=this;Nr(T)||(T=[T]);var L=Pn(F=Pn(T).call(T,function(Q){var J=B._data.get(Q[B._idProp]);if(null==J)throw new Error("Updating non-existent items is not allowed.");return{oldData:J,update:Q}})).call(F,function(Q){var J=Q.oldData,xe=J[B._idProp],nt=function(p){for(var y,D=arguments.length,x=new Array(D>1?D-1:0),T=1;T<D;T++)x[T-1]=arguments[T];return uv.apply(void 0,es(y=[{},p]).call(y,x))}(J,Q.update);return B._data.set(xe,nt),{id:xe,oldData:J,updatedData:nt}});if(L.length){var q={items:Pn(L).call(L,function(Q){return Q.id}),oldData:Pn(L).call(L,function(Q){return Q.oldData}),data:Pn(L).call(L,function(Q){return Q.updatedData})};return this._trigger("update",q,O),q.items}return[]}},{key:"get",value:function(T,O){var F=void 0,B=void 0,L=void 0;bg(T)?(F=T,L=O):Nr(T)?(B=T,L=O):L=T;var ji,q=L&&"Object"===L.returnType?"Object":"Array",Q=L&&Ye(L),J=[],ie=void 0,xe=void 0;if(null!=F)(ie=this._data.get(F))&&Q&&!Q(ie)&&(ie=void 0);else if(null!=B)for(var lt=0,_t=B.length;lt<_t;lt++)null!=(ie=this._data.get(B[lt]))&&(!Q||Q(ie))&&J.push(ie);else for(var je,bn=0,On=(xe=Gt(Fs(je=this._data).call(je))).length;bn<On;bn++)null!=(ie=this._data.get(xe[bn]))&&(!Q||Q(ie))&&J.push(ie);if(L&&L.order&&null==F&&this._sort(J,L.order),L&&L.fields){var tr=L.fields;if(null!=F&&null!=ie)ie=this._filterFields(ie,tr);else for(var bi=0,Qr=J.length;bi<Qr;bi++)J[bi]=this._filterFields(J[bi],tr)}if("Object"==q){for(var os={},xr=0,Ca=J.length;xr<Ca;xr++){var lu=J[xr];os[lu[this._idProp]]=lu}return os}return null!=F?null!==(ji=ie)&&void 0!==ji?ji:null:J}},{key:"getIds",value:function(T){var O=this._data,F=T&&Ye(T),B=T&&T.order,L=Gt(Fs(O).call(O)),q=[];if(F)if(B){for(var Q=[],J=0,ie=L.length;J<ie;J++){var nt=this._data.get(L[J]);null!=nt&&F(nt)&&Q.push(nt)}this._sort(Q,B);for(var lt=0,_t=Q.length;lt<_t;lt++)q.push(Q[lt][this._idProp])}else for(var je=0,bn=L.length;je<bn;je++){var tr=this._data.get(L[je]);null!=tr&&F(tr)&&q.push(tr[this._idProp])}else if(B){for(var bi=[],Qr=0,os=L.length;Qr<os;Qr++)bi.push(O.get(L[Qr]));this._sort(bi,B);for(var Ca=0,lu=bi.length;Ca<lu;Ca++)q.push(bi[Ca][this._idProp])}else for(var go=0,ji=L.length;go<ji;go++){var fd=O.get(L[go]);null!=fd&&q.push(fd[this._idProp])}return q}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(T,O){var F=O&&Ye(O),B=this._data,L=Gt(Fs(B).call(B));if(O&&O.order)for(var q=this.get(O),Q=0,J=q.length;Q<J;Q++){var ie=q[Q];T(ie,ie[this._idProp])}else for(var nt=0,lt=L.length;nt<lt;nt++){var _t=L[nt],je=this._data.get(_t);null!=je&&(!F||F(je))&&T(je,_t)}}},{key:"map",value:function(T,O){for(var F=O&&Ye(O),B=[],L=this._data,q=Gt(Fs(L).call(L)),Q=0,J=q.length;Q<J;Q++){var ie=q[Q],xe=this._data.get(ie);null!=xe&&(!F||F(xe))&&B.push(T(xe,ie))}return O&&O.order&&this._sort(B,O.order),B}},{key:"_filterFields",value:function(T,O){var F;return T&&bc(F=Nr(O)?O:uh(O)).call(F,function(B,L){return B[L]=T[L],B},{})}},{key:"_sort",value:function(T,O){if("string"==typeof O){var F=O;sg(T).call(T,function(B,L){var q=B[F],Q=L[F];return q>Q?1:q<Q?-1:0})}else{if("function"!=typeof O)throw new TypeError("Order must be a function or a string");sg(T).call(T,O)}}},{key:"remove",value:function(T,O){for(var F=[],B=[],L=Nr(T)?T:[T],q=0,Q=L.length;q<Q;q++){var J=this._remove(L[q]);if(J){var ie=J[this._idProp];null!=ie&&(F.push(ie),B.push(J))}}return F.length&&this._trigger("remove",{items:F,oldData:B},O),F}},{key:"_remove",value:function(T){var O;if(bg(T)?O=T:T&&"object"===oo(T)&&(O=T[this._idProp]),null!=O&&this._data.has(O)){var F=this._data.get(O)||null;return this._data.delete(O),--this.length,F}return null}},{key:"clear",value:function(T){for(var O,F=Gt(Fs(O=this._data).call(O)),B=[],L=0,q=F.length;L<q;L++)B.push(this._data.get(F[L]));return this._data.clear(),this.length=0,this._trigger("remove",{items:F,oldData:B},T),F}},{key:"max",value:function(T){var O,q,F=null,B=null,L=kh(pv(O=this._data).call(O));try{for(L.s();!(q=L.n()).done;){var Q=q.value,J=Q[T];"number"==typeof J&&(null==B||J>B)&&(F=Q,B=J)}}catch(ie){L.e(ie)}finally{L.f()}return F||null}},{key:"min",value:function(T){var O,q,F=null,B=null,L=kh(pv(O=this._data).call(O));try{for(L.s();!(q=L.n()).done;){var Q=q.value,J=Q[T];"number"==typeof J&&(null==B||J<B)&&(F=Q,B=J)}}catch(ie){L.e(ie)}finally{L.f()}return F||null}},{key:"distinct",value:function(T){for(var O=this._data,F=Gt(Fs(O).call(O)),B=[],L=0,q=0,Q=F.length;q<Q;q++){for(var xe=O.get(F[q])[T],nt=!1,lt=0;lt<L;lt++)if(B[lt]==xe){nt=!0;break}!nt&&void 0!==xe&&(B[L]=xe,L++)}return B}},{key:"_addItem",value:function(T){var O=function(p,y){return null==p[y]&&(p[y]=xy()),p}(T,this._idProp),F=O[this._idProp];if(this._data.has(F))throw new Error("Cannot add item: item with id "+F+" already exists");return this._data.set(F,O),++this.length,F}},{key:"_updateItem",value:function(T){var O=T[this._idProp];if(null==O)throw new Error("Cannot update item: item has no id (item: "+function(y,D,x){return rt.JSON.stringify.apply(null,arguments)}(T)+")");var F=this._data.get(O);if(!F)throw new Error("Cannot update item: no item with id "+O+" found");return this._data.set(O,km(km({},F),T)),O}},{key:"stream",value:function(T){if(T){var O=this._data;return new Im(ii({},Ps,fo.mark(function B(){var L,q,Q,J;return fo.wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:L=kh(T),xe.prev=1,L.s();case 3:if((q=L.n()).done){xe.next=11;break}if(null==(J=O.get(Q=q.value))){xe.next=9;break}return xe.next=9,[Q,J];case 9:xe.next=3;break;case 11:xe.next=16;break;case 13:xe.prev=13,xe.t0=xe.catch(1),L.e(xe.t0);case 16:return xe.prev=16,L.f(),xe.finish(16);case 19:case"end":return xe.stop()}},B,null,[[1,13,16,19]])})))}var F;return new Im(ii({},Ps,rn(F=function(p){var y=p.entries;return p===_a||p instanceof Array&&y===_a.entries||fr.hasOwnProperty(hi(p))?Lf:y}(this._data)).call(F,this._data)))}},{key:"idProp",get:function(){return this._idProp}}]),D}(Dm);function Oy(p,y){var D;if(void 0===Xa||null==Nc(p)){if(Nr(p)||(D=function(p,y){var D;if(p){if("string"==typeof p)return sl(p,y);var x=Ku(D=Object.prototype.toString.call(p)).call(D,8,-1);if("Object"===x&&p.constructor&&(x=p.constructor.name),"Map"===x||"Set"===x)return $a(p);if("Arguments"===x||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return sl(p,y)}}(p))||y&&p&&"number"==typeof p.length){D&&(p=D);var x=0,T=function(){};return{s:T,n:function(){return x>=p.length?{done:!0}:{done:!1,value:p[x++]}},e:function(q){throw q},f:T}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var B,O=!0,F=!1;return{s:function(){D=Ht(p)},n:function(){var q=D.next();return O=q.done,q},e:function(q){F=!0,B=q},f:function(){try{!O&&null!=D.return&&D.return()}finally{if(F)throw B}}}}function sl(p,y){(null==y||y>p.length)&&(y=p.length);for(var D=0,x=new Array(y);D<y;D++)x[D]=p[D];return x}function Xl(p){var y=function(){if("undefined"==typeof Reflect||!Yl||Yl.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Yl(Date,[],function(){})),!0}catch(p){return!1}}();return function(){var T,x=Wf(p);if(y){var O=Wf(this).constructor;T=Yl(x,arguments,O)}else T=x.apply(this,arguments);return Ea(this,T)}}var Zl=function(p){ol(D,p);var y=Xl(D);function D(x,T){var O,F;return fs(this,D),(F=y.call(this)).length=0,F._ids=new yi,F._options=T||{},F._listener=rn(O=F._onEvent).call(O,su(F)),F.setData(x),F}return _r(D,[{key:"setData",value:function(T){if(this._data){this._data.off&&this._data.off("*",this._listener);var O=this._data.getIds({filter:Ye(this._options)}),F=this._data.get(O);this._ids.clear(),this.length=0,this._trigger("remove",{items:O,oldData:F})}if(null!=T){this._data=T;for(var B=this._data.getIds({filter:Ye(this._options)}),L=0,q=B.length;L<q;L++)this._ids.add(B[L]);this.length=B.length,this._trigger("add",{items:B})}else this._data=new Mv;this._data.on&&this._data.on("*",this._listener)}},{key:"refresh",value:function(){for(var T=this._data.getIds({filter:Ye(this._options)}),O=Gt(this._ids),F={},B=[],L=[],q=[],Q=0,J=T.length;Q<J;Q++){var ie=T[Q];F[ie]=!0,this._ids.has(ie)||(B.push(ie),this._ids.add(ie))}for(var xe=0,nt=O.length;xe<nt;xe++){var lt=O[xe],_t=this._data.get(lt);null==_t?console.error("If you see this, report it please."):F[lt]||(L.push(lt),q.push(_t),this._ids.delete(lt))}this.length+=B.length-L.length,B.length&&this._trigger("add",{items:B}),L.length&&this._trigger("remove",{items:L,oldData:q})}},{key:"get",value:function(T,O){if(null==this._data)return null;var B,F=null;bg(T)||Nr(T)?(F=T,B=O):B=T;var L=gf({},this._options,B),q=Ye(this._options),Q=B&&Ye(B);return q&&Q&&(L.filter=function(J){return q(J)&&Q(J)}),null==F?this._data.get(L):this._data.get(F,L)}},{key:"getIds",value:function(T){if(this._data.length){var O=Ye(this._options),F=null!=T?Ye(T):null;return this._data.getIds({filter:F?O?function(q){return O(q)&&F(q)}:F:O,order:T&&T.order})}return[]}},{key:"forEach",value:function(T,O){if(this._data){var F,q,B=Ye(this._options),L=O&&Ye(O);q=L?B?function(J){return B(J)&&L(J)}:L:B,no(F=this._data).call(F,T,{filter:q,order:O&&O.order})}}},{key:"map",value:function(T,O){if(this._data){var F,q,B=Ye(this._options),L=O&&Ye(O);return q=L?B?function(J){return B(J)&&L(J)}:L:B,Pn(F=this._data).call(F,T,{filter:q,order:O&&O.order})}return[]}},{key:"getDataSet",value:function(){return this._data.getDataSet()}},{key:"stream",value:function(T){var O;return this._data.stream(T||ii({},Ps,rn(O=Fs(this._ids)).call(O,this._ids)))}},{key:"dispose",value:function(){var T;null!==(T=this._data)&&void 0!==T&&T.off&&this._data.off("*",this._listener);var L,O="This data view has already been disposed of.",F={get:function(){throw new Error(O)},set:function(){throw new Error(O)},configurable:!1},B=Oy(Xc(D.prototype));try{for(B.s();!(L=B.n()).done;)Eu(this,L.value,F)}catch(Q){B.e(Q)}finally{B.f()}}},{key:"_onEvent",value:function(T,O,F){if(O&&O.items&&this._data){var B=O.items,L=[],q=[],Q=[],J=[],ie=[],xe=[];switch(T){case"add":for(var nt=0,lt=B.length;nt<lt;nt++){var _t=B[nt];this.get(_t)&&(this._ids.add(_t),L.push(_t))}break;case"update":for(var bn=0,On=B.length;bn<On;bn++){var tr=B[bn];this.get(tr)?this._ids.has(tr)?(q.push(tr),ie.push(O.data[bn]),J.push(O.oldData[bn])):(this._ids.add(tr),L.push(tr)):this._ids.has(tr)&&(this._ids.delete(tr),Q.push(tr),xe.push(O.oldData[bn]))}break;case"remove":for(var Qr=0,os=B.length;Qr<os;Qr++){var xr=B[Qr];this._ids.has(xr)&&(this._ids.delete(xr),Q.push(xr),xe.push(O.oldData[Qr]))}}this.length+=L.length-Q.length,L.length&&this._trigger("add",{items:L},F),q.length&&this._trigger("update",{items:q,oldData:J,data:ie},F),Q.length&&this._trigger("remove",{items:Q,oldData:xe},F)}}},{key:"idProp",get:function(){return this.getDataSet().idProp}}]),D}(Dm);function Pv(p,y){return"object"===oo(y)&&null!==y&&p===y.idProp&&"function"==typeof y.add&&"function"==typeof y.clear&&"function"==typeof y.distinct&&"function"==typeof no(y)&&"function"==typeof y.get&&"function"==typeof y.getDataSet&&"function"==typeof y.getIds&&"number"==typeof y.length&&"function"==typeof Pn(y)&&"function"==typeof y.max&&"function"==typeof y.min&&"function"==typeof y.off&&"function"==typeof y.on&&"function"==typeof y.remove&&"function"==typeof y.setOptions&&"function"==typeof y.stream&&"function"==typeof y.update&&"function"==typeof y.updateOnly}wn.DELETE=Eh,wn.DataSet=Mv,wn.DataStream=Im,wn.DataView=Zl,wn.Queue=Iv,wn.createNewDataPipeFrom=function(p){return new Uh(p)},wn.isDataSetLike=Pv,wn.isDataViewLike=function(p,y){return"object"===oo(y)&&null!==y&&p===y.idProp&&"function"==typeof no(y)&&"function"==typeof y.get&&"function"==typeof y.getDataSet&&"function"==typeof y.getIds&&"number"==typeof y.length&&"function"==typeof Pn(y)&&"function"==typeof y.off&&"function"==typeof y.on&&"function"==typeof y.stream&&Pv(p,y.getDataSet())},Object.defineProperty(wn,"__esModule",{value:!0})}(Oa)},991:function(ap,Oa){!function(wn){var Rn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function tn(v){var _={exports:{}};return v(_,_.exports),_.exports}var kr=function(v){return v&&v.Math==Math&&v},Xe=kr("object"==typeof globalThis&&globalThis)||kr("object"==typeof window&&window)||kr("object"==typeof self&&self)||kr("object"==typeof Rn&&Rn)||function(){return this}()||Function("return this")(),Re=function(v){try{return!!v()}catch(_){return!0}},Ve=!Re(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),dn={}.propertyIsEnumerable,mr=Object.getOwnPropertyDescriptor,bo={f:mr&&!dn.call({1:2},1)?function(v){var _=mr(this,v);return!!_&&_.enumerable}:dn},nn=function(v,_){return{enumerable:!(1&v),configurable:!(2&v),writable:!(4&v),value:_}},pu={}.toString,Rr=function(v){return pu.call(v).slice(8,-1)},fl="".split,hn=Re(function(){return!Object("z").propertyIsEnumerable(0)})?function(v){return"String"==Rr(v)?fl.call(v,""):Object(v)}:Object,as=function(v){if(null==v)throw TypeError("Can't call method on "+v);return v},ei=function(v){return hn(as(v))},ln=function(v){return"object"==typeof v?null!==v:"function"==typeof v},Ln=function(v,_){if(!ln(v))return v;var w,E;if(_&&"function"==typeof(w=v.toString)&&!ln(E=w.call(v))||"function"==typeof(w=v.valueOf)&&!ln(E=w.call(v))||!_&&"function"==typeof(w=v.toString)&&!ln(E=w.call(v)))return E;throw TypeError("Can't convert object to primitive value")},ir={}.hasOwnProperty,ft=function(v,_){return ir.call(v,_)},Ma=Xe.document,Je=ln(Ma)&&ln(Ma.createElement),cc=function(v){return Je?Ma.createElement(v):{}},us=!Ve&&!Re(function(){return 7!=Object.defineProperty(cc("div"),"a",{get:function(){return 7}}).a}),Tn=Object.getOwnPropertyDescriptor,kt={f:Ve?Tn:function(v,_){if(v=ei(v),_=Ln(_,!0),us)try{return Tn(v,_)}catch(w){}if(ft(v,_))return nn(!bo.f.call(v,_),v[_])}},dc=/#|\.prototype\./,Ws=function(v,_){var w=Aa[gu(v)];return w==up||w!=$o&&("function"==typeof _?Re(_):!!_)},gu=Ws.normalize=function(v){return String(v).replace(dc,".").toLowerCase()},Aa=Ws.data={},$o=Ws.NATIVE="N",up=Ws.POLYFILL="P",Lh=Ws,Ft={},Pa=function(v){if("function"!=typeof v)throw TypeError(String(v)+" is not a function");return v},Na=function(v,_,w){if(Pa(v),void 0===_)return v;switch(w){case 0:return function(){return v.call(_)};case 1:return function(E){return v.call(_,E)};case 2:return function(E,S){return v.call(_,E,S)};case 3:return function(E,S,N){return v.call(_,E,S,N)}}return function(){return v.apply(_,arguments)}},rt=function(v){if(!ln(v))throw TypeError(String(v)+" is not an object");return v},Uo=Object.defineProperty,yr={f:Ve?Uo:function(v,_,w){if(rt(v),_=Ln(_,!0),rt(w),us)try{return Uo(v,_,w)}catch(E){}if("get"in w||"set"in w)throw TypeError("Accessors not supported");return"value"in w&&(v[_]=w.value),v}},In=Ve?function(v,_,w){return yr.f(v,_,nn(1,w))}:function(v,_,w){return v[_]=w,v},hc=kt.f,Vh=function(v){var _=function(w,E,S){if(this instanceof v){switch(arguments.length){case 0:return new v;case 1:return new v(w);case 2:return new v(w,E)}return new v(w,E,S)}return v.apply(this,arguments)};return _.prototype=v.prototype,_},Ze=function(v,_){var w,E,S,N,R,j,$,Y,re=v.target,se=v.global,Ie=v.stat,Oe=v.proto,Ge=se?Xe:Ie?Xe[re]:(Xe[re]||{}).prototype,Ae=se?Ft:Ft[re]||(Ft[re]={}),He=Ae.prototype;for(S in _)w=!Lh(se?S:re+(Ie?".":"#")+S,v.forced)&&Ge&&ft(Ge,S),R=Ae[S],w&&(j=v.noTargetGet?(Y=hc(Ge,S))&&Y.value:Ge[S]),N=w&&j?j:_[S],w&&typeof R==typeof N||($=v.bind&&w?Na(N,Xe):v.wrap&&w?Vh(N):Oe&&"function"==typeof N?Na(Function.call,N):N,(v.sham||N&&N.sham||R&&R.sham)&&In($,"sham",!0),Ae[S]=$,Oe&&(ft(Ft,E=re+"Prototype")||In(Ft,E,{}),Ft[E][S]=N,v.real&&He&&!He[S]&&In(He,S,N)))},Vn=Array.isArray||function(v){return"Array"==Rr(v)},jh=Math.ceil,fc=Math.floor,pt=function(v){return isNaN(v=+v)?0:(v>0?fc:jh)(v)},Gs=Math.min,_o=function(v){return v>0?Gs(pt(v),9007199254740991):0},Dd=function(v,_,w,E,S,N,R,j){for(var $,Y=S,re=0,se=!!R&&Na(R,j,3);re<E;){if(re in w){if($=se?se(w[re],re,_):w[re],N>0&&Vn($))Y=Dd(v,_,$,_o($.length),Y,N-1)-1;else{if(Y>=9007199254740991)throw TypeError("Exceed the acceptable array length");v[Y]=$}Y++}re++}return Y},vu=Dd,Ci=function(v){return Object(as(v))},An="__core-js_shared__",Fa=Xe[An]||function(v,_){try{In(Xe,v,_)}catch(w){Xe[v]=_}return _}(An,{}),pl=tn(function(v){(v.exports=function(_,w){return Fa[_]||(Fa[_]=void 0!==w?w:{})})("versions",[]).push({version:"3.7.0",mode:"pure",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})}),fn=0,lp=Math.random(),gl=function(v){return"Symbol("+String(void 0===v?"":v)+")_"+(++fn+lp).toString(36)},wo=!!Object.getOwnPropertySymbols&&!Re(function(){return!String(Symbol())}),mu=wo&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,ls=pl("wks"),vl=Xe.Symbol,zg=mu?vl:vl&&vl.withoutSetter||gl,pn=function(v){return ft(ls,v)||(ls[v]=wo&&ft(vl,v)?vl[v]:zg("Symbol."+v)),ls[v]},qs=pn("species"),Ys=function(v,_){var w;return Vn(v)&&("function"!=typeof(w=v.constructor)||w!==Array&&!Vn(w.prototype)?ln(w)&&null===(w=w[qs])&&(w=void 0):w=void 0),new(void 0===w?Array:w)(0===_?0:_)};Ze({target:"Array",proto:!0},{flatMap:function(v){var _,w=Ci(this),E=_o(w.length);return Pa(v),(_=Ys(w,0)).length=vu(_,w,w,E,0,1,v,arguments.length>1?arguments[1]:void 0),_}});var Ui,Ra,Mt=function(v){return Ft[v+"Prototype"]},or=Mt("Array").flatMap,Bh=Array.prototype,sr=[].push,yu=function(v){var _=1==v,w=2==v,E=3==v,S=4==v,N=6==v,R=5==v||N;return function(j,$,Y,re){for(var se,Ie,Oe=Ci(j),Ge=hn(Oe),Ae=Na($,Y,3),He=_o(Ge.length),Pe=0,Et=re||Ys,it=_?Et(j,He):w?Et(j,0):void 0;He>Pe;Pe++)if((R||Pe in Ge)&&(Ie=Ae(se=Ge[Pe],Pe,Oe),v))if(_)it[Pe]=Ie;else if(Ie)switch(v){case 3:return!0;case 5:return se;case 6:return Pe;case 2:sr.call(it,se)}else if(S)return!1;return N?-1:E||S?S:it}},bu={forEach:yu(0),map:yu(1),filter:yu(2),some:yu(3),every:yu(4),find:yu(5),findIndex:yu(6)},Lt=function(v){return"function"==typeof v?v:void 0},cs=function(v,_){return arguments.length<2?Lt(Ft[v])||Lt(Xe[v]):Ft[v]&&Ft[v][_]||Xe[v]&&Xe[v][_]},bt=cs("navigator","userAgent")||"",Td=Xe.process,Qs=Td&&Td.versions,Wt=Qs&&Qs.v8;Wt?Ra=(Ui=Wt.split("."))[0]+Ui[1]:bt&&(!(Ui=bt.match(/Edge\/(\d+)/))||Ui[1]>=74)&&(Ui=bt.match(/Chrome\/(\d+)/))&&(Ra=Ui[1]);var $e=Ra&&+Ra,La=pn("species"),_u=function(v){return $e>=51||!Re(function(){var _=[];return(_.constructor={})[La]=function(){return{foo:1}},1!==_[v](Boolean).foo})},Va=Object.defineProperty,Hh={},pc=function(v){throw v},Ue=function(v,_){if(ft(Hh,v))return Hh[v];_||(_={});var w=[][v],E=!!ft(_,"ACCESSORS")&&_.ACCESSORS,S=ft(_,0)?_[0]:pc,N=ft(_,1)?_[1]:void 0;return Hh[v]=!!w&&!Re(function(){if(E&&!Ve)return!0;var R={length:-1};E?Va(R,1,{enumerable:!0,get:pc}):R[1]=1,w.call(R,S,N)})},Sr=bu.map,gc=_u("map"),rm=Ue("map");Ze({target:"Array",proto:!0,forced:!gc||!rm},{map:function(v){return Sr(this,v,arguments.length>1?arguments[1]:void 0)}});var Id=Mt("Array").map,Ks=Array.prototype,cn=function(v){var _=v.map;return v===Ks||v instanceof Array&&_===Ks.map?Id:_},$g=bu.filter,Xs=_u("filter"),im=Ue("filter");Ze({target:"Array",proto:!0,forced:!Xs||!im},{filter:function(v){return $g(this,v,arguments.length>1?arguments[1]:void 0)}});var Zs=Mt("Array").filter,vc=Array.prototype,Lr=function(v){var _=v.filter;return v===vc||v instanceof Array&&_===vc.filter?Zs:_},ml=function(v){return function(_,w,E,S){Pa(w);var N=Ci(_),R=hn(N),j=_o(N.length),$=v?j-1:0,Y=v?-1:1;if(E<2)for(;;){if($ in R){S=R[$],$+=Y;break}if($+=Y,v?$<0:j<=$)throw TypeError("Reduce of empty array with no initial value")}for(;v?$>=0:j>$;$+=Y)$ in R&&(S=w(S,R[$],$,N));return S}},Wo={left:ml(!1),right:ml(!0)},mc=function(v,_){var w=[][v];return!!w&&Re(function(){w.call(null,_||function(){throw 1},1)})},Pn="process"==Rr(Xe.process),Ug=Wo.left,om=mc("reduce"),Di=Ue("reduce",{1:0});Ze({target:"Array",proto:!0,forced:!om||!Di||!Pn&&$e>79&&$e<83},{reduce:function(v){return Ug(this,v,arguments.length,arguments.length>1?arguments[1]:void 0)}});var En=Mt("Array").reduce,zh=Array.prototype,Wg=function(v){var _=v.reduce;return v===zh||v instanceof Array&&_===zh.reduce?En:_},Gg=[].slice,Ye={},kd=function(v,_,w){if(!(_ in Ye)){for(var E=[],S=0;S<_;S++)E[S]="a["+S+"]";Ye[_]=Function("C,a","return new C("+E.join(",")+")")}return Ye[_](v,w)},Eo=Function.bind||function(v){var _=Pa(this),w=Gg.call(arguments,1),E=function(){var S=w.concat(Gg.call(arguments));return this instanceof E?kd(_,S.length,S):_.apply(v,S)};return ln(_.prototype)&&(E.prototype=_.prototype),E};Ze({target:"Function",proto:!0},{bind:Eo});var Wi=Mt("Function").bind,ja=Function.prototype,Ba=function(v){var _=v.bind;return v===ja||v instanceof Function&&_===ja.bind?Wi:_},Js=function(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")};Ze({target:"Object",stat:!0,forced:!Ve,sham:!Ve},{defineProperty:yr.f});var Sd=tn(function(v){var _=Ft.Object,w=v.exports=function(E,S,N){return _.defineProperty(E,S,N)};_.defineProperty.sham&&(w.sham=!0)}),yc=Sd;function dt(v,_){for(var w=0;w<_.length;w++){var E=_[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),yc(v,E.key,E)}}var ea=function(v,_,w){return _&&dt(v.prototype,_),w&&dt(v,w),v},qg=function(){function v(_,w,E){var S,N,R;Js(this,v),this._source=_,this._transformers=w,this._target=E,this._listeners={add:Ba(S=this._add).call(S,this),remove:Ba(N=this._remove).call(N,this),update:Ba(R=this._update).call(R,this)}}return ea(v,[{key:"all",value:function(){return this._target.update(this._transformItems(this._source.get())),this}},{key:"start",value:function(){return this._source.on("add",this._listeners.add),this._source.on("remove",this._listeners.remove),this._source.on("update",this._listeners.update),this}},{key:"stop",value:function(){return this._source.off("add",this._listeners.add),this._source.off("remove",this._listeners.remove),this._source.off("update",this._listeners.update),this}},{key:"_transformItems",value:function(_){var w;return Wg(w=this._transformers).call(w,function(E,S){return S(E)},_)}},{key:"_add",value:function(_,w){null!=w&&this._target.add(this._transformItems(this._source.get(w.items)))}},{key:"_update",value:function(_,w){null!=w&&this._target.update(this._transformItems(this._source.get(w.items)))}},{key:"_remove",value:function(_,w){null!=w&&this._target.remove(this._transformItems(w.oldData))}}]),v}(),et=function(){function v(_){Js(this,v),this._source=_,this._transformers=[]}return ea(v,[{key:"filter",value:function(_){return this._transformers.push(function(w){return Lr(w).call(w,_)}),this}},{key:"map",value:function(_){return this._transformers.push(function(w){return cn(w).call(w,_)}),this}},{key:"flatMap",value:function(_){return this._transformers.push(function(w){return function(v){var _=v.flatMap;return v===Bh||v instanceof Array&&_===Bh.flatMap?or:_}(w).call(w,_)}),this}},{key:"to",value:function(_){return new qg(this._source,this._transformers,_)}}]),v}(),bc=Sd,cp=Math.max,br=Math.min,wu=function(v,_){var w=pt(v);return w<0?cp(w+_,0):br(w,_)},dp=function(v){return function(_,w,E){var S,N=ei(_),R=_o(N.length),j=wu(E,R);if(v&&w!=w){for(;R>j;)if((S=N[j++])!=S)return!0}else for(;R>j;j++)if((v||j in N)&&N[j]===w)return v||j||0;return!v&&-1}},ds={includes:dp(!0),indexOf:dp(!1)},Qn={},sm=ds.indexOf,Yg=function(v,_){var w,E=ei(v),S=0,N=[];for(w in E)!ft(Qn,w)&&ft(E,w)&&N.push(w);for(;_.length>S;)ft(E,w=_[S++])&&(~sm(N,w)||N.push(w));return N},rn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],hs=Object.keys||function(v){return Yg(v,rn)},fs=Ve?Object.defineProperties:function(v,_){rt(v);for(var w,E=hs(_),S=E.length,N=0;S>N;)yr.f(v,w=E[N++],_[w]);return v};Ze({target:"Object",stat:!0,forced:!Ve,sham:!Ve},{defineProperties:fs});var yl=tn(function(v){var _=Ft.Object,w=v.exports=function(E,S){return _.defineProperties(E,S)};_.defineProperties.sham&&(w.sham=!0)}),$h=rn.concat("length","prototype"),$t={f:Object.getOwnPropertyNames||function(v){return Yg(v,$h)}},_c={f:Object.getOwnPropertySymbols},Qg=cs("Reflect","ownKeys")||function(v){var _=$t.f(rt(v)),w=_c.f;return w?_.concat(w(v)):_},_r=function(v,_,w){var E=Ln(_);E in v?yr.f(v,E,nn(0,w)):v[E]=w};Ze({target:"Object",stat:!0,sham:!Ve},{getOwnPropertyDescriptors:function(v){for(var _,w,E=ei(v),S=kt.f,N=Qg(E),R={},j=0;N.length>j;)void 0!==(w=S(E,_=N[j++]))&&_r(R,_,w);return R}});var Yt=Ft.Object.getOwnPropertyDescriptors,wc=kt.f,Uh=Re(function(){wc(1)});Ze({target:"Object",stat:!0,forced:!Ve||Uh,sham:!Ve},{getOwnPropertyDescriptor:function(v,_){return wc(ei(v),_)}});var ta,Eu=tn(function(v){var _=Ft.Object,w=v.exports=function(E,S){return _.getOwnPropertyDescriptor(E,S)};_.getOwnPropertyDescriptor.sham&&(w.sham=!0)}),hp=cs("document","documentElement"),ps=pl("keys"),li=function(v){return ps[v]||(ps[v]=gl(v))},Wh=li("IE_PROTO"),Cu=function(){},Du=function(v){return"<script>"+v+"<\/script>"},Ec=function(){try{ta=document.domain&&new ActiveXObject("htmlfile")}catch(E){}var v,_;Ec=ta?function(E){E.write(Du("")),E.close();var S=E.parentWindow.Object;return E=null,S}(ta):((_=cc("iframe")).style.display="none",hp.appendChild(_),_.src=String("javascript:"),(v=_.contentWindow.document).open(),v.write(Du("document.F=Object")),v.close(),v.F);for(var w=rn.length;w--;)delete Ec.prototype[rn[w]];return Ec()};Qn[Wh]=!0;var ti=Object.create||function(v,_){var w;return null!==v?(Cu.prototype=rt(v),w=new Cu,Cu.prototype=null,w[Wh]=v):w=Ec(),void 0===_?w:fs(w,_)},xu=$t.f,Or={}.toString,jn="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Gh={f:function(v){return jn&&"[object Window]"==Or.call(v)?function(_){try{return xu(_)}catch(w){return jn.slice()}}(v):xu(ei(v))}},ut=function(v,_,w,E){E&&E.enumerable?v[_]=w:In(v,_,w)},Vr={f:pn},jr=yr.f,gn=function(v){var _=Ft.Symbol||(Ft.Symbol={});ft(_,v)||jr(_,v,{value:Vr.f(v)})},Go={};Go[pn("toStringTag")]="z";var xi="[object z]"===String(Go),Bn=pn("toStringTag"),Gi="Arguments"==Rr(function(){return arguments}()),Ce=xi?Rr:function(v){var _,w,E;return void 0===v?"Undefined":null===v?"Null":"string"==typeof(w=function(S,N){try{return S[N]}catch(R){}}(_=Object(v),Bn))?w:Gi?Rr(_):"Object"==(E=Rr(_))&&"function"==typeof _.callee?"Arguments":E},he=xi?{}.toString:function(){return"[object "+Ce(this)+"]"},vn=yr.f,ni=pn("toStringTag"),Ti=function(v,_,w,E){if(v){var S=w?v:v.prototype;ft(S,ni)||vn(S,ni,{configurable:!0,value:_}),E&&!xi&&In(S,"toString",he)}},wr=Function.toString;"function"!=typeof Fa.inspectSource&&(Fa.inspectSource=function(v){return wr.call(v)});var qo,mn,na,xt=Xe.WeakMap;if("function"==typeof xt&&/native code/.test((0,Fa.inspectSource)(xt))){var ia=Fa.state||(Fa.state=new(0,Xe.WeakMap)),Tu=ia.get,Br=ia.has,Iu=ia.set;qo=function(v,_){return _.facade=v,Iu.call(ia,v,_),_},mn=function(v){return Tu.call(ia,v)||{}},na=function(v){return Br.call(ia,v)}}else{var qi=li("state");Qn[qi]=!0,qo=function(v,_){return _.facade=v,In(v,qi,_),_},mn=function(v){return ft(v,qi)?v[qi]:{}},na=function(v){return ft(v,qi)}}var Hn={set:qo,get:mn,has:na,enforce:function(v){return na(v)?mn(v):qo(v,{})},getterFor:function(v){return function(_){var w;if(!ln(_)||(w=mn(_)).type!==v)throw TypeError("Incompatible receiver, "+v+" required");return w}}},Ut=bu.forEach,Mr=li("hidden"),ku="Symbol",Su=pn("toPrimitive"),Ou=Hn.set,ci=Hn.getterFor(ku),di=Object.prototype,Er=Xe.Symbol,zn=cs("JSON","stringify"),Cc=kt.f,Hr=yr.f,Yi=Gh.f,bl=bo.f,Ii=pl("symbols"),Do=pl("op-symbols"),Qi=pl("string-to-symbol-registry"),Kn=pl("symbol-to-string-registry"),Kg=pl("wks"),Od=Xe.QObject,Yo=!Od||!Od.prototype||!Od.prototype.findChild,fp=Ve&&Re(function(){return 7!=ti(Hr({},"a",{get:function(){return Hr(this,"a",{value:7}).a}})).a})?function(v,_,w){var E=Cc(di,_);E&&delete di[_],Hr(v,_,w),E&&v!==di&&Hr(di,_,E)}:Hr,qh=function(v,_){var w=Ii[v]=ti(Er.prototype);return Ou(w,{type:ku,tag:v,description:_}),Ve||(w.description=_),w},pp=mu?function(v){return"symbol"==typeof v}:function(v){return Object(v)instanceof Er},hi=function(v,_,w){v===di&&hi(Do,_,w),rt(v);var E=Ln(_,!0);return rt(w),ft(Ii,E)?(w.enumerable?(ft(v,Mr)&&v[Mr][E]&&(v[Mr][E]=!1),w=ti(w,{enumerable:nn(0,!1)})):(ft(v,Mr)||Hr(v,Mr,nn(1,{})),v[Mr][E]=!0),fp(v,E,w)):Hr(v,E,w)},Mu=function(v,_){rt(v);var w=ei(_),E=hs(w).concat(Qh(w));return Ut(E,function(S){Ve&&!gp.call(w,S)||hi(v,S,w[S])}),v},gp=function(v){var _=Ln(v,!0),w=bl.call(this,_);return!(this===di&&ft(Ii,_)&&!ft(Do,_))&&(!(w||!ft(this,_)||!ft(Ii,_)||ft(this,Mr)&&this[Mr][_])||w)},Yh=function(v,_){var w=ei(v),E=Ln(_,!0);if(w!==di||!ft(Ii,E)||ft(Do,E)){var S=Cc(w,E);return!S||!ft(Ii,E)||ft(w,Mr)&&w[Mr][E]||(S.enumerable=!0),S}},ki=function(v){var _=Yi(ei(v)),w=[];return Ut(_,function(E){ft(Ii,E)||ft(Qn,E)||w.push(E)}),w},Qh=function(v){var _=v===di,w=Yi(_?Do:ei(v)),E=[];return Ut(w,function(S){!ft(Ii,S)||_&&!ft(di,S)||E.push(Ii[S])}),E};if(wo||(ut((Er=function(){if(this instanceof Er)throw TypeError("Symbol is not a constructor");var v=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,_=gl(v),w=function(E){this===di&&w.call(Do,E),ft(this,Mr)&&ft(this[Mr],_)&&(this[Mr][_]=!1),fp(this,_,nn(1,E))};return Ve&&Yo&&fp(di,_,{configurable:!0,set:w}),qh(_,v)}).prototype,"toString",function(){return ci(this).tag}),ut(Er,"withoutSetter",function(v){return qh(gl(v),v)}),bo.f=gp,yr.f=hi,kt.f=Yh,$t.f=Gh.f=ki,_c.f=Qh,Vr.f=function(v){return qh(pn(v),v)},Ve&&Hr(Er.prototype,"description",{configurable:!0,get:function(){return ci(this).description}})),Ze({global:!0,wrap:!0,forced:!wo,sham:!wo},{Symbol:Er}),Ut(hs(Kg),function(v){gn(v)}),Ze({target:ku,stat:!0,forced:!wo},{for:function(v){var _=String(v);if(ft(Qi,_))return Qi[_];var w=Er(_);return Qi[_]=w,Kn[w]=_,w},keyFor:function(v){if(!pp(v))throw TypeError(v+" is not a symbol");if(ft(Kn,v))return Kn[v]},useSetter:function(){Yo=!0},useSimple:function(){Yo=!1}}),Ze({target:"Object",stat:!0,forced:!wo,sham:!Ve},{create:function(v,_){return void 0===_?ti(v):Mu(ti(v),_)},defineProperty:hi,defineProperties:Mu,getOwnPropertyDescriptor:Yh}),Ze({target:"Object",stat:!0,forced:!wo},{getOwnPropertyNames:ki,getOwnPropertySymbols:Qh}),Ze({target:"Object",stat:!0,forced:Re(function(){_c.f(1)})},{getOwnPropertySymbols:function(v){return _c.f(Ci(v))}}),zn){var am=!wo||Re(function(){var v=Er();return"[null]"!=zn([v])||"{}"!=zn({a:v})||"{}"!=zn(Object(v))});Ze({target:"JSON",stat:!0,forced:am},{stringify:function(v,_,w){for(var E,S=[v],N=1;arguments.length>N;)S.push(arguments[N++]);if(E=_,(ln(_)||void 0!==v)&&!pp(v))return Vn(_)||(_=function(R,j){if("function"==typeof E&&(j=E.call(this,R,j)),!pp(j))return j}),S[1]=_,zn.apply(null,S)}})}Er.prototype[Su]||In(Er.prototype,Su,Er.prototype.valueOf),Ti(Er,ku),Qn[Mr]=!0;var Md,Xg,vp,Ad=Ft.Object.getOwnPropertySymbols,Ar={},Au=!Re(function(){function v(){}return v.prototype.constructor=null,Object.getPrototypeOf(new v)!==v.prototype}),mp=li("IE_PROTO"),um=Object.prototype,oa=Au?Object.getPrototypeOf:function(v){return v=Ci(v),ft(v,mp)?v[mp]:"function"==typeof v.constructor&&v instanceof v.constructor?v.constructor.prototype:v instanceof Object?um:null},gs=(pn("iterator"),!1);[].keys&&("next"in(vp=[].keys())?(Xg=oa(oa(vp)))!==Object.prototype&&(Md=Xg):gs=!0),null==Md&&(Md={});var Dc={IteratorPrototype:Md,BUGGY_SAFARI_ITERATORS:gs},Si=Dc.IteratorPrototype,sa=function(){return this},xo=Object.setPrototypeOf||("__proto__"in{}?function(){var v,_=!1,w={};try{(v=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(w,[]),_=w instanceof Array}catch(E){}return function(E,S){return rt(E),function(N){if(!ln(N)&&null!==N)throw TypeError("Can't set "+String(N)+" as a prototype")}(S),_?v.call(E,S):E.__proto__=S,E}}():void 0),Pd=Dc.IteratorPrototype,Pr=Dc.BUGGY_SAFARI_ITERATORS,Pu=pn("iterator"),Nu="values",yp="entries",Ki=function(){return this},fi=function(v,_,w,E,S,N,R){var Pe,Tt;Tt=_+" Iterator",(Pe=w).prototype=ti(Si,{next:nn(1,E)}),Ti(Pe,Tt,!1,!0),Ar[Tt]=sa;var j,$,Y,re=function(Pe){if(Pe===S&&Ae)return Ae;if(!Pr&&Pe in Oe)return Oe[Pe];switch(Pe){case"keys":case Nu:case yp:return function(){return new w(this,Pe)}}return function(){return new w(this)}},se=_+" Iterator",Ie=!1,Oe=v.prototype,Ge=Oe[Pu]||Oe["@@iterator"]||S&&Oe[S],Ae=!Pr&&Ge||re(S),He="Array"==_&&Oe.entries||Ge;if(He&&(j=oa(He.call(new v)),Pd!==Object.prototype&&j.next&&(Ti(j,se,!0,!0),Ar[se]=Ki)),S==Nu&&Ge&&Ge.name!==Nu&&(Ie=!0,Ae=function(){return Ge.call(this)}),R&&Oe[Pu]!==Ae&&In(Oe,Pu,Ae),Ar[_]=Ae,S)if($={values:re(Nu),keys:N?Ae:re("keys"),entries:re(yp)},R)for(Y in $)(Pr||Ie||!(Y in Oe))&&ut(Oe,Y,$[Y]);else Ze({target:_,proto:!0,forced:Pr||Ie},$);return $},ri="Array Iterator",Fu=Hn.set,bp=Hn.getterFor(ri);fi(Array,"Array",function(v,_){Fu(this,{type:ri,target:ei(v),index:0,kind:_})},function(){var v=bp(this),_=v.target,w=v.kind,E=v.index++;return!_||E>=_.length?(v.target=void 0,{value:void 0,done:!0}):"keys"==w?{value:E,done:!1}:"values"==w?{value:_[E],done:!1}:{value:[E,_[E]],done:!1}},"values"),Ar.Arguments=Ar.Array;var To=pn("toStringTag");for(var xc in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var kn=Xe[xc],Ko=kn&&kn.prototype;Ko&&Ce(Ko)!==To&&In(Ko,To,xc),Ar[xc]=Ar.Array}var vs=function(v){return function(_,w){var E,S,N=String(as(_)),R=pt(w),j=N.length;return R<0||R>=j?v?"":void 0:(E=N.charCodeAt(R))<55296||E>56319||R+1===j||(S=N.charCodeAt(R+1))<56320||S>57343?v?N.charAt(R):E:v?N.slice(R,R+2):S-56320+(E-55296<<10)+65536}},Ru=(vs(!1),vs(!0)),Sn="String Iterator",Kh=Hn.set,_p=Hn.getterFor(Sn);fi(String,"String",function(v){Kh(this,{type:Sn,string:String(v),index:0})},function(){var v,_=_p(this),w=_.string,E=_.index;return E>=w.length?{value:void 0,done:!0}:(v=Ru(w,E),_.index+=v.length,{value:v,done:!1})});var aa=pn("iterator"),zr=function(v){if(null!=v)return v[aa]||v["@@iterator"]||Ar[Ce(v)]},ms=function(v){var _=zr(v);if("function"!=typeof _)throw TypeError(String(v)+" is not iterable");return rt(_.call(v))},Io=zr,Xo=function(v){var _=v.return;if(void 0!==_)return rt(_.call(v)).value},Oi=function(v,_,w,E){try{return E?_(rt(w)[0],w[1]):_(w)}catch(S){throw Xo(v),S}},wp=pn("iterator"),Nd=Array.prototype,Xh=function(v){return void 0!==v&&(Ar.Array===v||Nd[wp]===v)},ys=pn("iterator"),Tc=!1;try{var Fd=0,st={next:function(){return{done:!!Fd++}},return:function(){Tc=!0}};st[ys]=function(){return this},Array.from(st,function(){throw 2})}catch(v){}var Ic=!function(v,_){if(!Tc)return!1;var w=!1;try{var E={};E[ys]=function(){return{next:function(){return{done:w=!0}}}},function(v){Array.from(v)}(E)}catch(S){}return w}();Ze({target:"Array",stat:!0,forced:Ic},{from:function(v){var _,w,E,S,N,R,j=Ci(v),$="function"==typeof this?this:Array,Y=arguments.length,re=Y>1?arguments[1]:void 0,se=void 0!==re,Ie=zr(j),Oe=0;if(se&&(re=Na(re,Y>2?arguments[2]:void 0,2)),null==Ie||$==Array&&Xh(Ie))for(w=new $(_=_o(j.length));_>Oe;Oe++)R=se?re(j[Oe],Oe):j[Oe],_r(w,Oe,R);else for(N=(S=Ie.call(j)).next,w=new $;!(E=N.call(S)).done;Oe++)R=se?Oi(S,re,[E.value,Oe],!0):E.value,_r(w,Oe,R);return w.length=Oe,w}});var Zh=Ft.Array.from,Xi=Zh;Ze({target:"Array",proto:!0},{fill:function(v){for(var _=Ci(this),w=_o(_.length),E=arguments.length,S=wu(E>1?arguments[1]:void 0,w),N=E>2?arguments[2]:void 0,R=void 0===N?w:wu(N,w);R>S;)_[S++]=v;return _}}),Mt("Array");var Ep=[].slice,Jh=/MSIE .\./.test(bt),Cp=function(v){return function(_,w){var E=arguments.length>2,S=E?Ep.call(arguments,2):void 0;return v(E?function(){("function"==typeof _?_:Function(_)).apply(this,S)}:_,w)}};Ze({global:!0,bind:!0,forced:Jh},{setTimeout:Cp(Xe.setTimeout),setInterval:Cp(Xe.setInterval)});var kc=Ft.setTimeout,ge=cs("JSON","stringify"),Vt=/[\uD800-\uDFFF]/g,Sc=/^[\uD800-\uDBFF]$/,$n=/^[\uDC00-\uDFFF]$/,Rd=function(v,_,w){var E=w.charAt(_-1),S=w.charAt(_+1);return Sc.test(v)&&!$n.test(S)||$n.test(v)&&!Sc.test(E)?"\\u"+v.charCodeAt(0).toString(16):v},ua=Re(function(){return'"\\udf06\\ud834"'!==ge("\udf06\ud834")||'"\\udead"'!==ge("\udead")});ge&&Ze({target:"JSON",stat:!0,forced:ua},{stringify:function(v,_,w){var E=ge.apply(null,arguments);return"string"==typeof E?E.replace(Vt,Rd):E}}),Ft.JSON||(Ft.JSON={stringify:JSON.stringify});Ze({target:"Object",stat:!0,sham:!Ve},{create:ti});var Oc,ef=Ft.Object,Ld=function(v,_){return ef.create(v,_)},lm=Ld,_s=function(v,_,w){return _ in v?yc(v,_,{value:w,enumerable:!0,configurable:!0,writable:!0}):v[_]=w,v},ko="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",ar="["+ko+"]",Mi=RegExp("^"+ar+ar+"*"),Lu=RegExp(ar+ar+"*$"),ws=function(v){return function(_){var w=String(as(_));return 1&v&&(w=w.replace(Mi,"")),2&v&&(w=w.replace(Lu,"")),w}},Zi={start:ws(1),end:ws(2),trim:ws(3)},Vd=Zi.trim;Ze({target:"String",proto:!0,forced:(Oc="trim",Re(function(){return!!ko[Oc]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[Oc]()||ko[Oc].name!==Oc}))},{trim:function(){return Vd(this)}}),Mt("String");var tf=ds.indexOf,jd=[].indexOf,Dp=!!jd&&1/[1].indexOf(1,-0)<0,xp=mc("indexOf"),Bd=Ue("indexOf",{ACCESSORS:!0,1:0});Ze({target:"Array",proto:!0,forced:Dp||!xp||!Bd},{indexOf:function(v){return Dp?jd.apply(this,arguments)||0:tf(this,v,arguments.length>1?arguments[1]:void 0)}}),Mt("Array");var nf=Zi.trim,la=Xe.parseInt,Tp=/^[+-]?0[Xx]/,Mc=8!==la(ko+"08")||22!==la(ko+"0x16")?function(v,_){var w=nf(String(v));return la(w,_>>>0||(Tp.test(w)?16:10))}:la;Ze({global:!0,forced:parseInt!=Mc},{parseInt:Mc});var Ac=bo.f,Hd=function(v){return function(_){for(var w,E=ei(_),S=hs(E),N=S.length,R=0,j=[];N>R;)w=S[R++],Ve&&!Ac.call(E,w)||j.push(v?[w,E[w]]:E[w]);return j}},Ip=(Hd(!0),Hd(!1));Ze({target:"Object",stat:!0},{values:function(v){return Ip(v)}});var rf=Re(function(){oa(1)});Ze({target:"Object",stat:!0,forced:rf,sham:!Au},{getPrototypeOf:function(v){return oa(Ci(v))}});var kp=Ft.Object.getPrototypeOf,zd=ds.includes,Zg=Ue("indexOf",{ACCESSORS:!0,1:0});Ze({target:"Array",proto:!0,forced:!Zg},{includes:function(v){return zd(this,v,arguments.length>1?arguments[1]:void 0)}}),Mt("Array");var Pc=pn("match"),pi=function(v){if(ln(_=v)&&(void 0!==(w=_[Pc])?w:"RegExp"==Rr(_)))throw TypeError("The method doesn't accept regular expressions");var _,w;return v},za=pn("match");Ze({target:"String",proto:!0,forced:!function(v){var _=/./;try{"/./"[v](_)}catch(w){try{return _[za]=!1,"/./"[v](_)}catch(E){}}return!1}("includes")},{includes:function(v){return!!~String(as(this)).indexOf(pi(v),arguments.length>1?arguments[1]:void 0)}}),Mt("String");var Ht=Object.assign,_l=Object.defineProperty,Nc=!Ht||Re(function(){if(Ve&&1!==Ht({b:1},Ht(_l({},"a",{enumerable:!0,get:function(){_l(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var v={},_={},w=Symbol(),E="abcdefghijklmnopqrst";return v[w]=7,E.split("").forEach(function(S){_[S]=S}),7!=Ht({},v)[w]||hs(Ht({},_)).join("")!=E})?function(v,_){for(var w=Ci(v),E=arguments.length,S=1,N=_c.f,R=bo.f;E>S;)for(var j,$=hn(arguments[S++]),Y=N?hs($).concat(N($)):hs($),re=Y.length,se=0;re>se;)j=Y[se++],Ve&&!R.call($,j)||(w[j]=$[j]);return w}:Ht;Ze({target:"Object",stat:!0,forced:Object.assign!==Nc},{assign:Nc});var $d=Ft.Object.assign,Jg=_u("splice"),of=Ue("splice",{ACCESSORS:!0,0:0,1:2}),ev=Math.max,Fc=Math.min,Ud=9007199254740991,Rc="Maximum allowed length exceeded";Ze({target:"Array",proto:!0,forced:!Jg||!of},{splice:function(v,_){var w,E,S,N,R,j,$=Ci(this),Y=_o($.length),re=wu(v,Y),se=arguments.length;if(0===se?w=E=0:1===se?(w=0,E=Y-re):(w=se-2,E=Fc(ev(pt(_),0),Y-re)),Y+w-E>Ud)throw TypeError(Rc);for(S=Ys($,E),N=0;N<E;N++)(R=re+N)in $&&_r(S,N,$[R]);if(S.length=E,w<E){for(N=re;N<Y-E;N++)j=N+w,(R=N+E)in $?$[j]=$[R]:delete $[j];for(N=Y;N>Y-E+w;N--)delete $[N-1]}else if(w>E)for(N=Y-E;N>re;N--)j=N+w-1,(R=N+E-1)in $?$[j]=$[R]:delete $[j];for(N=0;N<w;N++)$[N+re]=arguments[N+2];return $.length=Y-E+w,S}});var Wd=Mt("Array").splice,Gd=Array.prototype,sf=function(v){var _=v.splice;return v===Gd||v instanceof Array&&_===Gd.splice?Wd:_},ca=[].reverse,Vu=[1,2];Ze({target:"Array",proto:!0,forced:String(Vu)===String(Vu.reverse())},{reverse:function(){return Vn(this)&&(this.length=this.length),ca.call(this)}});var Sp=Mt("Array").reverse,af=Array.prototype,qd=bu.forEach,ju=mc("forEach"),tv=Ue("forEach"),Op=ju&&tv?[].forEach:function(v){return qd(this,v,arguments.length>1?arguments[1]:void 0)};Ze({target:"Array",proto:!0,forced:[].forEach!=Op},{forEach:Op});var Mp=Mt("Array").forEach,Lc=Array.prototype,uf={DOMTokenList:!0,NodeList:!0},Ji=function(v){var _=v.forEach;return v===Lc||v instanceof Array&&_===Lc.forEach||uf.hasOwnProperty(Ce(v))?Mp:_};Ze({target:"Array",stat:!0},{isArray:Vn});var Vc=Ft.Array.isArray,Yd=Vc,wl=pn("iterator"),Ap=function(v){var _=Object(v);return void 0!==_[wl]||"@@iterator"in _||Ar.hasOwnProperty(Ce(_))},Bu=pn("isConcatSpreadable"),jc=9007199254740991,El="Maximum allowed index exceeded",Pp=$e>=51||!Re(function(){var v=[];return v[Bu]=!1,v.concat()[0]!==v}),Qd=_u("concat"),Kd=function(v){if(!ln(v))return!1;var _=v[Bu];return void 0!==_?!!_:Vn(v)};Ze({target:"Array",proto:!0,forced:!Pp||!Qd},{concat:function(v){var _,w,E,S,N,R=Ci(this),j=Ys(R,0),$=0;for(_=-1,E=arguments.length;_<E;_++)if(Kd(N=-1===_?R:arguments[_])){if($+(S=_o(N.length))>jc)throw TypeError(El);for(w=0;w<S;w++,$++)w in N&&_r(j,$,N[w])}else{if($>=jc)throw TypeError(El);_r(j,$++,N)}return j.length=$,j}}),gn("asyncIterator"),gn("hasInstance"),gn("isConcatSpreadable"),gn("iterator"),gn("match"),gn("matchAll"),gn("replace"),gn("search"),gn("species"),gn("split"),gn("toPrimitive"),gn("toStringTag"),gn("unscopables"),Ti(Xe.JSON,"JSON",!0);var Zo=Ft.Symbol;gn("asyncDispose"),gn("dispose"),gn("observable"),gn("patternMatch"),gn("replaceAll");var Cl=Zo,So=Zh,Dl=_u("slice"),Xd=Ue("slice",{ACCESSORS:!0,0:0,1:2}),Hu=pn("species"),cf=[].slice,Zd=Math.max;Ze({target:"Array",proto:!0,forced:!Dl||!Xd},{slice:function(v,_){var w,E,S,N=ei(this),R=_o(N.length),j=wu(v,R),$=wu(void 0===_?R:_,R);if(Vn(N)&&("function"!=typeof(w=N.constructor)||w!==Array&&!Vn(w.prototype)?ln(w)&&null===(w=w[Hu])&&(w=void 0):w=void 0,w===Array||void 0===w))return cf.call(N,j,$);for(E=new(void 0===w?Array:w)(Zd($-j,0)),S=0;j<$;j++,S++)j in N&&_r(E,S,N[j]);return E.length=S,E}});var df=Mt("Array").slice,Jd=Array.prototype,xl=function(v){var _=v.slice;return v===Jd||v instanceof Array&&_===Jd.slice?df:_},cm=xl,eh=function(v,_){(null==_||_>v.length)&&(_=v.length);for(var w=0,E=new Array(_);w<_;w++)E[w]=v[w];return E},Tl=function(v,_){var w;if(v){if("string"==typeof v)return eh(v,_);var E=cm(w=Object.prototype.toString.call(v)).call(w,8,-1);return"Object"===E&&v.constructor&&(E=v.constructor.name),"Map"===E||"Set"===E?So(v):"Arguments"===E||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E)?eh(v,_):void 0}},Ai=function(v,_){return function(v){if(Yd(v))return v}(v)||function(v,_){if(void 0!==Cl&&Ap(Object(v))){var w=[],E=!0,S=!1,N=void 0;try{for(var R,j=ms(v);!(E=(R=j.next()).done)&&(w.push(R.value),!_||w.length!==_);E=!0);}catch($){S=!0,N=$}finally{try{E||null==j.return||j.return()}finally{if(S)throw N}}return w}}(v,_)||Tl(v,_)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()};Ze({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}});var Un=Re(function(){hs(1)});Ze({target:"Object",stat:!0,forced:Un},{keys:function(v){return hs(Ci(v))}});var hf=Ft.Object.keys,Xn=Vc,oi=Vr.f("iterator"),ff=oi,si=tn(function(v){function _(w){return v.exports=_="function"==typeof Cl&&"symbol"==typeof ff?function(E){return typeof E}:function(E){return E&&"function"==typeof Cl&&E.constructor===Cl&&E!==Cl.prototype?"symbol":typeof E},_(w)}v.exports=_});Ze({target:"Reflect",stat:!0},{ownKeys:Qg});var Ua=Ft.Reflect.ownKeys,Es=xl,Zn=function(v){return function(v){if(Yd(v))return eh(v)}(v)||function(v){if(void 0!==Cl&&Ap(Object(v)))return So(v)}(v)||Tl(v)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},$u=Mt("Array").concat,da=Array.prototype,ha=function(v){var _=v.concat;return v===da||v instanceof Array&&_===da.concat?$u:_},Hc=Zo,dm=tn(function(v){function _(w){if(w)return function(E){for(var S in _.prototype)E[S]=_.prototype[S];return E}(w)}v.exports=_,_.prototype.on=_.prototype.addEventListener=function(w,E){return this._callbacks=this._callbacks||{},(this._callbacks["$"+w]=this._callbacks["$"+w]||[]).push(E),this},_.prototype.once=function(w,E){function S(){this.off(w,S),E.apply(this,arguments)}return S.fn=E,this.on(w,S),this},_.prototype.off=_.prototype.removeListener=_.prototype.removeAllListeners=_.prototype.removeEventListener=function(w,E){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var S,N=this._callbacks["$"+w];if(!N)return this;if(1==arguments.length)return delete this._callbacks["$"+w],this;for(var R=0;R<N.length;R++)if((S=N[R])===E||S.fn===E){N.splice(R,1);break}return 0===N.length&&delete this._callbacks["$"+w],this},_.prototype.emit=function(w){this._callbacks=this._callbacks||{};for(var E=new Array(arguments.length-1),S=this._callbacks["$"+w],N=1;N<arguments.length;N++)E[N-1]=arguments[N];if(S){N=0;for(var R=(S=S.slice(0)).length;N<R;++N)S[N].apply(this,E)}return this},_.prototype.listeners=function(w){return this._callbacks=this._callbacks||{},this._callbacks["$"+w]||[]},_.prototype.hasListeners=function(w){return!!this.listeners(w).length}});function gt(){return(gt=Object.assign||function(v){for(var _=1;_<arguments.length;_++){var w=arguments[_];for(var E in w)Object.prototype.hasOwnProperty.call(w,E)&&(v[E]=w[E])}return v}).apply(this,arguments)}function $r(v,_){v.prototype=Object.create(_.prototype),v.prototype.constructor=v,v.__proto__=_}function Uu(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}var yn,kl="function"!=typeof Object.assign?function(v){if(null==v)throw new TypeError("Cannot convert undefined or null to object");for(var _=Object(v),w=1;w<arguments.length;w++){var E=arguments[w];if(null!=E)for(var S in E)E.hasOwnProperty(S)&&(_[S]=E[S])}return _}:Object.assign,hm=["","webkit","Moz","MS","ms","o"],Wu="undefined"==typeof document?{style:{}}:document.createElement("div"),Wa=Math.round,Gu=Math.abs,zc=Date.now;function $c(v,_){for(var w,E,S=_[0].toUpperCase()+_.slice(1),N=0;N<hm.length;){if((E=(w=hm[N])?w+S:_)in v)return E;N++}}yn="undefined"==typeof window?{}:window;var gf=$c(Wu.style,"touchAction"),Ga=void 0!==gf,Uc="compute",Wc="manipulation",Cs="none",Gc="pan-x",qc="pan-y",Ur=function(){if(!Ga)return!1;var v={},_=yn.CSS&&yn.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(w){return v[w]=!_||yn.CSS.supports("touch-action",w)}),v}(),Oo="ontouchstart"in yn,th=void 0!==$c(yn,"PointerEvent"),fa=Oo&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),ai="touch",Sl="mouse",nv=["x","y"],vf=["clientX","clientY"];function Ds(v,_,w){var E;if(v)if(v.forEach)v.forEach(_,w);else if(void 0!==v.length)for(E=0;E<v.length;)_.call(w,v[E],E,v),E++;else for(E in v)v.hasOwnProperty(E)&&_.call(w,v[E],E,v)}function Wr(v,_){return"function"==typeof v?v.apply(_&&_[0]||void 0,_):v}function Mo(v,_){return v.indexOf(_)>-1}var ur=function(){function v(w,E){this.manager=w,this.set(E)}var _=v.prototype;return _.set=function(w){w===Uc&&(w=this.compute()),Ga&&this.manager.element.style&&Ur[w]&&(this.manager.element.style[gf]=w),this.actions=w.toLowerCase().trim()},_.update=function(){this.set(this.manager.options.touchAction)},_.compute=function(){var w=[];return Ds(this.manager.recognizers,function(E){Wr(E.options.enable,[E])&&(w=w.concat(E.getTouchAction()))}),function(E){if(Mo(E,Cs))return Cs;var S=Mo(E,Gc),N=Mo(E,qc);return S&&N?Cs:S||N?S?Gc:qc:Mo(E,Wc)?Wc:"auto"}(w.join(" "))},_.preventDefaults=function(w){var E=w.srcEvent,S=w.offsetDirection;if(this.manager.session.prevented)E.preventDefault();else{var N=this.actions,R=Mo(N,Cs)&&!Ur.none,j=Mo(N,qc)&&!Ur["pan-y"],$=Mo(N,Gc)&&!Ur["pan-x"];if(R&&1===w.pointers.length&&w.distance<2&&w.deltaTime<250)return;if(!$||!j)return R||j&&6&S||$&&24&S?this.preventSrc(E):void 0}},_.preventSrc=function(w){this.manager.session.prevented=!0,w.preventDefault()},v}();function Al(v,_){for(;v;){if(v===_)return!0;v=v.parentNode}return!1}function nh(v){var _=v.length;if(1===_)return{x:Wa(v[0].clientX),y:Wa(v[0].clientY)};for(var w=0,E=0,S=0;S<_;)w+=v[S].clientX,E+=v[S].clientY,S++;return{x:Wa(w/_),y:Wa(E/_)}}function Np(v){for(var _=[],w=0;w<v.pointers.length;)_[w]={clientX:Wa(v.pointers[w].clientX),clientY:Wa(v.pointers[w].clientY)},w++;return{timeStamp:zc(),pointers:_,center:nh(_),deltaX:v.deltaX,deltaY:v.deltaY}}function Pl(v,_,w){w||(w=nv);var E=_[w[0]]-v[w[0]],S=_[w[1]]-v[w[1]];return Math.sqrt(E*E+S*S)}function eo(v,_,w){return w||(w=nv),180*Math.atan2(_[w[1]]-v[w[1]],_[w[0]]-v[w[0]])/Math.PI}function to(v,_){return v===_?1:Gu(v)>=Gu(_)?v<0?2:4:_<0?8:16}function no(v,_,w){return{x:_/v||0,y:w/v||0}}function xs(v,_,w){var E=w.pointers.length,S=w.changedPointers.length,N=1&_&&E-S==0,R=12&_&&E-S==0;w.isFirst=!!N,w.isFinal=!!R,N&&(v.session={}),w.eventType=_,function(v,_){var w=v.session,E=_.pointers,S=E.length;w.firstInput||(w.firstInput=Np(_)),S>1&&!w.firstMultiple?w.firstMultiple=Np(_):1===S&&(w.firstMultiple=!1);var Ae,He,Pe,Et,it,Tt,N=w.firstInput,R=w.firstMultiple,j=R?R.center:N.center,$=_.center=nh(E);_.timeStamp=zc(),_.deltaTime=_.timeStamp-N.timeStamp,_.angle=eo(j,$),_.distance=Pl(j,$),Pe=(He=_).center,Et=(Ae=w).offsetDelta||{},it=Ae.prevDelta||{},Tt=Ae.prevInput||{},1!==He.eventType&&4!==Tt.eventType||(it=Ae.prevDelta={x:Tt.deltaX||0,y:Tt.deltaY||0},Et=Ae.offsetDelta={x:Pe.x,y:Pe.y}),He.deltaX=it.x+(Pe.x-Et.x),He.deltaY=it.y+(Pe.y-Et.y),_.offsetDirection=to(_.deltaX,_.deltaY);var Y,re,se=no(_.deltaTime,_.deltaX,_.deltaY);_.overallVelocityX=se.x,_.overallVelocityY=se.y,_.overallVelocity=Gu(se.x)>Gu(se.y)?se.x:se.y,_.scale=R?(Y=R.pointers,Pl((re=E)[0],re[1],vf)/Pl(Y[0],Y[1],vf)):1,_.rotation=R?function(Ae,He){return eo(He[1],He[0],vf)+eo(Ae[1],Ae[0],vf)}(R.pointers,E):0,_.maxPointers=w.prevInput?_.pointers.length>w.prevInput.maxPointers?_.pointers.length:w.prevInput.maxPointers:_.pointers.length,function(Ae,He){var Pe,Et,it,Tt,Zt=Ae.lastInterval||He,cr=He.timeStamp-Zt.timeStamp;if(8!==He.eventType&&(cr>25||void 0===Zt.velocity)){var Li=He.deltaX-Zt.deltaX,dr=He.deltaY-Zt.deltaY,Yr=no(cr,Li,dr);Et=Yr.x,it=Yr.y,Pe=Gu(Yr.x)>Gu(Yr.y)?Yr.x:Yr.y,Tt=to(Li,dr),Ae.lastInterval=He}else Pe=Zt.velocity,Et=Zt.velocityX,it=Zt.velocityY,Tt=Zt.direction;He.velocity=Pe,He.velocityX=Et,He.velocityY=it,He.direction=Tt}(w,_);var Ie,Oe=v.element,Ge=_.srcEvent;Al(Ie=Ge.composedPath?Ge.composedPath()[0]:Ge.path?Ge.path[0]:Ge.target,Oe)&&(Oe=Ie),_.target=Oe}(v,w),v.emit("hammer.input",w),v.recognize(w),v.session.prevInput=w}function Ts(v){return v.trim().split(/\s+/g)}function rh(v,_,w){Ds(Ts(_),function(E){v.addEventListener(E,w,!1)})}function Gr(v,_,w){Ds(Ts(_),function(E){v.removeEventListener(E,w,!1)})}function qa(v){var _=v.ownerDocument||v;return _.defaultView||_.parentWindow||window}var ro=function(){function v(w,E){var S=this;this.manager=w,this.callback=E,this.element=w.element,this.target=w.options.inputTarget,this.domHandler=function(N){Wr(w.options.enable,[w])&&S.handler(N)},this.init()}var _=v.prototype;return _.handler=function(){},_.init=function(){this.evEl&&rh(this.element,this.evEl,this.domHandler),this.evTarget&&rh(this.target,this.evTarget,this.domHandler),this.evWin&&rh(qa(this.element),this.evWin,this.domHandler)},_.destroy=function(){this.evEl&&Gr(this.element,this.evEl,this.domHandler),this.evTarget&&Gr(this.target,this.evTarget,this.domHandler),this.evWin&&Gr(qa(this.element),this.evWin,this.domHandler)},v}();function pa(v,_,w){if(v.indexOf&&!w)return v.indexOf(_);for(var E=0;E<v.length;){if(w&&v[E][w]==_||!w&&v[E]===_)return E;E++}return-1}var Fp={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},ih={2:ai,3:"pen",4:Sl,5:"kinect"},Yu="pointerdown",oh="pointermove pointerup pointercancel";yn.MSPointerEvent&&!yn.PointerEvent&&(Yu="MSPointerDown",oh="MSPointerMove MSPointerUp MSPointerCancel");var Nl=function(v){function _(){var w,E=_.prototype;return E.evEl=Yu,E.evWin=oh,(w=v.apply(this,arguments)||this).store=w.manager.session.pointerEvents=[],w}return $r(_,v),_.prototype.handler=function(w){var E=this.store,S=!1,N=w.type.toLowerCase().replace("ms",""),R=Fp[N],j=ih[w.pointerType]||w.pointerType,$=j===ai,Y=pa(E,w.pointerId,"pointerId");1&R&&(0===w.button||$)?Y<0&&(E.push(w),Y=E.length-1):12&R&&(S=!0),Y<0||(E[Y]=w,this.callback(this.manager,R,{pointers:E,changedPointers:[w],pointerType:j,srcEvent:w}),S&&E.splice(Y,1))},_}(ro);function Ao(v){return Array.prototype.slice.call(v,0)}function ga(v,_,w){for(var E=[],S=[],N=0;N<v.length;){var R=_?v[N][_]:v[N];pa(S,R)<0&&E.push(v[N]),S[N]=R,N++}return w&&(E=_?E.sort(function(j,$){return j[_]>$[_]}):E.sort()),E}var Rp={touchstart:1,touchmove:2,touchend:4,touchcancel:8},At="touchstart touchmove touchend touchcancel",Yc=function(v){function _(){var w;return _.prototype.evTarget=At,(w=v.apply(this,arguments)||this).targetIds={},w}return $r(_,v),_.prototype.handler=function(w){var E=Rp[w.type],S=Qu.call(this,w,E);S&&this.callback(this.manager,E,{pointers:S[0],changedPointers:S[1],pointerType:ai,srcEvent:w})},_}(ro);function Qu(v,_){var w,E,S=Ao(v.touches),N=this.targetIds;if(3&_&&1===S.length)return N[S[0].identifier]=!0,[S,S];var R=Ao(v.changedTouches),j=[],$=this.target;if(E=S.filter(function(Y){return Al(Y.target,$)}),1===_)for(w=0;w<E.length;)N[E[w].identifier]=!0,w++;for(w=0;w<R.length;)N[R[w].identifier]&&j.push(R[w]),12&_&&delete N[R[w].identifier],w++;return j.length?[ga(E.concat(j),"identifier",!0),j]:void 0}var Pi={mousedown:1,mousemove:2,mouseup:4},Fl="mousedown",rv="mousemove mouseup",Qc=function(v){function _(){var w,E=_.prototype;return E.evEl=Fl,E.evWin=rv,(w=v.apply(this,arguments)||this).pressed=!1,w}return $r(_,v),_.prototype.handler=function(w){var E=Pi[w.type];1&E&&0===w.button&&(this.pressed=!0),2&E&&1!==w.which&&(E=4),this.pressed&&(4&E&&(this.pressed=!1),this.callback(this.manager,E,{pointers:[w],changedPointers:[w],pointerType:Sl,srcEvent:w}))},_}(ro);function mf(v){var _=v.changedPointers[0];if(_.identifier===this.primaryTouch){var w={x:_.clientX,y:_.clientY},E=this.lastTouches;this.lastTouches.push(w),setTimeout(function(){var S=E.indexOf(w);S>-1&&E.splice(S,1)},2500)}}function iv(v,_){1&v?(this.primaryTouch=_.changedPointers[0].identifier,mf.call(this,_)):12&v&&mf.call(this,_)}function Rl(v){for(var _=v.srcEvent.clientX,w=v.srcEvent.clientY,E=0;E<this.lastTouches.length;E++){var S=this.lastTouches[E],N=Math.abs(_-S.x),R=Math.abs(w-S.y);if(N<=25&&R<=25)return!0}return!1}var Jo=function(v){function _(w,E){var S;return(S=v.call(this,w,E)||this).handler=function(N,R,j){var Y=j.pointerType===Sl;if(!(Y&&j.sourceCapabilities&&j.sourceCapabilities.firesTouchEvents)){if(j.pointerType===ai)iv.call(Uu(Uu(S)),R,j);else if(Y&&Rl.call(Uu(Uu(S)),j))return;S.callback(N,R,j)}},S.touch=new Yc(S.manager,S.handler),S.mouse=new Qc(S.manager,S.handler),S.primaryTouch=null,S.lastTouches=[],S}return $r(_,v),_.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},_}(ro);function Is(v,_,w){return!!Array.isArray(v)&&(Ds(v,w[_],w),!0)}var yf=1;function io(v,_){var w=_.manager;return w?w.get(v):v}function sh(v){return 16&v?"cancel":8&v?"end":4&v?"move":2&v?"start":""}var Ya=function(){function v(w){void 0===w&&(w={}),this.options=gt({enable:!0},w),this.id=yf++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var _=v.prototype;return _.set=function(w){return kl(this.options,w),this.manager&&this.manager.touchAction.update(),this},_.recognizeWith=function(w){if(Is(w,"recognizeWith",this))return this;var E=this.simultaneous;return E[(w=io(w,this)).id]||(E[w.id]=w,w.recognizeWith(this)),this},_.dropRecognizeWith=function(w){return Is(w,"dropRecognizeWith",this)||(w=io(w,this),delete this.simultaneous[w.id]),this},_.requireFailure=function(w){if(Is(w,"requireFailure",this))return this;var E=this.requireFail;return-1===pa(E,w=io(w,this))&&(E.push(w),w.requireFailure(this)),this},_.dropRequireFailure=function(w){if(Is(w,"dropRequireFailure",this))return this;w=io(w,this);var E=pa(this.requireFail,w);return E>-1&&this.requireFail.splice(E,1),this},_.hasRequireFailures=function(){return this.requireFail.length>0},_.canRecognizeWith=function(w){return!!this.simultaneous[w.id]},_.emit=function(w){var E=this,S=this.state;function N(R){E.manager.emit(R,w)}S<8&&N(E.options.event+sh(S)),N(E.options.event),w.additionalEvent&&N(w.additionalEvent),S>=8&&N(E.options.event+sh(S))},_.tryEmit=function(w){if(this.canEmit())return this.emit(w);this.state=32},_.canEmit=function(){for(var w=0;w<this.requireFail.length;){if(!(33&this.requireFail[w].state))return!1;w++}return!0},_.recognize=function(w){var E=kl({},w);if(!Wr(this.options.enable,[this,E]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(E),30&this.state&&this.tryEmit(E)},_.process=function(w){},_.getTouchAction=function(){},_.reset=function(){},v}(),ah=function(v){function _(E){var S;return void 0===E&&(E={}),(S=v.call(this,gt({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},E))||this).pTime=!1,S.pCenter=!1,S._timer=null,S._input=null,S.count=0,S}$r(_,v);var w=_.prototype;return w.getTouchAction=function(){return[Wc]},w.process=function(E){var S=this,N=this.options,R=E.pointers.length===N.pointers,j=E.distance<N.threshold,$=E.deltaTime<N.time;if(this.reset(),1&E.eventType&&0===this.count)return this.failTimeout();if(j&&$&&R){if(4!==E.eventType)return this.failTimeout();var Y=!this.pTime||E.timeStamp-this.pTime<N.interval,re=!this.pCenter||Pl(this.pCenter,E.center)<N.posThreshold;if(this.pTime=E.timeStamp,this.pCenter=E.center,re&&Y?this.count+=1:this.count=1,this._input=E,this.count%N.taps==0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){S.state=8,S.tryEmit()},N.interval),2):8}return 32},w.failTimeout=function(){var E=this;return this._timer=setTimeout(function(){E.state=32},this.options.interval),32},w.reset=function(){clearTimeout(this._timer)},w.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},_}(Ya),va=function(v){function _(E){return void 0===E&&(E={}),v.call(this,gt({pointers:1},E))||this}$r(_,v);var w=_.prototype;return w.attrTest=function(E){var S=this.options.pointers;return 0===S||E.pointers.length===S},w.process=function(E){var S=this.state,N=E.eventType,R=6&S,j=this.attrTest(E);return R&&(8&N||!j)?16|S:R||j?4&N?8|S:2&S?4|S:2:32},_}(Ya);function Lp(v){return 16===v?"down":8===v?"up":2===v?"left":4===v?"right":""}var ma=function(v){function _(E){var S;return void 0===E&&(E={}),(S=v.call(this,gt({event:"pan",threshold:10,pointers:1,direction:30},E))||this).pX=null,S.pY=null,S}$r(_,v);var w=_.prototype;return w.getTouchAction=function(){var E=this.options.direction,S=[];return 6&E&&S.push(qc),24&E&&S.push(Gc),S},w.directionTest=function(E){var S=this.options,N=!0,R=E.distance,j=E.direction,$=E.deltaX,Y=E.deltaY;return j&S.direction||(6&S.direction?(j=0===$?1:$<0?2:4,N=$!==this.pX,R=Math.abs(E.deltaX)):(j=0===Y?1:Y<0?8:16,N=Y!==this.pY,R=Math.abs(E.deltaY))),E.direction=j,N&&R>S.threshold&&j&S.direction},w.attrTest=function(E){return va.prototype.attrTest.call(this,E)&&(2&this.state||!(2&this.state)&&this.directionTest(E))},w.emit=function(E){this.pX=E.deltaX,this.pY=E.deltaY;var S=Lp(E.direction);S&&(E.additionalEvent=this.options.event+S),v.prototype.emit.call(this,E)},_}(va),Ll=function(v){function _(E){return void 0===E&&(E={}),v.call(this,gt({event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},E))||this}$r(_,v);var w=_.prototype;return w.getTouchAction=function(){return ma.prototype.getTouchAction.call(this)},w.attrTest=function(E){var S,N=this.options.direction;return 30&N?S=E.overallVelocity:6&N?S=E.overallVelocityX:24&N&&(S=E.overallVelocityY),v.prototype.attrTest.call(this,E)&&N&E.offsetDirection&&E.distance>this.options.threshold&&E.maxPointers===this.options.pointers&&Gu(S)>this.options.velocity&&4&E.eventType},w.emit=function(E){var S=Lp(E.offsetDirection);S&&this.manager.emit(this.options.event+S,E),this.manager.emit(this.options.event,E)},_}(va),Vp=function(v){function _(E){return void 0===E&&(E={}),v.call(this,gt({event:"pinch",threshold:0,pointers:2},E))||this}$r(_,v);var w=_.prototype;return w.getTouchAction=function(){return[Cs]},w.attrTest=function(E){return v.prototype.attrTest.call(this,E)&&(Math.abs(E.scale-1)>this.options.threshold||2&this.state)},w.emit=function(E){1!==E.scale&&(E.additionalEvent=this.options.event+(E.scale<1?"in":"out")),v.prototype.emit.call(this,E)},_}(va),Qa=function(v){function _(E){return void 0===E&&(E={}),v.call(this,gt({event:"rotate",threshold:0,pointers:2},E))||this}$r(_,v);var w=_.prototype;return w.getTouchAction=function(){return[Cs]},w.attrTest=function(E){return v.prototype.attrTest.call(this,E)&&(Math.abs(E.rotation)>this.options.threshold||2&this.state)},_}(va),qr=function(v){function _(E){var S;return void 0===E&&(E={}),(S=v.call(this,gt({event:"press",pointers:1,time:251,threshold:9},E))||this)._timer=null,S._input=null,S}$r(_,v);var w=_.prototype;return w.getTouchAction=function(){return["auto"]},w.process=function(E){var S=this,N=this.options,R=E.pointers.length===N.pointers,j=E.distance<N.threshold,$=E.deltaTime>N.time;if(this._input=E,!j||!R||12&E.eventType&&!$)this.reset();else if(1&E.eventType)this.reset(),this._timer=setTimeout(function(){S.state=8,S.tryEmit()},N.time);else if(4&E.eventType)return 8;return 32},w.reset=function(){clearTimeout(this._timer)},w.emit=function(E){8===this.state&&(E&&4&E.eventType?this.manager.emit(this.options.event+"up",E):(this._input.timeStamp=zc(),this.manager.emit(this.options.event,this._input)))},_}(Ya),jp={domEvents:!1,touchAction:Uc,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},ov=[[Qa,{enable:!1}],[Vp,{enable:!1},["rotate"]],[Ll,{direction:6}],[ma,{direction:6},["swipe"]],[ah],[ah,{event:"doubletap",taps:2},["tap"]],[qr]];function Kc(v,_){var w,E=v.element;E.style&&(Ds(v.options.cssProps,function(S,N){w=$c(E.style,N),_?(v.oldCssProps[w]=E.style[w],E.style[w]=S):E.style[w]=v.oldCssProps[w]||""}),_||(v.oldCssProps={}))}var bf=function(){function v(w,E){var N=this;this.options=kl({},jp,E||{}),this.options.inputTarget=this.options.inputTarget||w,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=w,this.input=new(this.options.inputClass||(th?Nl:fa?Yc:Oo?Jo:Qc))(this,xs),this.touchAction=new ur(this,this.options.touchAction),Kc(this,!0),Ds(this.options.recognizers,function(R){var j=N.add(new R[0](R[1]));R[2]&&j.recognizeWith(R[2]),R[3]&&j.requireFailure(R[3])},this)}var _=v.prototype;return _.set=function(w){return kl(this.options,w),w.touchAction&&this.touchAction.update(),w.inputTarget&&(this.input.destroy(),this.input.target=w.inputTarget,this.input.init()),this},_.stop=function(w){this.session.stopped=w?2:1},_.recognize=function(w){var E=this.session;if(!E.stopped){var S;this.touchAction.preventDefaults(w);var N=this.recognizers,R=E.curRecognizer;(!R||R&&8&R.state)&&(E.curRecognizer=null,R=null);for(var j=0;j<N.length;)S=N[j],2===E.stopped||R&&S!==R&&!S.canRecognizeWith(R)?S.reset():S.recognize(w),!R&&14&S.state&&(E.curRecognizer=S,R=S),j++}},_.get=function(w){if(w instanceof Ya)return w;for(var E=this.recognizers,S=0;S<E.length;S++)if(E[S].options.event===w)return E[S];return null},_.add=function(w){if(Is(w,"add",this))return this;var E=this.get(w.options.event);return E&&this.remove(E),this.recognizers.push(w),w.manager=this,this.touchAction.update(),w},_.remove=function(w){if(Is(w,"remove",this))return this;var E=this.get(w);if(w){var S=this.recognizers,N=pa(S,E);-1!==N&&(S.splice(N,1),this.touchAction.update())}return this},_.on=function(w,E){if(void 0===w||void 0===E)return this;var S=this.handlers;return Ds(Ts(w),function(N){S[N]=S[N]||[],S[N].push(E)}),this},_.off=function(w,E){if(void 0===w)return this;var S=this.handlers;return Ds(Ts(w),function(N){E?S[N]&&S[N].splice(pa(S[N],E),1):delete S[N]}),this},_.emit=function(w,E){var R,j,$;this.options.domEvents&&(R=w,j=E,($=document.createEvent("Event")).initEvent(R,!0,!0),$.gesture=j,j.target.dispatchEvent($));var S=this.handlers[w]&&this.handlers[w].slice();if(S&&S.length){E.type=w,E.preventDefault=function(){E.srcEvent.preventDefault()};for(var N=0;N<S.length;)S[N](E),N++}},_.destroy=function(){this.element&&Kc(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},v}(),uh={touchstart:1,touchmove:2,touchend:4,touchcancel:8},lh="touchstart",Nr="touchstart touchmove touchend touchcancel",ks=function(v){function _(){var w,E=_.prototype;return E.evTarget=lh,E.evWin=Nr,(w=v.apply(this,arguments)||this).started=!1,w}return $r(_,v),_.prototype.handler=function(w){var E=uh[w.type];if(1===E&&(this.started=!0),this.started){var S=ke.call(this,w,E);12&E&&S[0].length-S[1].length==0&&(this.started=!1),this.callback(this.manager,E,{pointers:S[0],changedPointers:S[1],pointerType:ai,srcEvent:w})}},_}(ro);function ke(v,_){var w=Ao(v.touches),E=Ao(v.changedTouches);return 12&_&&(w=ga(w.concat(E),"identifier",!0)),[w,E]}function _f(v,_,w){var E="DEPRECATED METHOD: "+_+"\n"+w+" AT \n";return function(){var S=new Error("get-stack-trace"),N=S&&S.stack?S.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",R=window.console&&(window.console.warn||window.console.log);return R&&R.call(window.console,E,N),v.apply(this,arguments)}}var oo=_f(function(v,_,w){for(var E=Object.keys(_),S=0;S<E.length;)(!w||w&&void 0===v[E[S]])&&(v[E[S]]=_[E[S]]),S++;return v},"extend","Use `assign`."),Te=_f(function(v,_){return oo(v,_,!0)},"merge","Use `assign`.");function Xc(v,_){return function(){return v.apply(_,arguments)}}var v,wf=((v=function(_,w){return void 0===w&&(w={}),new bf(_,gt({recognizers:ov.concat()},w))}).VERSION="2.0.17-rc",v.DIRECTION_ALL=30,v.DIRECTION_DOWN=16,v.DIRECTION_LEFT=2,v.DIRECTION_RIGHT=4,v.DIRECTION_UP=8,v.DIRECTION_HORIZONTAL=6,v.DIRECTION_VERTICAL=24,v.DIRECTION_NONE=1,v.DIRECTION_DOWN=16,v.INPUT_START=1,v.INPUT_MOVE=2,v.INPUT_END=4,v.INPUT_CANCEL=8,v.STATE_POSSIBLE=1,v.STATE_BEGAN=2,v.STATE_CHANGED=4,v.STATE_ENDED=8,v.STATE_RECOGNIZED=8,v.STATE_CANCELLED=16,v.STATE_FAILED=32,v.Manager=bf,v.Input=ro,v.TouchAction=ur,v.TouchInput=Yc,v.MouseInput=Qc,v.PointerEventInput=Nl,v.TouchMouseInput=Jo,v.SingleTouchInput=ks,v.Recognizer=Ya,v.AttrRecognizer=va,v.Tap=ah,v.Pan=ma,v.Swipe=Ll,v.Pinch=Vp,v.Rotate=Qa,v.Press=qr,v.on=rh,v.off=Gr,v.each=Ds,v.merge=Te,v.extend=oo,v.bindFn=Xc,v.assign=kl,v.inherit=function(v,_,w){var E,S=_.prototype;(E=v.prototype=Object.create(S)).constructor=v,E._super=S,w&&kl(E,w)},v.bindFn=Xc,v.prefixed=$c,v.toArray=Ao,v.inArray=pa,v.uniqueArray=ga,v.splitStr=Ts,v.boolOrFn=Wr,v.hasParent=Al,v.addEventListeners=rh,v.removeEventListeners=Gr,v.defaults=kl({},jp,{preset:ov}),v);function Ku(v,_){var w;if(void 0===Hc||null==Io(v)){if(Xn(v)||(w=function($,Y){var re;if($){if("string"==typeof $)return Ka($,Y);var se=Es(re=Object.prototype.toString.call($)).call(re,8,-1);if("Object"===se&&$.constructor&&(se=$.constructor.name),"Map"===se||"Set"===se)return Xi($);if("Arguments"===se||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(se))return Ka($,Y)}}(v))||_&&v&&"number"==typeof v.length){w&&(v=w);var E=0,S=function(){};return{s:S,n:function(){return E>=v.length?{done:!0}:{done:!1,value:v[E++]}},e:function($){throw $},f:S}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var N,R=!0,j=!1;return{s:function(){w=ms(v)},n:function(){var $=w.next();return R=$.done,$},e:function($){j=!0,N=$},f:function(){try{R||null==w.return||w.return()}finally{if(j)throw N}}}}function Ka(v,_){(null==_||_>v.length)&&(_=v.length);for(var w=0,E=new Array(_);w<_;w++)E[w]=v[w];return E}var Ef=Hc("DELETE");function jl(){var v=ch.apply(void 0,arguments);return Hp(v),v}function ch(){for(var v=arguments.length,_=new Array(v),w=0;w<v;w++)_[w]=arguments[w];if(_.length<2)return _[0];var E;if(_.length>2)return ch.apply(void 0,ha(E=[jl(_[0],_[1])]).call(E,Zn(Es(_).call(_,2))));var S,N=_[0],R=_[1],j=Ku(Ua(R));try{for(j.s();!(S=j.n()).done;){var $=S.value;Object.prototype.propertyIsEnumerable.call(R,$)&&(R[$]===Ef?delete N[$]:N[$]=null===N[$]||null===R[$]||"object"!==si(N[$])||"object"!==si(R[$])||Xn(N[$])||Xn(R[$])?Bp(R[$]):ch(N[$],R[$]))}}catch(Y){j.e(Y)}finally{j.f()}return N}function Bp(v){return Xn(v)?cn(v).call(v,function(_){return Bp(_)}):"object"===si(v)&&null!==v?ch({},v):v}function Hp(v){for(var _=0,w=hf(v);_<w.length;_++){var E=w[_];v[E]===Ef?delete v[E]:"object"===si(v[E])&&null!==v[E]&&Hp(v[E])}}var so="undefined"!=typeof window?window.Hammer||wf:function(){return{on:v=function(){},off:v,destroy:v,emit:v,get:function(){return{set:v}}};var v};function Gt(v){var _,w=this;this._cleanupQueue=[],this.active=!1,this._dom={container:v,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){w._dom.overlay.parentNode.removeChild(w._dom.overlay)});var E=so(this._dom.overlay);E.on("tap",Ba(_=this._onTapOverlay).call(_,this)),this._cleanupQueue.push(function(){E.destroy()});var S=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Ji(S).call(S,function(N){E.on(N,function(R){R.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(N){(function(R,j){for(;R;){if(R===j)return!0;R=R.parentNode}return!1})(N.target,v)||w.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",w._onClick)})),this._escListener=function(N){("key"in N?"Escape"===N.key:27===N.keyCode)&&w.deactivate()}}dm(Gt.prototype),Gt.current=null,Gt.prototype.destroy=function(){var v,_;this.deactivate();var w,E=Ku(function(v){var _=v.reverse;return v===af||v instanceof Array&&_===af.reverse?Sp:_}(v=sf(_=this._cleanupQueue).call(_,0)).call(v));try{for(E.s();!(w=E.n()).done;)(0,w.value)()}catch(S){E.e(S)}finally{E.f()}},Gt.prototype.activate=function(){Gt.current&&Gt.current.deactivate(),Gt.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},Gt.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},Gt.prototype._onTapOverlay=function(v){this.activate(),v.srcEvent.stopPropagation()};var dh=cs("Reflect","construct"),hh=Re(function(){function v(){}return!(dh(function(){},[],v)instanceof v)}),zp=!Re(function(){dh(function(){})}),$p=hh||zp;Ze({target:"Reflect",stat:!0,forced:$p,sham:$p},{construct:function(v,_){Pa(v),rt(_);var w=arguments.length<3?v:Pa(arguments[2]);if(zp&&!hh)return dh(v,_,w);if(v==w){switch(_.length){case 0:return new v;case 1:return new v(_[0]);case 2:return new v(_[0],_[1]);case 3:return new v(_[0],_[1],_[2]);case 4:return new v(_[0],_[1],_[2],_[3])}var E=[null];return E.push.apply(E,_),new(Eo.apply(v,E))}var S=w.prototype,N=ti(ln(S)?S:Object.prototype),R=Function.apply.call(v,N,_);return ln(R)?R:N}});var es=Ft.Reflect.construct,Up=Mt("Array").entries,Xa=Array.prototype,Wp={DOMTokenList:!0,NodeList:!0},Cn=tn(function(v){var _=function(w){var E,S=Object.prototype,N=S.hasOwnProperty,R="function"==typeof Symbol?Symbol:{},j=R.iterator||"@@iterator",$=R.asyncIterator||"@@asyncIterator",Y=R.toStringTag||"@@toStringTag";function re(De,_e,vt){return Object.defineProperty(De,_e,{value:vt,enumerable:!0,configurable:!0,writable:!0}),De[_e]}try{re({},"")}catch(De){re=function(_e,vt,Pt){return _e[vt]=Pt}}function se(De,_e,vt,Pt){var Fn,rs,an,ho,Fr=Object.create((_e&&_e.prototype instanceof Et?_e:Et).prototype),hr=new bh(Pt||[]);return Fr._invoke=(Fn=De,rs=vt,an=hr,ho=Oe,function(Lo,_h){if(ho===Ae)throw new Error("Generator is already running");if(ho===He){if("throw"===Lo)throw _h;return id()}for(an.method=Lo,an.arg=_h;;){var ru=an.delegate;if(ru){var wh=co(ru,an);if(wh){if(wh===Pe)continue;return wh}}if("next"===an.method)an.sent=an._sent=an.arg;else if("throw"===an.method){if(ho===Oe)throw ho=He,an.arg;an.dispatchException(an.arg)}else"return"===an.method&&an.abrupt("return",an.arg);ho=Ae;var iu=Ie(Fn,rs,an);if("normal"===iu.type){if(ho=an.done?He:Ge,iu.arg===Pe)continue;return{value:iu.arg,done:an.done}}"throw"===iu.type&&(ho=He,an.method="throw",an.arg=iu.arg)}}),Fr}function Ie(De,_e,vt){try{return{type:"normal",arg:De.call(_e,vt)}}catch(Pt){return{type:"throw",arg:Pt}}}w.wrap=se;var Oe="suspendedStart",Ge="suspendedYield",Ae="executing",He="completed",Pe={};function Et(){}function it(){}function Tt(){}var Zt={};Zt[j]=function(){return this};var cr=Object.getPrototypeOf,Li=cr&&cr(cr(el([])));Li&&Li!==S&&N.call(Li,j)&&(Zt=Li);var dr=Tt.prototype=Et.prototype=Object.create(Zt);function Yr(De){["next","throw","return"].forEach(function(_e){re(De,_e,function(vt){return this._invoke(_e,vt)})})}function Ro(De,_e){function vt(tt,Fr,hr,Fn){var rs=Ie(De[tt],De,Fr);if("throw"!==rs.type){var an=rs.arg,ho=an.value;return ho&&"object"==typeof ho&&N.call(ho,"__await")?_e.resolve(ho.__await).then(function(Lo){vt("next",Lo,hr,Fn)},function(Lo){vt("throw",Lo,hr,Fn)}):_e.resolve(ho).then(function(Lo){an.value=Lo,hr(an)},function(Lo){return vt("throw",Lo,hr,Fn)})}Fn(rs.arg)}var Pt;this._invoke=function(tt,Fr){function hr(){return new _e(function(Fn,rs){vt(tt,Fr,Fn,rs)})}return Pt=Pt?Pt.then(hr,hr):hr()}}function co(De,_e){var vt=De.iterator[_e.method];if(vt===E){if(_e.delegate=null,"throw"===_e.method){if(De.iterator.return&&(_e.method="return",_e.arg=E,co(De,_e),"throw"===_e.method))return Pe;_e.method="throw",_e.arg=new TypeError("The iterator does not provide a 'throw' method")}return Pe}var Pt=Ie(vt,De.iterator,_e.arg);if("throw"===Pt.type)return _e.method="throw",_e.arg=Pt.arg,_e.delegate=null,Pe;var tt=Pt.arg;return tt?tt.done?(_e[De.resultName]=tt.value,_e.next=De.nextLoc,"return"!==_e.method&&(_e.method="next",_e.arg=E),_e.delegate=null,Pe):tt:(_e.method="throw",_e.arg=new TypeError("iterator result is not an object"),_e.delegate=null,Pe)}function Ju(De){var _e={tryLoc:De[0]};1 in De&&(_e.catchLoc=De[1]),2 in De&&(_e.finallyLoc=De[2],_e.afterLoc=De[3]),this.tryEntries.push(_e)}function mi(De){var _e=De.completion||{};_e.type="normal",delete _e.arg,De.completion=_e}function bh(De){this.tryEntries=[{tryLoc:"root"}],De.forEach(Ju,this),this.reset(!0)}function el(De){if(De){var _e=De[j];if(_e)return _e.call(De);if("function"==typeof De.next)return De;if(!isNaN(De.length)){var vt=-1,Pt=function tt(){for(;++vt<De.length;)if(N.call(De,vt))return tt.value=De[vt],tt.done=!1,tt;return tt.value=E,tt.done=!0,tt};return Pt.next=Pt}}return{next:id}}function id(){return{value:E,done:!0}}return it.prototype=dr.constructor=Tt,Tt.constructor=it,it.displayName=re(Tt,Y,"GeneratorFunction"),w.isGeneratorFunction=function(De){var _e="function"==typeof De&&De.constructor;return!!_e&&(_e===it||"GeneratorFunction"===(_e.displayName||_e.name))},w.mark=function(De){return Object.setPrototypeOf?Object.setPrototypeOf(De,Tt):(De.__proto__=Tt,re(De,Y,"GeneratorFunction")),De.prototype=Object.create(dr),De},w.awrap=function(De){return{__await:De}},Yr(Ro.prototype),Ro.prototype[$]=function(){return this},w.AsyncIterator=Ro,w.async=function(De,_e,vt,Pt,tt){void 0===tt&&(tt=Promise);var Fr=new Ro(se(De,_e,vt,Pt),tt);return w.isGeneratorFunction(_e)?Fr:Fr.next().then(function(hr){return hr.done?hr.value:Fr.next()})},Yr(dr),re(dr,Y,"Generator"),dr[j]=function(){return this},dr.toString=function(){return"[object Generator]"},w.keys=function(De){var _e=[];for(var vt in De)_e.push(vt);return _e.reverse(),function Pt(){for(;_e.length;){var tt=_e.pop();if(tt in De)return Pt.value=tt,Pt.done=!1,Pt}return Pt.done=!0,Pt}},w.values=el,bh.prototype={constructor:bh,reset:function(De){if(this.prev=0,this.next=0,this.sent=this._sent=E,this.done=!1,this.delegate=null,this.method="next",this.arg=E,this.tryEntries.forEach(mi),!De)for(var _e in this)"t"===_e.charAt(0)&&N.call(this,_e)&&!isNaN(+_e.slice(1))&&(this[_e]=E)},stop:function(){this.done=!0;var De=this.tryEntries[0].completion;if("throw"===De.type)throw De.arg;return this.rval},dispatchException:function(De){if(this.done)throw De;var _e=this;function vt(rs,an){return Fr.type="throw",Fr.arg=De,_e.next=rs,an&&(_e.method="next",_e.arg=E),!!an}for(var Pt=this.tryEntries.length-1;Pt>=0;--Pt){var tt=this.tryEntries[Pt],Fr=tt.completion;if("root"===tt.tryLoc)return vt("end");if(tt.tryLoc<=this.prev){var hr=N.call(tt,"catchLoc"),Fn=N.call(tt,"finallyLoc");if(hr&&Fn){if(this.prev<tt.catchLoc)return vt(tt.catchLoc,!0);if(this.prev<tt.finallyLoc)return vt(tt.finallyLoc)}else if(hr){if(this.prev<tt.catchLoc)return vt(tt.catchLoc,!0)}else{if(!Fn)throw new Error("try statement without catch or finally");if(this.prev<tt.finallyLoc)return vt(tt.finallyLoc)}}}},abrupt:function(De,_e){for(var vt=this.tryEntries.length-1;vt>=0;--vt){var Pt=this.tryEntries[vt];if(Pt.tryLoc<=this.prev&&N.call(Pt,"finallyLoc")&&this.prev<Pt.finallyLoc){var tt=Pt;break}}tt&&("break"===De||"continue"===De)&&tt.tryLoc<=_e&&_e<=tt.finallyLoc&&(tt=null);var Fr=tt?tt.completion:{};return Fr.type=De,Fr.arg=_e,tt?(this.method="next",this.next=tt.finallyLoc,Pe):this.complete(Fr)},complete:function(De,_e){if("throw"===De.type)throw De.arg;return"break"===De.type||"continue"===De.type?this.next=De.arg:"return"===De.type?(this.rval=this.arg=De.arg,this.method="return",this.next="end"):"normal"===De.type&&_e&&(this.next=_e),Pe},finish:function(De){for(var _e=this.tryEntries.length-1;_e>=0;--_e){var vt=this.tryEntries[_e];if(vt.finallyLoc===De)return this.complete(vt.completion,vt.afterLoc),mi(vt),Pe}},catch:function(De){for(var _e=this.tryEntries.length-1;_e>=0;--_e){var vt=this.tryEntries[_e];if(vt.tryLoc===De){var Pt=vt.completion;if("throw"===Pt.type){var tt=Pt.arg;mi(vt)}return tt}}throw new Error("illegal catch attempt")},delegateYield:function(De,_e,vt){return this.delegate={iterator:el(De),resultName:_e,nextLoc:vt},"next"===this.method&&(this.arg=E),Pe}},w}(v.exports);try{regeneratorRuntime=_}catch(w){Function("r","regeneratorRuntime = r")(_)}}),Ss=oi,Cf=Mt("Array").values,ao=Array.prototype,Bl={DOMTokenList:!0,NodeList:!0},Df=function(v){var _=v.values;return v===ao||v instanceof Array&&_===ao.values||Bl.hasOwnProperty(Ce(v))?Cf:_},uo=[],Po=uo.sort,Za=Re(function(){uo.sort(void 0)}),fh=Re(function(){uo.sort(null)}),Zc=mc("sort");Ze({target:"Array",proto:!0,forced:Za||!fh||!Zc},{sort:function(v){return void 0===v?Po.call(Ci(this)):Po.call(Ci(this),Pa(v))}});var Ja=Mt("Array").sort,Gp=Array.prototype,xf=function(v){var _=v.sort;return v===Gp||v instanceof Array&&_===Gp.sort?Ja:_},Tf=Mt("Array").keys,Jc=Array.prototype,ph={DOMTokenList:!0,NodeList:!0},ya=function(v){var _=v.keys;return v===Jc||v instanceof Array&&_===Jc.keys||ph.hasOwnProperty(Ce(v))?Tf:_},Xu=bu.some,Hl=mc("some"),zl=Ue("some");Ze({target:"Array",proto:!0,forced:!Hl||!zl},{some:function(v){return Xu(this,v,arguments.length>1?arguments[1]:void 0)}});var $l=Mt("Array").some,If=Array.prototype,qp=!Re(function(){return Object.isExtensible(Object.preventExtensions({}))}),Xt=tn(function(v){var _=yr.f,w=gl("meta"),E=0,S=Object.isExtensible||function(){return!0},N=function(j){_(j,w,{value:{objectID:"O"+ ++E,weakData:{}}})},R=v.exports={REQUIRED:!1,fastKey:function(j,$){if(!ln(j))return"symbol"==typeof j?j:("string"==typeof j?"S":"P")+j;if(!ft(j,w)){if(!S(j))return"F";if(!$)return"E";N(j)}return j[w].objectID},getWeakData:function(j,$){if(!ft(j,w)){if(!S(j))return!0;if(!$)return!1;N(j)}return j[w].weakData},onFreeze:function(j){return qp&&R.REQUIRED&&S(j)&&!ft(j,w)&&N(j),j}};Qn[w]=!0}),Cr=function(v,_){this.stopped=v,this.result=_},No=function(v,_,w){var E,S,N,R,j,$,Y,se=!(!w||!w.AS_ENTRIES),Ie=!(!w||!w.IS_ITERATOR),Oe=!(!w||!w.INTERRUPTED),Ge=Na(_,w&&w.that,1+se+Oe),Ae=function(Pe){return E&&Xo(E),new Cr(!0,Pe)},He=function(Pe){return se?(rt(Pe),Oe?Ge(Pe[0],Pe[1],Ae):Ge(Pe[0],Pe[1])):Oe?Ge(Pe,Ae):Ge(Pe)};if(Ie)E=v;else{if("function"!=typeof(S=zr(v)))throw TypeError("Target is not iterable");if(Xh(S)){for(N=0,R=_o(v.length);R>N;N++)if((j=He(v[N]))&&j instanceof Cr)return j;return new Cr(!1)}E=S.call(v)}for($=E.next;!(Y=$.call(E)).done;){try{j=He(Y.value)}catch(Pe){throw Xo(E),Pe}if("object"==typeof j&&j&&j instanceof Cr)return j}return new Cr(!1)},gh=function(v,_,w){if(!(v instanceof _))throw TypeError("Incorrect "+(w?w+" ":"")+"invocation");return v},on=yr.f,kf=bu.forEach,qt=Hn.set,Rt=Hn.getterFor,Wn=function(v,_,w){var E,S=-1!==v.indexOf("Map"),N=-1!==v.indexOf("Weak"),R=S?"set":"add",j=Xe[v],$=j&&j.prototype,Y={};if(Ve&&"function"==typeof j&&(N||$.forEach&&!Re(function(){(new j).entries().next()}))){E=_(function(se,Ie){qt(gh(se,E,v),{type:v,collection:new j}),null!=Ie&&No(Ie,se[R],{that:se,AS_ENTRIES:S})});var re=Rt(v);kf(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(se){var Ie="add"==se||"set"==se;!(se in $)||N&&"clear"==se||In(E.prototype,se,function(Oe,Ge){var Ae=re(this).collection;if(!Ie&&N&&!ln(Oe))return"get"==se&&void 0;var He=Ae[se](0===Oe?0:Oe,Ge);return Ie?this:He})}),N||on(E.prototype,"size",{configurable:!0,get:function(){return re(this).collection.size}})}else E=w.getConstructor(_,v,S,R),Xt.REQUIRED=!0;return Ti(E,v,!1,!0),Y[v]=E,Ze({global:!0,forced:!0},Y),N||w.setStrong(E,v,S),E},gi=function(v,_,w){for(var E in _)w&&w.unsafe&&v[E]?v[E]=_[E]:ut(v,E,_[E],w);return v},Ul=pn("species"),Os=yr.f,Wl=Xt.fastKey,Zu=Hn.set,sn=Hn.getterFor,lo={getConstructor:function(v,_,w,E){var S=v(function($,Y){gh($,S,_),Zu($,{type:_,index:ti(null),first:void 0,last:void 0,size:0}),Ve||($.size=0),null!=Y&&No(Y,$[E],{that:$,AS_ENTRIES:w})}),N=sn(_),R=function($,Y,re){var se,Ie,Oe=N($),Ge=j($,Y);return Ge?Ge.value=re:(Oe.last=Ge={index:Ie=Wl(Y,!0),key:Y,value:re,previous:se=Oe.last,next:void 0,removed:!1},Oe.first||(Oe.first=Ge),se&&(se.next=Ge),Ve?Oe.size++:$.size++,"F"!==Ie&&(Oe.index[Ie]=Ge)),$},j=function($,Y){var re,se=N($),Ie=Wl(Y);if("F"!==Ie)return se.index[Ie];for(re=se.first;re;re=re.next)if(re.key==Y)return re};return gi(S.prototype,{clear:function(){for(var $=N(this),Y=$.index,re=$.first;re;)re.removed=!0,re.previous&&(re.previous=re.previous.next=void 0),delete Y[re.index],re=re.next;$.first=$.last=void 0,Ve?$.size=0:this.size=0},delete:function($){var Y=this,re=N(Y),se=j(Y,$);if(se){var Ie=se.next,Oe=se.previous;delete re.index[se.index],se.removed=!0,Oe&&(Oe.next=Ie),Ie&&(Ie.previous=Oe),re.first==se&&(re.first=Ie),re.last==se&&(re.last=Oe),Ve?re.size--:Y.size--}return!!se},forEach:function($){for(var Y,re=N(this),se=Na($,arguments.length>1?arguments[1]:void 0,3);Y=Y?Y.next:re.first;)for(se(Y.value,Y.key,this);Y&&Y.removed;)Y=Y.previous},has:function($){return!!j(this,$)}}),gi(S.prototype,w?{get:function($){var Y=j(this,$);return Y&&Y.value},set:function($,Y){return R(this,0===$?0:$,Y)}}:{add:function($){return R(this,$=0===$?0:$,$)}}),Ve&&Os(S.prototype,"size",{get:function(){return N(this).size}}),S},setStrong:function(v,_,w){var j,E=_+" Iterator",S=sn(_),N=sn(E);fi(v,_,function(R,j){Zu(this,{type:E,target:R,state:S(R),kind:j,last:void 0})},function(){for(var R=N(this),j=R.kind,$=R.last;$&&$.removed;)$=$.previous;return R.target&&(R.last=$=$?$.next:R.state.first)?"keys"==j?{value:$.key,done:!1}:"values"==j?{value:$.value,done:!1}:{value:[$.key,$.value],done:!1}:(R.target=void 0,{value:void 0,done:!0})},w?"entries":"values",!w,!0),j=cs(_),Ve&&j&&!j[Ul]&&(0,yr.f)(j,Ul,{configurable:!0,get:function(){return this}})}},Fo=(Wn("Map",function(v){return function(){return v(this,arguments.length?arguments[0]:void 0)}},lo),Ft.Map),er=Ld;Ze({target:"Object",stat:!0},{setPrototypeOf:xo});var Fi,ed=Ft.Object.setPrototypeOf,Gl=tn(function(v){function _(w,E){return v.exports=_=ed||function(S,N){return S.__proto__=N,S},_(w,E)}v.exports=_}),ns=function(v,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function");v.prototype=er(_&&_.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),_&&Gl(v,_)},lr=function(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v},vh=function(v,_){return!_||"object"!==si(_)&&"function"!=typeof _?lr(v):_},en=kp,ql=tn(function(v){function _(w){return v.exports=_=ed?en:function(E){return E.__proto__||en(E)},_(w)}v.exports=_}),Sf=new Uint8Array(16);function Of(){if(!Fi&&!(Fi="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Fi(Sf)}var td=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function mh(v){return"string"==typeof v&&td.test(v)}for(var Dn=[],Mf=0;Mf<256;++Mf)Dn.push((Mf+256).toString(16).substr(1));function Yp(v,_,w){var E=(v=v||{}).random||(v.rng||Of)();if(E[6]=15&E[6]|64,E[8]=63&E[8]|128,_){w=w||0;for(var S=0;S<16;++S)_[w+S]=E[S];return _}return function(N){var R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,j=(Dn[N[R+0]]+Dn[N[R+1]]+Dn[N[R+2]]+Dn[N[R+3]]+"-"+Dn[N[R+4]]+Dn[N[R+5]]+"-"+Dn[N[R+6]]+Dn[N[R+7]]+"-"+Dn[N[R+8]]+Dn[N[R+9]]+"-"+Dn[N[R+10]]+Dn[N[R+11]]+Dn[N[R+12]]+Dn[N[R+13]]+Dn[N[R+14]]+Dn[N[R+15]]).toLowerCase();if(!mh(j))throw TypeError("Stringified UUID is invalid");return j}(E)}function Af(v){return"string"==typeof v||"number"==typeof v}var Pf=function(){function v(_){Js(this,v),this._queue=[],this._timeout=null,this._extended=null,this.delay=null,this.max=1/0,this.setOptions(_)}return ea(v,[{key:"setOptions",value:function(_){_&&void 0!==_.delay&&(this.delay=_.delay),_&&void 0!==_.max&&(this.max=_.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var _=this._extended.object,w=this._extended.methods,E=0;E<w.length;E++){var S=w[E];S.original?_[S.name]=S.original:delete _[S.name]}this._extended=null}}},{key:"replace",value:function(_,w){var E=this,S=_[w];if(!S)throw new Error("Method "+w+" undefined");_[w]=function(){for(var N=arguments.length,R=new Array(N),j=0;j<N;j++)R[j]=arguments[j];E.queue({args:R,fn:S,context:this})}}},{key:"queue",value:function(_){this._queue.push("function"==typeof _?{fn:_}:_),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var _=this;this._queue.length>this.max&&this.flush(),null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&"number"==typeof this.delay&&(this._timeout=kc(function(){_.flush()},this.delay))}},{key:"flush",value:function(){var _,w;Ji(_=sf(w=this._queue).call(w,0)).call(_,function(E){E.fn.apply(E.context||E.fn,E.args||[])})}}],[{key:"extend",value:function(_,w){var E=new v(w);if(void 0!==_.flush)throw new Error("Target object already has a property flush");_.flush=function(){E.flush()};var S=[{name:"flush",original:void 0}];if(w&&w.replace)for(var N=0;N<w.replace.length;N++){var R=w.replace[N];S.push({name:R,original:_[R]}),E.replace(_,R)}return E._extended={object:_,methods:S},E}}]),v}(),yh=function(){function v(){Js(this,v),this._subscribers={"*":[],add:[],remove:[],update:[]},this.subscribe=v.prototype.on,this.unsubscribe=v.prototype.off}return ea(v,[{key:"_trigger",value:function(_,w,E){var S,N;if("*"===_)throw new Error("Cannot trigger event *");Ji(S=ha(N=[]).call(N,Zn(this._subscribers[_]),Zn(this._subscribers["*"]))).call(S,function(R){R(_,w,null!=E?E:null)})}},{key:"on",value:function(_,w){"function"==typeof w&&this._subscribers[_].push(w)}},{key:"off",value:function(_,w){var E;this._subscribers[_]=Lr(E=this._subscribers[_]).call(E,function(S){return S!==w})}}]),v}(),nd=(Wn("Set",function(v){return function(){return v(this,arguments.length?arguments[0]:void 0)}},lo),Ft.Set);function Ms(v,_){var w;if(void 0===Hc||null==Io(v)){if(Xn(v)||(w=function($,Y){var re;if($){if("string"==typeof $)return rd($,Y);var se=Es(re=Object.prototype.toString.call($)).call(re,8,-1);if("Object"===se&&$.constructor&&(se=$.constructor.name),"Map"===se||"Set"===se)return Xi($);if("Arguments"===se||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(se))return rd($,Y)}}(v))||_&&v&&"number"==typeof v.length){w&&(v=w);var E=0,S=function(){};return{s:S,n:function(){return E>=v.length?{done:!0}:{done:!1,value:v[E++]}},e:function($){throw $},f:S}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var N,R=!0,j=!1;return{s:function(){w=ms(v)},n:function(){var $=w.next();return R=$.done,$},e:function($){j=!0,N=$},f:function(){try{R||null==w.return||w.return()}finally{if(j)throw N}}}}function rd(v,_){(null==_||_>v.length)&&(_=v.length);for(var w=0,E=new Array(_);w<_;w++)E[w]=v[w];return E}var eu=function(){function v(_){Js(this,v),this._pairs=_}return ea(v,[{key:Ss,value:Cn.mark(function _(){var w,E,S,N,R;return Cn.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:w=Ms(this._pairs),j.prev=1,w.s();case 3:if((E=w.n()).done){j.next=9;break}return S=Ai(E.value,2),N=S[0],R=S[1],j.next=7,[N,R];case 7:j.next=3;break;case 9:j.next=14;break;case 11:j.prev=11,j.t0=j.catch(1),w.e(j.t0);case 14:return j.prev=14,w.f(),j.finish(14);case 17:case"end":return j.stop()}},_,this,[[1,11,14,17]])})},{key:"entries",value:Cn.mark(function _(){var w,E,S,N,R;return Cn.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:w=Ms(this._pairs),j.prev=1,w.s();case 3:if((E=w.n()).done){j.next=9;break}return S=Ai(E.value,2),N=S[0],R=S[1],j.next=7,[N,R];case 7:j.next=3;break;case 9:j.next=14;break;case 11:j.prev=11,j.t0=j.catch(1),w.e(j.t0);case 14:return j.prev=14,w.f(),j.finish(14);case 17:case"end":return j.stop()}},_,this,[[1,11,14,17]])})},{key:"keys",value:Cn.mark(function _(){var w,E,S,N;return Cn.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:w=Ms(this._pairs),R.prev=1,w.s();case 3:if((E=w.n()).done){R.next=9;break}return S=Ai(E.value,1),N=S[0],R.next=7,N;case 7:R.next=3;break;case 9:R.next=14;break;case 11:R.prev=11,R.t0=R.catch(1),w.e(R.t0);case 14:return R.prev=14,w.f(),R.finish(14);case 17:case"end":return R.stop()}},_,this,[[1,11,14,17]])})},{key:"values",value:Cn.mark(function _(){var w,E,S,N;return Cn.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:w=Ms(this._pairs),R.prev=1,w.s();case 3:if((E=w.n()).done){R.next=9;break}return S=Ai(E.value,2),N=S[1],R.next=7,N;case 7:R.next=3;break;case 9:R.next=14;break;case 11:R.prev=11,R.t0=R.catch(1),w.e(R.t0);case 14:return R.prev=14,w.f(),R.finish(14);case 17:case"end":return R.stop()}},_,this,[[1,11,14,17]])})},{key:"toIdArray",value:function(){var _;return cn(_=Zn(this._pairs)).call(_,function(w){return w[0]})}},{key:"toItemArray",value:function(){var _;return cn(_=Zn(this._pairs)).call(_,function(w){return w[1]})}},{key:"toEntryArray",value:function(){return Zn(this._pairs)}},{key:"toObjectMap",value:function(){var _,w=lm(null),E=Ms(this._pairs);try{for(E.s();!(_=E.n()).done;){var S=Ai(_.value,2);w[S[0]]=S[1]}}catch(j){E.e(j)}finally{E.f()}return w}},{key:"toMap",value:function(){return new Fo(this._pairs)}},{key:"toIdSet",value:function(){return new nd(this.toIdArray())}},{key:"toItemSet",value:function(){return new nd(this.toItemArray())}},{key:"cache",value:function(){return new v(Zn(this._pairs))}},{key:"distinct",value:function(_){var w,E=new nd,S=Ms(this._pairs);try{for(S.s();!(w=S.n()).done;){var N=Ai(w.value,2);E.add(_(N[1],N[0]))}}catch($){S.e($)}finally{S.f()}return E}},{key:"filter",value:function(_){var w=this._pairs;return new v(_s({},Ss,Cn.mark(function E(){var S,N,R,j,$;return Cn.wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:S=Ms(w),Y.prev=1,S.s();case 3:if((N=S.n()).done){Y.next=10;break}if(R=Ai(N.value,2),!_($=R[1],j=R[0])){Y.next=8;break}return Y.next=8,[j,$];case 8:Y.next=3;break;case 10:Y.next=15;break;case 12:Y.prev=12,Y.t0=Y.catch(1),S.e(Y.t0);case 15:return Y.prev=15,S.f(),Y.finish(15);case 18:case"end":return Y.stop()}},E,null,[[1,12,15,18]])})))}},{key:"forEach",value:function(_){var w,E=Ms(this._pairs);try{for(E.s();!(w=E.n()).done;){var S=Ai(w.value,2);_(S[1],S[0])}}catch(R){E.e(R)}finally{E.f()}}},{key:"map",value:function(_){var w=this._pairs;return new v(_s({},Ss,Cn.mark(function E(){var S,N,R,j,$;return Cn.wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:S=Ms(w),Y.prev=1,S.s();case 3:if((N=S.n()).done){Y.next=9;break}return R=Ai(N.value,2),j=R[0],$=R[1],Y.next=7,[j,_($,j)];case 7:Y.next=3;break;case 9:Y.next=14;break;case 11:Y.prev=11,Y.t0=Y.catch(1),S.e(Y.t0);case 14:return Y.prev=14,S.f(),Y.finish(14);case 17:case"end":return Y.stop()}},E,null,[[1,11,14,17]])})))}},{key:"max",value:function(_){var w=ms(this._pairs),E=w.next();if(E.done)return null;for(var S=E.value[1],N=_(E.value[1],E.value[0]);!(E=w.next()).done;){var R=Ai(E.value,2),$=R[1],Y=_($,R[0]);Y>N&&(N=Y,S=$)}return S}},{key:"min",value:function(_){var w=ms(this._pairs),E=w.next();if(E.done)return null;for(var S=E.value[1],N=_(E.value[1],E.value[0]);!(E=w.next()).done;){var R=Ai(E.value,2),$=R[1],Y=_($,R[0]);Y<N&&(N=Y,S=$)}return S}},{key:"reduce",value:function(_,w){var E,S=Ms(this._pairs);try{for(S.s();!(E=S.n()).done;){var N=Ai(E.value,2);w=_(w,N[1],N[0])}}catch(j){S.e(j)}finally{S.f()}return w}},{key:"sort",value:function(_){var w=this;return new v(_s({},Ss,function(){var E;return ms(xf(E=Zn(w._pairs)).call(E,function(S,N){var R=Ai(S,2),j=R[0],$=R[1],Y=Ai(N,2);return _($,Y[1],j,Y[0])}))}))}}]),v}();function ba(v,_){var w=hf(v);if(Ad){var E=Ad(v);_&&(E=Lr(E).call(E,function(S){return Eu(v,S).enumerable})),w.push.apply(w,E)}return w}function Nf(v){for(var _=1;_<arguments.length;_++){var w,E=null!=arguments[_]?arguments[_]:{};if(_%2)Ji(w=ba(Object(E),!0)).call(w,function(N){_s(v,N,E[N])});else if(Yt)yl(v,Yt(E));else{var S;Ji(S=ba(Object(E))).call(S,function(N){bc(v,N,Eu(E,N))})}}return v}function tu(v,_){var w;if(void 0===Hc||null==Io(v)){if(Xn(v)||(w=function($,Y){var re;if($){if("string"==typeof $)return Ri($,Y);var se=Es(re=Object.prototype.toString.call($)).call(re,8,-1);if("Object"===se&&$.constructor&&(se=$.constructor.name),"Map"===se||"Set"===se)return Xi($);if("Arguments"===se||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(se))return Ri($,Y)}}(v))||_&&v&&"number"==typeof v.length){w&&(v=w);var E=0,S=function(){};return{s:S,n:function(){return E>=v.length?{done:!0}:{done:!1,value:v[E++]}},e:function($){throw $},f:S}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var N,R=!0,j=!1;return{s:function(){w=ms(v)},n:function(){var $=w.next();return R=$.done,$},e:function($){j=!0,N=$},f:function(){try{R||null==w.return||w.return()}finally{if(j)throw N}}}}function Ri(v,_){(null==_||_>v.length)&&(_=v.length);for(var w=0,E=new Array(_);w<_;w++)E[w]=v[w];return E}var As=function(v){ns(w,v);var _=function(v){var _=function(){if("undefined"==typeof Reflect||!es||es.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(es(Date,[],function(){})),!0}catch(w){return!1}}();return function(){var w,E=ql(v);if(_){var S=ql(this).constructor;w=es(E,arguments,S)}else w=E.apply(this,arguments);return vh(this,w)}}(w);function w(E,S){var N;return Js(this,w),(N=_.call(this))._queue=null,E&&!Xn(E)&&(S=E,E=[]),N._options=S||{},N._data=new Fo,N.length=0,N._idProp=N._options.fieldId||"id",E&&E.length&&N.add(E),N.setOptions(S),N}return ea(w,[{key:"setOptions",value:function(E){E&&void 0!==E.queue&&(!1===E.queue?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=Pf.extend(this,{replace:["add","update","remove"]})),E.queue&&"object"===si(E.queue)&&this._queue.setOptions(E.queue)))}},{key:"add",value:function(E,S){var N,R=this,j=[];if(Xn(E)){var $=cn(E).call(E,function(se){return se[R._idProp]});if(function(v){var _=v.some;return v===If||v instanceof Array&&_===If.some?$l:_}($).call($,function(se){return R._data.has(se)}))throw new Error("A duplicate id was found in the parameter array.");for(var Y=0,re=E.length;Y<re;Y++)N=this._addItem(E[Y]),j.push(N)}else{if(!E||"object"!==si(E))throw new Error("Unknown dataType");N=this._addItem(E),j.push(N)}return j.length&&this._trigger("add",{items:j},S),j}},{key:"update",value:function(E,S){var N=this,R=[],j=[],$=[],Y=[],re=this._idProp,se=function(Ae){var He=Ae[re];if(null!=He&&N._data.has(He)){var Pe=Ae,Et=$d({},N._data.get(He)),it=N._updateItem(Pe);j.push(it),Y.push(Pe),$.push(Et)}else{var Tt=N._addItem(Ae);R.push(Tt)}};if(Xn(E))for(var Ie=0,Oe=E.length;Ie<Oe;Ie++)E[Ie]&&"object"===si(E[Ie])?se(E[Ie]):console.warn("Ignoring input item, which is not an object at index "+Ie);else{if(!E||"object"!==si(E))throw new Error("Unknown dataType");se(E)}return R.length&&this._trigger("add",{items:R},S),j.length&&this._trigger("update",{items:j,oldData:$,data:Y},S),ha(R).call(R,j)}},{key:"updateOnly",value:function(E,S){var N,R=this;Xn(E)||(E=[E]);var j=cn(N=cn(E).call(E,function(Y){var re=R._data.get(Y[R._idProp]);if(null==re)throw new Error("Updating non-existent items is not allowed.");return{oldData:re,update:Y}})).call(N,function(Y){var re=Y.oldData,Ie=re[R._idProp],Oe=function(Ge){for(var Ae,He=arguments.length,Pe=new Array(He>1?He-1:0),Et=1;Et<He;Et++)Pe[Et-1]=arguments[Et];return jl.apply(void 0,ha(Ae=[{},Ge]).call(Ae,Pe))}(re,Y.update);return R._data.set(Ie,Oe),{id:Ie,oldData:re,updatedData:Oe}});if(j.length){var $={items:cn(j).call(j,function(Y){return Y.id}),oldData:cn(j).call(j,function(Y){return Y.oldData}),data:cn(j).call(j,function(Y){return Y.updatedData})};return this._trigger("update",$,S),$.items}return[]}},{key:"get",value:function(E,S){var N=void 0,R=void 0,j=void 0;Af(E)?(N=E,j=S):Xn(E)?(R=E,j=S):j=E;var $,Y=j&&"Object"===j.returnType?"Object":"Array",re=j&&Lr(j),se=[],Ie=void 0,Oe=void 0;if(null!=N)(Ie=this._data.get(N))&&re&&!re(Ie)&&(Ie=void 0);else if(null!=R)for(var Ae=0,He=R.length;Ae<He;Ae++)null==(Ie=this._data.get(R[Ae]))||re&&!re(Ie)||se.push(Ie);else for(var Pe,Et=0,it=(Oe=Zn(ya(Pe=this._data).call(Pe))).length;Et<it;Et++)null==(Ie=this._data.get(Oe[Et]))||re&&!re(Ie)||se.push(Ie);if(j&&j.order&&null==N&&this._sort(se,j.order),j&&j.fields){var Tt=j.fields;if(null!=N&&null!=Ie)Ie=this._filterFields(Ie,Tt);else for(var Zt=0,cr=se.length;Zt<cr;Zt++)se[Zt]=this._filterFields(se[Zt],Tt)}if("Object"==Y){for(var Li={},dr=0,Yr=se.length;dr<Yr;dr++){var Ro=se[dr];Li[Ro[this._idProp]]=Ro}return Li}return null!=N?null!==($=Ie)&&void 0!==$?$:null:se}},{key:"getIds",value:function(E){var S=this._data,N=E&&Lr(E),R=E&&E.order,j=Zn(ya(S).call(S)),$=[];if(N)if(R){for(var Y=[],re=0,se=j.length;re<se;re++){var Oe=this._data.get(j[re]);null!=Oe&&N(Oe)&&Y.push(Oe)}this._sort(Y,R);for(var Ge=0,Ae=Y.length;Ge<Ae;Ge++)$.push(Y[Ge][this._idProp])}else for(var He=0,Pe=j.length;He<Pe;He++){var it=this._data.get(j[He]);null!=it&&N(it)&&$.push(it[this._idProp])}else if(R){for(var Tt=[],Zt=0,cr=j.length;Zt<cr;Zt++)Tt.push(S.get(j[Zt]));this._sort(Tt,R);for(var dr=0,Yr=Tt.length;dr<Yr;dr++)$.push(Tt[dr][this._idProp])}else for(var Ro=0,co=j.length;Ro<co;Ro++){var mi=S.get(j[Ro]);null!=mi&&$.push(mi[this._idProp])}return $}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(E,S){var N=S&&Lr(S),R=this._data,j=Zn(ya(R).call(R));if(S&&S.order)for(var $=this.get(S),Y=0,re=$.length;Y<re;Y++){var se=$[Y];E(se,se[this._idProp])}else for(var Ie=0,Oe=j.length;Ie<Oe;Ie++){var Ge=j[Ie],Ae=this._data.get(Ge);null==Ae||N&&!N(Ae)||E(Ae,Ge)}}},{key:"map",value:function(E,S){for(var N=S&&Lr(S),R=[],j=this._data,$=Zn(ya(j).call(j)),Y=0,re=$.length;Y<re;Y++){var se=$[Y],Ie=this._data.get(se);null==Ie||N&&!N(Ie)||R.push(E(Ie,se))}return S&&S.order&&this._sort(R,S.order),R}},{key:"_filterFields",value:function(E,S){var N;return E&&Wg(N=Xn(S)?S:hf(S)).call(N,function(R,j){return R[j]=E[j],R},{})}},{key:"_sort",value:function(E,S){if("string"==typeof S){var N=S;xf(E).call(E,function(R,j){var $=R[N],Y=j[N];return $>Y?1:$<Y?-1:0})}else{if("function"!=typeof S)throw new TypeError("Order must be a function or a string");xf(E).call(E,S)}}},{key:"remove",value:function(E,S){for(var N=[],R=[],j=Xn(E)?E:[E],$=0,Y=j.length;$<Y;$++){var re=this._remove(j[$]);if(re){var se=re[this._idProp];null!=se&&(N.push(se),R.push(re))}}return N.length&&this._trigger("remove",{items:N,oldData:R},S),N}},{key:"_remove",value:function(E){var S;if(Af(E)?S=E:E&&"object"===si(E)&&(S=E[this._idProp]),null!=S&&this._data.has(S)){var N=this._data.get(S)||null;return this._data.delete(S),--this.length,N}return null}},{key:"clear",value:function(E){for(var S,N=Zn(ya(S=this._data).call(S)),R=[],j=0,$=N.length;j<$;j++)R.push(this._data.get(N[j]));return this._data.clear(),this.length=0,this._trigger("remove",{items:N,oldData:R},E),N}},{key:"max",value:function(E){var S,N,R=null,j=null,$=tu(Df(S=this._data).call(S));try{for($.s();!(N=$.n()).done;){var Y=N.value,re=Y[E];"number"==typeof re&&(null==j||re>j)&&(R=Y,j=re)}}catch(se){$.e(se)}finally{$.f()}return R||null}},{key:"min",value:function(E){var S,N,R=null,j=null,$=tu(Df(S=this._data).call(S));try{for($.s();!(N=$.n()).done;){var Y=N.value,re=Y[E];"number"==typeof re&&(null==j||re<j)&&(R=Y,j=re)}}catch(se){$.e(se)}finally{$.f()}return R||null}},{key:"distinct",value:function(E){for(var S=this._data,N=Zn(ya(S).call(S)),R=[],j=0,$=0,Y=N.length;$<Y;$++){for(var se=S.get(N[$])[E],Ie=!1,Oe=0;Oe<j;Oe++)if(R[Oe]==se){Ie=!0;break}Ie||void 0===se||(R[j]=se,j++)}return R}},{key:"_addItem",value:function(E){var R,j,S=(null==(R=E)[j=this._idProp]&&(R[j]=Yp()),R),N=S[this._idProp];if(this._data.has(N))throw new Error("Cannot add item: item with id "+N+" already exists");return this._data.set(N,S),++this.length,N}},{key:"_updateItem",value:function(E){var S=E[this._idProp];if(null==S)throw new Error("Cannot update item: item has no id (item: "+function(v,_,w){return Ft.JSON.stringify.apply(null,arguments)}(E)+")");var N=this._data.get(S);if(!N)throw new Error("Cannot update item: no item with id "+S+" found");return this._data.set(S,Nf(Nf({},N),E)),S}},{key:"stream",value:function(E){if(E){var S=this._data;return new eu(_s({},Ss,Cn.mark(function R(){var j,$,Y,re;return Cn.wrap(function(se){for(;;)switch(se.prev=se.next){case 0:j=tu(E),se.prev=1,j.s();case 3:if(($=j.n()).done){se.next=11;break}if(null==(re=S.get(Y=$.value))){se.next=9;break}return se.next=9,[Y,re];case 9:se.next=3;break;case 11:se.next=16;break;case 13:se.prev=13,se.t0=se.catch(1),j.e(se.t0);case 16:return se.prev=16,j.f(),se.finish(16);case 19:case"end":return se.stop()}},R,null,[[1,13,16,19]])})))}var N;return new eu(_s({},Ss,Ba(N=function(v){var _=v.entries;return v===Xa||v instanceof Array&&_===Xa.entries||Wp.hasOwnProperty(Ce(v))?Up:_}(this._data)).call(N,this._data)))}},{key:"idProp",get:function(){return this._idProp}}]),w}(yh);function Ff(v,_){(null==_||_>v.length)&&(_=v.length);for(var w=0,E=new Array(_);w<_;w++)E[w]=v[w];return E}var nu=function(v){ns(w,v);var _=function(v){var _=function(){if("undefined"==typeof Reflect||!es||es.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(es(Date,[],function(){})),!0}catch(w){return!1}}();return function(){var w,E=ql(v);if(_){var S=ql(this).constructor;w=es(E,arguments,S)}else w=E.apply(this,arguments);return vh(this,w)}}(w);function w(E,S){var N,R;return Js(this,w),(R=_.call(this)).length=0,R._ids=new nd,R._options=S||{},R._listener=Ba(N=R._onEvent).call(N,lr(R)),R.setData(E),R}return ea(w,[{key:"setData",value:function(E){if(this._data){this._data.off&&this._data.off("*",this._listener);var S=this._data.getIds({filter:Lr(this._options)}),N=this._data.get(S);this._ids.clear(),this.length=0,this._trigger("remove",{items:S,oldData:N})}if(null!=E){this._data=E;for(var R=this._data.getIds({filter:Lr(this._options)}),j=0,$=R.length;j<$;j++)this._ids.add(R[j]);this.length=R.length,this._trigger("add",{items:R})}else this._data=new As;this._data.on&&this._data.on("*",this._listener)}},{key:"refresh",value:function(){for(var E=this._data.getIds({filter:Lr(this._options)}),S=Zn(this._ids),N={},R=[],j=[],$=[],Y=0,re=E.length;Y<re;Y++){var se=E[Y];N[se]=!0,this._ids.has(se)||(R.push(se),this._ids.add(se))}for(var Ie=0,Oe=S.length;Ie<Oe;Ie++){var Ge=S[Ie],Ae=this._data.get(Ge);null==Ae?console.error("If you see this, report it please."):N[Ge]||(j.push(Ge),$.push(Ae),this._ids.delete(Ge))}this.length+=R.length-j.length,R.length&&this._trigger("add",{items:R}),j.length&&this._trigger("remove",{items:j,oldData:$})}},{key:"get",value:function(E,S){if(null==this._data)return null;var N,R=null;Af(E)||Xn(E)?(R=E,N=S):N=E;var j=$d({},this._options,N),$=Lr(this._options),Y=N&&Lr(N);return $&&Y&&(j.filter=function(re){return $(re)&&Y(re)}),null==R?this._data.get(j):this._data.get(R,j)}},{key:"getIds",value:function(E){if(this._data.length){var N=Lr(this._options),R=null!=E?Lr(E):null;return this._data.getIds({filter:R?N?function(j){return N(j)&&R(j)}:R:N,order:E&&E.order})}return[]}},{key:"forEach",value:function(E,S){if(this._data){var N,R,j=Lr(this._options),$=S&&Lr(S);R=$?j?function(Y){return j(Y)&&$(Y)}:$:j,Ji(N=this._data).call(N,E,{filter:R,order:S&&S.order})}}},{key:"map",value:function(E,S){if(this._data){var N,R,j=Lr(this._options),$=S&&Lr(S);return R=$?j?function(Y){return j(Y)&&$(Y)}:$:j,cn(N=this._data).call(N,E,{filter:R,order:S&&S.order})}return[]}},{key:"getDataSet",value:function(){return this._data.getDataSet()}},{key:"stream",value:function(E){var S;return this._data.stream(E||_s({},Ss,Ba(S=ya(this._ids)).call(S,this._ids)))}},{key:"dispose",value:function(){var E;null!==(E=this._data)&&void 0!==E&&E.off&&this._data.off("*",this._listener);var S,N="This data view has already been disposed of.",R={get:function(){throw new Error(N)},set:function(){throw new Error(N)},configurable:!1},j=function(v,_){var w;if(void 0===Hc||null==Io(v)){if(Xn(v)||(w=function($,Y){var re;if($){if("string"==typeof $)return Ff($,Y);var se=Es(re=Object.prototype.toString.call($)).call(re,8,-1);if("Object"===se&&$.constructor&&(se=$.constructor.name),"Map"===se||"Set"===se)return Xi($);if("Arguments"===se||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(se))return Ff($,Y)}}(v))||_&&v&&"number"==typeof v.length){w&&(v=w);var E=0,S=function(){};return{s:S,n:function(){return E>=v.length?{done:!0}:{done:!1,value:v[E++]}},e:function($){throw $},f:S}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var N,R=!0,j=!1;return{s:function(){w=ms(v)},n:function(){var $=w.next();return R=$.done,$},e:function($){j=!0,N=$},f:function(){try{R||null==w.return||w.return()}finally{if(j)throw N}}}}(Ua(w.prototype));try{for(j.s();!(S=j.n()).done;)bc(this,S.value,R)}catch(Y){j.e(Y)}finally{j.f()}}},{key:"_onEvent",value:function(E,S,N){if(S&&S.items&&this._data){var R=S.items,j=[],$=[],Y=[],re=[],se=[],Ie=[];switch(E){case"add":for(var Oe=0,Ge=R.length;Oe<Ge;Oe++){var Ae=R[Oe];this.get(Ae)&&(this._ids.add(Ae),j.push(Ae))}break;case"update":for(var He=0,Pe=R.length;He<Pe;He++){var Et=R[He];this.get(Et)?this._ids.has(Et)?($.push(Et),se.push(S.data[He]),re.push(S.oldData[He])):(this._ids.add(Et),j.push(Et)):this._ids.has(Et)&&(this._ids.delete(Et),Y.push(Et),Ie.push(S.oldData[He]))}break;case"remove":for(var it=0,Tt=R.length;it<Tt;it++){var Zt=R[it];this._ids.has(Zt)&&(this._ids.delete(Zt),Y.push(Zt),Ie.push(S.oldData[it]))}}this.length+=j.length-Y.length,j.length&&this._trigger("add",{items:j},N),$.length&&this._trigger("update",{items:$,oldData:re,data:se},N),Y.length&&this._trigger("remove",{items:Y,oldData:Ie},N)}}},{key:"idProp",get:function(){return this.getDataSet().idProp}}]),w}(yh);function vi(v,_){return"object"===si(_)&&null!==_&&v===_.idProp&&"function"==typeof _.add&&"function"==typeof _.clear&&"function"==typeof _.distinct&&"function"==typeof Ji(_)&&"function"==typeof _.get&&"function"==typeof _.getDataSet&&"function"==typeof _.getIds&&"number"==typeof _.length&&"function"==typeof cn(_)&&"function"==typeof _.max&&"function"==typeof _.min&&"function"==typeof _.off&&"function"==typeof _.on&&"function"==typeof _.remove&&"function"==typeof _.setOptions&&"function"==typeof _.stream&&"function"==typeof _.update&&"function"==typeof _.updateOnly}wn.DELETE=Ef,wn.DataSet=As,wn.DataStream=eu,wn.DataView=nu,wn.Queue=Pf,wn.createNewDataPipeFrom=function(v){return new et(v)},wn.isDataSetLike=vi,wn.isDataViewLike=function(v,_){return"object"===si(_)&&null!==_&&v===_.idProp&&"function"==typeof Ji(_)&&"function"==typeof _.get&&"function"==typeof _.getDataSet&&"function"==typeof _.getIds&&"number"==typeof _.length&&"function"==typeof cn(_)&&"function"==typeof _.off&&"function"==typeof _.on&&"function"==typeof _.stream&&vi(v,_.getDataSet())},Object.defineProperty(wn,"__esModule",{value:!0})}(Oa)},38:function(ap,Oa,wn){!function(Rn,tn){var kr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Xe=function(u){return u&&u.Math==Math&&u},Re=Xe("object"==typeof globalThis&&globalThis)||Xe("object"==typeof window&&window)||Xe("object"==typeof self&&self)||Xe("object"==typeof kr&&kr)||function(){return this}()||Function("return this")(),Ve={},dn=function(u){try{return!!u()}catch(r){return!0}},mr=!dn(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),bo={},nn={}.propertyIsEnumerable,pu=Object.getOwnPropertyDescriptor,Rr=pu&&!nn.call({1:2},1);bo.f=Rr?function(u){var r=pu(this,u);return!!r&&r.enumerable}:nn;var fl,hn,as=function(u,r){return{enumerable:!(1&u),configurable:!(2&u),writable:!(4&u),value:r}},ei={}.toString,ln=function(u){return ei.call(u).slice(8,-1)},Ln=ln,ir="".split,ft=dn(function(){return!Object("z").propertyIsEnumerable(0)})?function(u){return"String"==Ln(u)?ir.call(u,""):Object(u)}:Object,Ma=function(u){if(null==u)throw TypeError("Can't call method on "+u);return u},Je=ft,cc=Ma,us=function(u){return Je(cc(u))},Tn=function(u){return"object"==typeof u?null!==u:"function"==typeof u},kt={},dc=kt,Ws=Re,gu=function(u){return"function"==typeof u?u:void 0},Aa=function(u,r){return arguments.length<2?gu(dc[u])||gu(Ws[u]):dc[u]&&dc[u][r]||Ws[u]&&Ws[u][r]},$o=Aa("navigator","userAgent")||"",Lh=$o,Ft=Re.process,Pa=Re.Deno,Na=Ft&&Ft.versions||Pa&&Pa.version,rt=Na&&Na.v8;rt?hn=(fl=rt.split("."))[0]<4?1:fl[0]+fl[1]:Lh&&(!(fl=Lh.match(/Edge\/(\d+)/))||fl[1]>=74)&&(fl=Lh.match(/Chrome\/(\d+)/))&&(hn=fl[1]);var Uo=hn&&+hn,yr=Uo,hc=!!Object.getOwnPropertySymbols&&!dn(function(){var u=Symbol();return!String(u)||!(Object(u)instanceof Symbol)||!Symbol.sham&&yr&&yr<41}),Vh=hc&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Ze=Aa,Vn=Vh?function(u){return"symbol"==typeof u}:function(u){var r=Ze("Symbol");return"function"==typeof r&&Object(u)instanceof r},jh=Tn,fc={exports:{}},pt=Re,_o="__core-js_shared__",Dd=Re[_o]||function(u,r){try{Object.defineProperty(pt,u,{value:r,configurable:!0,writable:!0})}catch(o){pt[u]=r}return r}(_o,{}),vu=Dd;(fc.exports=function(u,r){return vu[u]||(vu[u]=void 0!==r?r:{})})("versions",[]).push({version:"3.16.1",mode:"pure",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"});var Ci=Ma,An=function(u){return Object(Ci(u))},Fa=An,pl={}.hasOwnProperty,fn=Object.hasOwn||function(u,r){return pl.call(Fa(u),r)},lp=0,gl=Math.random(),wo=function(u){return"Symbol("+String(void 0===u?"":u)+")_"+(++lp+gl).toString(36)},mu=Re,vl=fn,zg=wo,pn=hc,qs=Vh,Ys=(0,fc.exports)("wks"),Ui=mu.Symbol,Ra=qs?Ui:Ui&&Ui.withoutSetter||zg,Mt=function(u){return vl(Ys,u)&&(pn||"string"==typeof Ys[u])||(Ys[u]=pn&&vl(Ui,u)?Ui[u]:Ra("Symbol."+u)),Ys[u]},or=Tn,Bh=Vn,sr=Mt("toPrimitive"),yu=function(u,r){if(!or(u)||Bh(u))return u;var o,s=u[sr];if(void 0!==s){if(void 0===r&&(r="default"),o=s.call(u,r),!or(o)||Bh(o))return o;throw TypeError("Can't convert object to primitive value")}return void 0===r&&(r="number"),function(u,r){var o,s;if("string"===r&&"function"==typeof(o=u.toString)&&!jh(s=o.call(u))||"function"==typeof(o=u.valueOf)&&!jh(s=o.call(u))||"string"!==r&&"function"==typeof(o=u.toString)&&!jh(s=o.call(u)))return s;throw TypeError("Can't convert object to primitive value")}(u,r)},bu=Vn,Lt=function(u){var r=yu(u,"string");return bu(r)?r:String(r)},cs=Tn,bt=Re.document,Td=cs(bt)&&cs(bt.createElement),Qs=function(u){return Td?bt.createElement(u):{}},Wt=Qs,$e=!mr&&!dn(function(){return 7!=Object.defineProperty(Wt("div"),"a",{get:function(){return 7}}).a}),_u=bo,Va=as,Hh=us,pc=Lt,Ue=fn,Sr=$e,gc=Object.getOwnPropertyDescriptor;Ve.f=mr?gc:function(u,r){if(u=Hh(u),r=pc(r),Sr)try{return gc(u,r)}catch(o){}if(Ue(u,r))return Va(!_u.f.call(u,r),u[r])};var rm=dn,Id=/#|\.prototype\./,Ks=function(u,r){var o=$g[cn(u)];return o==im||o!=Xs&&("function"==typeof r?rm(r):!!r)},cn=Ks.normalize=function(u){return String(u).replace(Id,".").toLowerCase()},$g=Ks.data={},Xs=Ks.NATIVE="N",im=Ks.POLYFILL="P",Zs=Ks,vc=function(u){if("function"!=typeof u)throw TypeError(String(u)+" is not a function");return u},Lr=vc,ml=function(u,r,o){if(Lr(u),void 0===r)return u;switch(o){case 0:return function(){return u.call(r)};case 1:return function(s){return u.call(r,s)};case 2:return function(s,l){return u.call(r,s,l)};case 3:return function(s,l,d){return u.call(r,s,l,d)}}return function(){return u.apply(r,arguments)}},Wo={},mc=Tn,Pn=function(u){if(!mc(u))throw TypeError(String(u)+" is not an object");return u},om=$e,Di=Pn,En=Lt,zh=Object.defineProperty;Wo.f=mr?zh:function(u,r,o){if(Di(u),r=En(r),Di(o),om)try{return zh(u,r,o)}catch(s){}if("get"in o||"set"in o)throw TypeError("Accessors not supported");return"value"in o&&(u[r]=o.value),u};var Wg=Wo,Gg=as,Ye=mr?function(u,r,o){return Wg.f(u,r,Gg(1,o))}:function(u,r,o){return u[r]=o,u},kd=Re,Eo=Ve.f,Wi=Zs,ja=kt,Ba=ml,Js=Ye,Sd=fn,yc=function(u){var r=function(o,s,l){if(this instanceof u){switch(arguments.length){case 0:return new u;case 1:return new u(o);case 2:return new u(o,s)}return new u(o,s,l)}return u.apply(this,arguments)};return r.prototype=u.prototype,r},dt=function(u,r){var o,s,l,d,f,m,b,I,A=u.target,P=u.global,H=u.stat,U=u.proto,W=P?kd:H?kd[A]:(kd[A]||{}).prototype,K=P?ja:ja[A]||(ja[A]={}),oe=K.prototype;for(l in r)o=!Wi(P?l:A+(H?".":"#")+l,u.forced)&&W&&Sd(W,l),f=K[l],o&&(m=u.noTargetGet?(I=Eo(W,l))&&I.value:W[l]),d=o&&m?m:r[l],o&&typeof f==typeof d||(b=u.bind&&o?Ba(d,kd):u.wrap&&o?yc(d):U&&"function"==typeof d?Ba(Function.call,d):d,(u.sham||d&&d.sham||f&&f.sham)&&Js(b,"sham",!0),K[l]=b,U&&(Sd(ja,s=A+"Prototype")||Js(ja,s,{}),ja[s][l]=d,u.real&&oe&&!oe[l]&&Js(oe,l,d)))},ea=Math.ceil,qg=Math.floor,et=function(u){return isNaN(u=+u)?0:(u>0?qg:ea)(u)},bc=et,cp=Math.min,br=function(u){return u>0?cp(bc(u),9007199254740991):0},wu=et,dp=Math.max,ds=Math.min,Qn=function(u,r){var o=wu(u);return o<0?dp(o+r,0):ds(o,r)},sm=us,Yg=br,rn=Qn,hs=function(u){return function(r,o,s){var l,d=sm(r),f=Yg(d.length),m=rn(s,f);if(u&&o!=o){for(;f>m;)if((l=d[m++])!=l)return!0}else for(;f>m;m++)if((u||m in d)&&d[m]===o)return u||m||0;return!u&&-1}},fs={includes:hs(!0),indexOf:hs(!1)},yl={},$h=fn,$t=us,_c=fs.indexOf,Qg=yl,_r=function(u,r){var o,s=$t(u),l=0,d=[];for(o in s)!$h(Qg,o)&&$h(s,o)&&d.push(o);for(;r.length>l;)$h(s,o=r[l++])&&(~_c(d,o)||d.push(o));return d},Yt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],wc=_r,Uh=Yt,ta=Object.keys||function(u){return wc(u,Uh)},Eu={};Eu.f=Object.getOwnPropertySymbols;var hp=mr,li=ta,Wh=Eu,Cu=bo,Du=An,Ec=ft,ti=Object.assign,xu=Object.defineProperty,Or=!ti||dn(function(){if(hp&&1!==ti({b:1},ti(xu({},"a",{enumerable:!0,get:function(){xu(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var u={},r={},o=Symbol(),s="abcdefghijklmnopqrst";return u[o]=7,s.split("").forEach(function(l){r[l]=l}),7!=ti({},u)[o]||li(ti({},r)).join("")!=s})?function(u,r){for(var o=Du(u),s=arguments.length,l=1,d=Wh.f,f=Cu.f;s>l;)for(var m,b=Ec(arguments[l++]),I=d?li(b).concat(d(b)):li(b),A=I.length,P=0;A>P;)m=I[P++],hp&&!f.call(b,m)||(o[m]=b[m]);return o}:ti;dt({target:"Object",stat:!0,forced:Object.assign!==Or},{assign:Or});var jn=kt.Object.assign,Gh=vc,ut=Tn,Vr=[].slice,jr={},gn=function(u,r,o){if(!(r in jr)){for(var s=[],l=0;l<r;l++)s[l]="a["+l+"]";jr[r]=Function("C,a","return new C("+s.join(",")+")")}return jr[r](u,o)},Go=Function.bind||function(u){var r=Gh(this),o=Vr.call(arguments,1),s=function(){var l=o.concat(Vr.call(arguments));return this instanceof s?gn(r,l.length,l):r.apply(u,l)};return ut(r.prototype)&&(s.prototype=r.prototype),s};dt({target:"Function",proto:!0},{bind:Go});var xi=kt,Bn=function(u){return xi[u+"Prototype"]},Gi=Bn("Function").bind,Ce=Function.prototype,he=function(u){var r=u.bind;return u===Ce||u instanceof Function&&r===Ce.bind?Gi:r};function vn(u,r,o,s){u.beginPath(),u.arc(r,o,s,0,2*Math.PI,!1),u.closePath()}function ni(u,r,o,s,l,d){var f=Math.PI/180;s-2*d<0&&(d=s/2),l-2*d<0&&(d=l/2),u.beginPath(),u.moveTo(r+d,o),u.lineTo(r+s-d,o),u.arc(r+s-d,o+d,d,270*f,360*f,!1),u.lineTo(r+s,o+l-d),u.arc(r+s-d,o+l-d,d,0,90*f,!1),u.lineTo(r+d,o+l),u.arc(r+d,o+l-d,d,90*f,180*f,!1),u.lineTo(r,o+d),u.arc(r+d,o+d,d,180*f,270*f,!1),u.closePath()}function Ti(u,r,o,s,l){var d=.5522848,f=s/2*d,m=l/2*d,b=r+s,I=o+l,A=r+s/2,P=o+l/2;u.beginPath(),u.moveTo(r,P),u.bezierCurveTo(r,P-m,A-f,o,A,o),u.bezierCurveTo(A+f,o,b,P-m,b,P),u.bezierCurveTo(b,P+m,A+f,I,A,I),u.bezierCurveTo(A-f,I,r,P+m,r,P),u.closePath()}function wr(u,r,o,s,l){var d=l*(1/3),f=.5522848,m=s/2*f,b=d/2*f,I=r+s,A=o+d,P=r+s/2,H=o+d/2,U=o+(l-d/2),W=o+l;u.beginPath(),u.moveTo(I,H),u.bezierCurveTo(I,H+b,P+m,A,P,A),u.bezierCurveTo(P-m,A,r,H+b,r,H),u.bezierCurveTo(r,H-b,P-m,o,P,o),u.bezierCurveTo(P+m,o,I,H-b,I,H),u.lineTo(I,U),u.bezierCurveTo(I,U+b,P+m,W,P,W),u.bezierCurveTo(P-m,W,r,U+b,r,U),u.lineTo(r,H)}function qo(u,r,o,s,l,d){u.beginPath(),u.moveTo(r,o);for(var f=d.length,m=s-r,b=l-o,I=b/m,A=Math.sqrt(m*m+b*b),P=0,H=!0,U=0,W=+d[0];A>=.1;)(W=+d[P++%f])>A&&(W=A),U=Math.sqrt(W*W/(1+I*I)),r+=U=m<0?-U:U,o+=I*U,!0===H?u.lineTo(r,o):u.moveTo(r,o),A-=W,H=!H}var mn={circle:vn,dashedLine:qo,database:wr,diamond:function(u,r,o,s){u.beginPath(),u.lineTo(r,o+s),u.lineTo(r+s,o),u.lineTo(r,o-s),u.lineTo(r-s,o),u.closePath()},ellipse:Ti,ellipse_vis:Ti,hexagon:function(u,r,o,s){u.beginPath();var l=2*Math.PI/6;u.moveTo(r+s,o);for(var d=1;d<6;d++)u.lineTo(r+s*Math.cos(l*d),o+s*Math.sin(l*d));u.closePath()},roundRect:ni,square:function(u,r,o,s){u.beginPath(),u.rect(r-s,o-s,2*s,2*s),u.closePath()},star:function(u,r,o,s){u.beginPath(),o+=.1*(s*=.82);for(var l=0;l<10;l++){var d=l%2==0?1.3*s:.5*s;u.lineTo(r+d*Math.sin(2*l*Math.PI/10),o-d*Math.cos(2*l*Math.PI/10))}u.closePath()},triangle:function(u,r,o,s){u.beginPath(),o+=.275*(s*=1.15);var l=2*s,d=l/2,f=Math.sqrt(3)/6*l,m=Math.sqrt(l*l-d*d);u.moveTo(r,o-(m-f)),u.lineTo(r+d,o+f),u.lineTo(r-d,o+f),u.lineTo(r,o-(m-f)),u.closePath()},triangleDown:function(u,r,o,s){u.beginPath(),o-=.275*(s*=1.15);var l=2*s,d=l/2,f=Math.sqrt(3)/6*l,m=Math.sqrt(l*l-d*d);u.moveTo(r,o+(m-f)),u.lineTo(r+d,o-f),u.lineTo(r-d,o-f),u.lineTo(r,o+(m-f)),u.closePath()}},na={exports:{}};!function(u){function r(o){if(o)return function(s){for(var l in r.prototype)s[l]=r.prototype[l];return s}(o)}u.exports=r,r.prototype.on=r.prototype.addEventListener=function(o,s){return this._callbacks=this._callbacks||{},(this._callbacks["$"+o]=this._callbacks["$"+o]||[]).push(s),this},r.prototype.once=function(o,s){function l(){this.off(o,l),s.apply(this,arguments)}return l.fn=s,this.on(o,l),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(o,s){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var l,d=this._callbacks["$"+o];if(!d)return this;if(1==arguments.length)return delete this._callbacks["$"+o],this;for(var f=0;f<d.length;f++)if((l=d[f])===s||l.fn===s){d.splice(f,1);break}return 0===d.length&&delete this._callbacks["$"+o],this},r.prototype.emit=function(o){this._callbacks=this._callbacks||{};for(var s=new Array(arguments.length-1),l=this._callbacks["$"+o],d=1;d<arguments.length;d++)s[d-1]=arguments[d];if(l){d=0;for(var f=(l=l.slice(0)).length;d<f;++d)l[d].apply(this,s)}return this},r.prototype.listeners=function(o){return this._callbacks=this._callbacks||{},this._callbacks["$"+o]||[]},r.prototype.hasListeners=function(o){return!!this.listeners(o).length}}(na);var Ha=na.exports,xt=Vn,Co=function(u){if(xt(u))throw TypeError("Cannot convert a Symbol value to a string");return String(u)},ra=et,ia=Co,Tu=Ma,Br=function(u){return function(r,o){var s,l,d=ia(Tu(r)),f=ra(o),m=d.length;return f<0||f>=m?u?"":void 0:(s=d.charCodeAt(f))<55296||s>56319||f+1===m||(l=d.charCodeAt(f+1))<56320||l>57343?u?d.charAt(f):s:u?d.slice(f,f+2):l-56320+(s-55296<<10)+65536}},Iu={codeAt:Br(!1),charAt:Br(!0)},qi=Dd,Hn=Function.toString;"function"!=typeof qi.inspectSource&&(qi.inspectSource=function(u){return Hn.call(u)});var Ut,Mr,ku,Ou=Re.WeakMap,ci="function"==typeof Ou&&/native code/.test((0,qi.inspectSource)(Ou)),Er=wo,zn=(0,fc.exports)("keys"),Cc=function(u){return zn[u]||(zn[u]=Er(u))},Yi=Tn,bl=Ye,Ii=fn,Qi=Cc,Kn=yl,Kg="Object already initialized";if(ci||Dd.state){var Yo=Dd.state||(Dd.state=new(0,Re.WeakMap)),fp=Yo.get,qh=Yo.has,pp=Yo.set;Ut=function(u,r){if(qh.call(Yo,u))throw new TypeError(Kg);return r.facade=u,pp.call(Yo,u,r),r},Mr=function(u){return fp.call(Yo,u)||{}},ku=function(u){return qh.call(Yo,u)}}else{var hi=Qi("state");Kn[hi]=!0,Ut=function(u,r){if(Ii(u,hi))throw new TypeError(Kg);return r.facade=u,bl(u,hi,r),r},Mr=function(u){return Ii(u,hi)?u[hi]:{}},ku=function(u){return Ii(u,hi)}}var Mu,gp,Yh,ki={set:Ut,get:Mr,has:ku,enforce:function(u){return ku(u)?Mr(u):Ut(u,{})},getterFor:function(u){return function(r){var o;if(!Yi(r)||(o=Mr(r)).type!==u)throw TypeError("Incompatible receiver, "+u+" required");return o}}},Qh=!dn(function(){function u(){}return u.prototype.constructor=null,Object.getPrototypeOf(new u)!==u.prototype}),am=fn,Md=An,Xg=Qh,vp=Cc("IE_PROTO"),Ad=Object.prototype,Ar=Xg?Object.getPrototypeOf:function(u){return u=Md(u),am(u,vp)?u[vp]:"function"==typeof u.constructor&&u instanceof u.constructor?u.constructor.prototype:u instanceof Object?Ad:null},Au=dn,mp=Ar,um=Ye,oa=fn,gs=Mt("iterator"),Dc=!1;[].keys&&("next"in(Yh=[].keys())?(gp=mp(mp(Yh)))!==Object.prototype&&(Mu=gp):Dc=!0);var Si=null==Mu||Au(function(){var u={};return Mu[gs].call(u)!==u});Si&&(Mu={}),Si&&!oa(Mu,gs)&&um(Mu,gs,function(){return this});var sa,xo={IteratorPrototype:Mu,BUGGY_SAFARI_ITERATORS:Dc},Pd=Wo,Pr=Pn,Pu=ta,Qo=mr?Object.defineProperties:function(u,r){Pr(u);for(var o,s=Pu(r),l=s.length,d=0;l>d;)Pd.f(u,o=s[d++],r[o]);return u},Nu=Aa("document","documentElement"),yp=Pn,Ki=Qo,fi=Yt,ri=yl,Fu=Nu,bp=Qs,To=Cc("IE_PROTO"),xc=function(){},kn=function(u){return"<script>"+u+"<\/script>"},Ko=function(u){u.write(kn("")),u.close();var r=u.parentWindow.Object;return u=null,r},vs=function(){try{sa=new ActiveXObject("htmlfile")}catch(r){}vs=document.domain&&sa?Ko(sa):function(){var r,o=bp("iframe");if(o.style)return o.style.display="none",Fu.appendChild(o),o.src=String("javascript:"),(r=o.contentWindow.document).open(),r.write(kn("document.F=Object")),r.close(),r.F}()||Ko(sa);for(var u=fi.length;u--;)delete vs.prototype[fi[u]];return vs()};ri[To]=!0;var Ru=Object.create||function(u,r){var o;return null!==u?(xc.prototype=yp(u),o=new xc,xc.prototype=null,o[To]=u):o=vs(),void 0===r?o:Ki(o,r)},Sn={};Sn[Mt("toStringTag")]="z";var Kh="[object z]"===String(Sn),_p=Kh,aa=ln,zr=Mt("toStringTag"),ms="Arguments"==aa(function(){return arguments}()),Io=_p?aa:function(u){var r,o,s;return void 0===u?"Undefined":null===u?"Null":"string"==typeof(o=function(l,d){try{return l[d]}catch(f){}}(r=Object(u),zr))?o:ms?aa(r):"Object"==(s=aa(r))&&"function"==typeof r.callee?"Arguments":s},Xo=Io,wp=Kh,Nd=Wo.f,Xh=Ye,ys=fn,Tc=Kh?{}.toString:function(){return"[object "+Xo(this)+"]"},Fd=Mt("toStringTag"),st=function(u,r,o,s){if(u){var l=o?u:u.prototype;ys(l,Fd)||Nd(l,Fd,{configurable:!0,value:r}),s&&!wp&&Xh(l,"toString",Tc)}},Ic={},Zh=xo.IteratorPrototype,Xi=Ru,Ep=as,Jh=st,Cp=Ic,kc=function(){return this},ge=Tn,Vt=Pn,$n=Object.setPrototypeOf||("__proto__"in{}?function(){var u,r=!1,o={};try{(u=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(o,[]),r=o instanceof Array}catch(s){}return function(s,l){return Vt(s),function(u){if(!ge(u)&&null!==u)throw TypeError("Can't set "+String(u)+" as a prototype")}(l),r?u.call(s,l):s.__proto__=l,s}}():void 0),Rd=Ye,ua=function(u,r,o,s){s&&s.enumerable?u[r]=o:Rd(u,r,o)},bs=dt,Ld=Ar,lm=st,Oc=Ye,_s=ua,ko=Ic,ar=xo.IteratorPrototype,Mi=xo.BUGGY_SAFARI_ITERATORS,Lu=Mt("iterator"),Zi="values",Vd="entries",tf=function(){return this},jd=function(u,r,o,s,l,d,f){!function(u,r,o){var s=r+" Iterator";u.prototype=Xi(Zh,{next:Ep(1,o)}),Jh(u,s,!1,!0),Cp[s]=kc}(o,r,s);var m,b,I,A=function(Z){if(Z===l&&K)return K;if(!Mi&&Z in U)return U[Z];switch(Z){case"keys":case Zi:case Vd:return function(){return new o(this,Z)}}return function(){return new o(this)}},P=r+" Iterator",H=!1,U=u.prototype,W=U[Lu]||U["@@iterator"]||l&&U[l],K=!Mi&&W||A(l),oe="Array"==r&&U.entries||W;if(oe&&(m=Ld(oe.call(new u)),ar!==Object.prototype&&m.next&&(lm(m,P,!0,!0),ko[P]=tf)),l==Zi&&W&&W.name!==Zi&&(H=!0,K=function(){return W.call(this)}),f&&U[Lu]!==K&&Oc(U,Lu,K),ko[r]=K,l)if(b={values:A(Zi),keys:d?K:A("keys"),entries:A(Vd)},f)for(I in b)(Mi||H||!(I in U))&&_s(U,I,b[I]);else bs({target:r,proto:!0,forced:Mi||H},b);return b},Dp=Iu.charAt,xp=Co,nf=jd,la="String Iterator",Tp=ki.set,Mc=ki.getterFor(la);nf(String,"String",function(u){Tp(this,{type:la,string:xp(u),index:0})},function(){var u,r=Mc(this),o=r.string,s=r.index;return s>=o.length?{value:void 0,done:!0}:(u=Dp(o,s),r.index+=u.length,{value:u,done:!1})});var Ac=Pn,Hd=function(u){var r=u.return;if(void 0!==r)return Ac(r.call(u)).value},Ip=Pn,rf=Hd,kp=Ic,zd=Mt("iterator"),Zg=Array.prototype,Pc=function(u){return void 0!==u&&(kp.Array===u||Zg[zd]===u)},pi=Lt,za=Wo,Ht=as,_l=function(u,r,o){var s=pi(r);s in u?za.f(u,s,Ht(0,o)):u[s]=o},Nc=Io,$d=Ic,Jg=Mt("iterator"),of=function(u){if(null!=u)return u[Jg]||u["@@iterator"]||$d[Nc(u)]},ev=ml,Fc=An,Ud=function(u,r,o,s){try{return s?r(Ip(o)[0],o[1]):r(o)}catch(l){throw rf(u),l}},Rc=Pc,Wd=br,Gd=_l,sf=of,ca=Mt("iterator"),Vu=!1;try{var Sp=0,af={next:function(){return{done:!!Sp++}},return:function(){Vu=!0}};af[ca]=function(){return this},Array.from(af,function(){throw 2})}catch(u){}dt({target:"Array",stat:!0,forced:!function(u,r){if(!Vu)return!1;var o=!1;try{var s={};s[ca]=function(){return{next:function(){return{done:o=!0}}}},function(u){Array.from(u)}(s)}catch(l){}return o}()},{from:function(u){var r,o,s,l,d,f,m=Fc(u),b="function"==typeof this?this:Array,I=arguments.length,A=I>1?arguments[1]:void 0,P=void 0!==A,H=sf(m),U=0;if(P&&(A=ev(A,I>2?arguments[2]:void 0,2)),null==H||b==Array&&Rc(H))for(o=new b(r=Wd(m.length));r>U;U++)f=P?A(m[U],U):m[U],Gd(o,U,f);else for(d=(l=H.call(m)).next,o=new b;!(s=d.call(l)).done;U++)f=P?Ud(l,A,[s.value,U],!0):s.value,Gd(o,U,f);return o.length=U,o}});var qd=kt.Array.from,ju=qd,tv=us,Op=Ic,Lc=jd,uf="Array Iterator",Ji=ki.set,Vc=ki.getterFor(uf);Lc(Array,"Array",function(u,r){Ji(this,{type:uf,target:tv(u),index:0,kind:r})},function(){var u=Vc(this),r=u.target,o=u.kind,s=u.index++;return!r||s>=r.length?(u.target=void 0,{value:void 0,done:!0}):"keys"==o?{value:s,done:!1}:"values"==o?{value:r[s],done:!1}:{value:[s,r[s]],done:!1}},"values"),Op.Arguments=Op.Array;var Yd=of,wl=Re,Ap=Io,Bu=Ye,jc=Ic,El=Mt("toStringTag");for(var Pp in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var Qd=wl[Pp],Kd=Qd&&Qd.prototype;Kd&&Ap(Kd)!==El&&Bu(Kd,El,Pp),jc[Pp]=jc.Array}var Zo=Yd,Cl=ln,ii=Array.isArray||function(u){return"Array"==Cl(u)},So={},Dl=_r,Xd=Yt.concat("length","prototype");So.f=Object.getOwnPropertyNames||function(u){return Dl(u,Xd)};var Hu={},cf=us,Zd=So.f,df={}.toString,Jd="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Hu.f=function(u){return Jd&&"[object Window]"==df.call(u)?function(r){try{return Zd(r)}catch(o){return Jd.slice()}}(u):Zd(cf(u))};var xl={};xl.f=Mt;var eh=kt,Tl=fn,Il=xl,Ai=Wo.f,Un=function(u){var r=eh.Symbol||(eh.Symbol={});Tl(r,u)||Ai(r,u,{value:Il.f(u)})},hf=Tn,Xn=ii,oi=Mt("species"),si=function(u,r){return new(function(u){var r;return Xn(u)&&("function"!=typeof(r=u.constructor)||r!==Array&&!Xn(r.prototype)?hf(r)&&null===(r=r[oi])&&(r=void 0):r=void 0),void 0===r?Array:r}(u))(0===r?0:r)},Ua=ml,Es=ft,zu=An,Bc=br,pf=si,Zn=[].push,$u=function(u){var r=1==u,o=2==u,s=3==u,l=4==u,d=6==u,f=7==u,m=5==u||d;return function(b,I,A,P){for(var H,U,W=zu(b),K=Es(W),oe=Ua(I,A,3),Z=Bc(K.length),ee=0,ae=P||pf,ve=r?ae(b,Z):o||f?ae(b,0):void 0;Z>ee;ee++)if((m||ee in K)&&(U=oe(H=K[ee],ee,W),u))if(r)ve[ee]=U;else if(U)switch(u){case 3:return!0;case 5:return H;case 6:return ee;case 2:Zn.call(ve,H)}else switch(u){case 4:return!1;case 7:Zn.call(ve,H)}return d?-1:s||l?l:ve}},da={forEach:$u(0),map:$u(1),filter:$u(2),some:$u(3),every:$u(4),find:$u(5),findIndex:$u(6),filterReject:$u(7)},ha=dt,Hc=Re,dm=Aa,gt=mr,$r=hc,Uu=dn,yn=fn,kl=ii,hm=Tn,Wu=Vn,Wa=Pn,Gu=An,zc=us,$c=Lt,gf=Co,Ga=as,Uc=Ru,Jn=ta,Wc=So,Cs=Hu,Gc=Eu,qc=Ve,Ur=Wo,Oo=bo,th=Ye,fa=ua,ai=fc.exports,Sl=yl,Ol=wo,Ml=Mt,nv=xl,vf=Un,Ds=st,Wr=ki,Mo=da.forEach,ur=Cc("hidden"),Al="Symbol",nh=Ml("toPrimitive"),Np=Wr.set,Pl=Wr.getterFor(Al),eo=Object.prototype,to=Hc.Symbol,no=dm("JSON","stringify"),qu=qc.f,xs=Ur.f,Ts=Cs.f,rh=Oo.f,Gr=ai("symbols"),qa=ai("op-symbols"),ro=ai("string-to-symbol-registry"),pa=ai("symbol-to-string-registry"),Fp=ai("wks"),ih=Hc.QObject,Yu=!ih||!ih.prototype||!ih.prototype.findChild,oh=gt&&Uu(function(){return 7!=Uc(xs({},"a",{get:function(){return xs(this,"a",{value:7}).a}})).a})?function(u,r,o){var s=qu(eo,r);s&&delete eo[r],xs(u,r,o),s&&u!==eo&&xs(eo,r,s)}:xs,Nl=function(u,r){var o=Gr[u]=Uc(to.prototype);return Np(o,{type:Al,tag:u,description:r}),gt||(o.description=r),o},Ao=function(u,r,o){u===eo&&Ao(qa,r,o),Wa(u);var s=$c(r);return Wa(o),yn(Gr,s)?(o.enumerable?(yn(u,ur)&&u[ur][s]&&(u[ur][s]=!1),o=Uc(o,{enumerable:Ga(0,!1)})):(yn(u,ur)||xs(u,ur,Ga(1,{})),u[ur][s]=!0),oh(u,s,o)):xs(u,s,o)},ga=function(u,r){Wa(u);var o=zc(r),s=Jn(o).concat(Qu(o));return Mo(s,function(l){gt&&!Rp.call(o,l)||Ao(u,l,o[l])}),u},Rp=function(u){var r=$c(u),o=rh.call(this,r);return!(this===eo&&yn(Gr,r)&&!yn(qa,r))&&(!(o||!yn(this,r)||!yn(Gr,r)||yn(this,ur)&&this[ur][r])||o)},At=function(u,r){var o=zc(u),s=$c(r);if(o!==eo||!yn(Gr,s)||yn(qa,s)){var l=qu(o,s);return!l||!yn(Gr,s)||yn(o,ur)&&o[ur][s]||(l.enumerable=!0),l}},Yc=function(u){var r=Ts(zc(u)),o=[];return Mo(r,function(s){yn(Gr,s)||yn(Sl,s)||o.push(s)}),o},Qu=function(u){var r=u===eo,o=Ts(r?qa:zc(u)),s=[];return Mo(o,function(l){!yn(Gr,l)||r&&!yn(eo,l)||s.push(Gr[l])}),s};$r||(fa((to=function(){if(this instanceof to)throw TypeError("Symbol is not a constructor");var u=arguments.length&&void 0!==arguments[0]?gf(arguments[0]):void 0,r=Ol(u),o=function(s){this===eo&&o.call(qa,s),yn(this,ur)&&yn(this[ur],r)&&(this[ur][r]=!1),oh(this,r,Ga(1,s))};return gt&&Yu&&oh(eo,r,{configurable:!0,set:o}),Nl(r,u)}).prototype,"toString",function(){return Pl(this).tag}),fa(to,"withoutSetter",function(u){return Nl(Ol(u),u)}),Oo.f=Rp,Ur.f=Ao,qc.f=At,Wc.f=Cs.f=Yc,Gc.f=Qu,nv.f=function(u){return Nl(Ml(u),u)},gt&&xs(to.prototype,"description",{configurable:!0,get:function(){return Pl(this).description}})),ha({global:!0,wrap:!0,forced:!$r,sham:!$r},{Symbol:to}),Mo(Jn(Fp),function(u){vf(u)}),ha({target:Al,stat:!0,forced:!$r},{for:function(u){var r=gf(u);if(yn(ro,r))return ro[r];var o=to(r);return ro[r]=o,pa[o]=r,o},keyFor:function(u){if(!Wu(u))throw TypeError(u+" is not a symbol");if(yn(pa,u))return pa[u]},useSetter:function(){Yu=!0},useSimple:function(){Yu=!1}}),ha({target:"Object",stat:!0,forced:!$r,sham:!gt},{create:function(u,r){return void 0===r?Uc(u):ga(Uc(u),r)},defineProperty:Ao,defineProperties:ga,getOwnPropertyDescriptor:At}),ha({target:"Object",stat:!0,forced:!$r},{getOwnPropertyNames:Yc,getOwnPropertySymbols:Qu}),ha({target:"Object",stat:!0,forced:Uu(function(){Gc.f(1)})},{getOwnPropertySymbols:function(u){return Gc.f(Gu(u))}}),no&&ha({target:"JSON",stat:!0,forced:!$r||Uu(function(){var u=to();return"[null]"!=no([u])||"{}"!=no({a:u})||"{}"!=no(Object(u))})},{stringify:function(u,r,o){for(var s,l=[u],d=1;arguments.length>d;)l.push(arguments[d++]);if(s=r,(hm(r)||void 0!==u)&&!Wu(u))return kl(r)||(r=function(f,m){if("function"==typeof s&&(m=s.call(this,f,m)),!Wu(m))return m}),l[1]=r,no.apply(null,l)}}),to.prototype[nh]||th(to.prototype,nh,to.prototype.valueOf),Ds(to,Al),Sl[ur]=!0;var Pi=kt.Object.getOwnPropertySymbols,Fl={exports:{}},rv=dt,mf=us,iv=Ve.f,Rl=mr,Jo=dn(function(){iv(1)});rv({target:"Object",stat:!0,forced:!Rl||Jo,sham:!Rl},{getOwnPropertyDescriptor:function(u,r){return iv(mf(u),r)}});var Is=kt.Object,Ni=Fl.exports=function(u,r){return Is.getOwnPropertyDescriptor(u,r)};Is.getOwnPropertyDescriptor.sham&&(Ni.sham=!0);var yf=Fl.exports,io=yf,sh=So,Ya=Eu,ah=Pn,va=Aa("Reflect","ownKeys")||function(u){var r=sh.f(ah(u)),o=Ya.f;return o?r.concat(o(u)):r},Lp=va,ma=us,Ll=Ve,Vp=_l;dt({target:"Object",stat:!0,sham:!mr},{getOwnPropertyDescriptors:function(u){for(var r,o,s=ma(u),l=Ll.f,d=Lp(s),f={},m=0;d.length>m;)void 0!==(o=l(s,r=d[m++]))&&Vp(f,r,o);return f}});var Qa=kt.Object.getOwnPropertyDescriptors,qr={exports:{}};dt({target:"Object",stat:!0,forced:!mr,sham:!mr},{defineProperties:Qo});var jp=kt.Object,ov=qr.exports=function(u,r){return jp.defineProperties(u,r)};jp.defineProperties.sham&&(ov.sham=!0);var Kc=qr.exports,bf={exports:{}};dt({target:"Object",stat:!0,forced:!mr,sham:!mr},{defineProperty:Wo.f});var uh=kt.Object,lh=bf.exports=function(u,r,o){return uh.defineProperty(u,r,o)};uh.defineProperty.sham&&(lh.sham=!0);var Nr=bf.exports,ks=Nr;function ke(u,r){if(!(u instanceof r))throw new TypeError("Cannot call a class as a function")}var _f=Nr;function oo(u,r){for(var o=0;o<r.length;o++){var s=r[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),_f(u,s.key,s)}}function Te(u,r,o){return r&&oo(u.prototype,r),o&&oo(u,o),u}function Vl(u,r,o){return r in u?_f(u,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):u[r]=o,u}dt({target:"Array",stat:!0},{isArray:ii});var Xc=kt.Array.isArray,wf=Xc,Ku=dn,Ka=Uo,Ef=Mt("species"),jl=function(u){return Ka>=51||!Ku(function(){var r=[];return(r.constructor={})[Ef]=function(){return{foo:1}},1!==r[u](Boolean).foo})},ch=dt,Bp=dn,Hp=ii,so=Tn,Gt=An,dh=br,hh=_l,zp=si,$p=jl,es=Uo,Up=Mt("isConcatSpreadable"),Xa=9007199254740991,Wp="Maximum allowed index exceeded",ts=es>=51||!Bp(function(){var u=[];return u[Up]=!1,u.concat()[0]!==u}),Cn=$p("concat"),Ss=function(u){if(!so(u))return!1;var r=u[Up];return void 0!==r?!!r:Hp(u)};ch({target:"Array",proto:!0,forced:!ts||!Cn},{concat:function(u){var r,o,s,l,d,f=Gt(this),m=zp(f,0),b=0;for(r=-1,s=arguments.length;r<s;r++)if(Ss(d=-1===r?f:arguments[r])){if(b+(l=dh(d.length))>Xa)throw TypeError(Wp);for(o=0;o<l;o++,b++)o in d&&hh(m,b,d[o])}else{if(b>=Xa)throw TypeError(Wp);hh(m,b++,d)}return m.length=b,m}}),Un("asyncIterator"),Un("hasInstance"),Un("isConcatSpreadable"),Un("iterator"),Un("match"),Un("matchAll"),Un("replace"),Un("search"),Un("species"),Un("split"),Un("toPrimitive"),Un("toStringTag"),Un("unscopables"),st(Re.JSON,"JSON",!0);var Cf=kt.Symbol;Un("asyncDispose"),Un("dispose"),Un("matcher"),Un("metadata"),Un("observable"),Un("patternMatch"),Un("replaceAll");var ao=Cf,Bl=dt,Df=Tn,uo=ii,Po=Qn,Za=br,fh=us,Zc=_l,Ja=Mt,Gp=jl("slice"),xf=Ja("species"),Tf=[].slice,Jc=Math.max;Bl({target:"Array",proto:!0,forced:!Gp},{slice:function(u,r){var o,s,l,d=fh(this),f=Za(d.length),m=Po(u,f),b=Po(void 0===r?f:r,f);if(uo(d)&&("function"!=typeof(o=d.constructor)||o!==Array&&!uo(o.prototype)?Df(o)&&null===(o=o[xf])&&(o=void 0):o=void 0,o===Array||void 0===o))return Tf.call(d,m,b);for(s=new(void 0===o?Array:o)(Jc(b-m,0)),l=0;m<b;m++,l++)m in d&&Zc(s,l,d[m]);return s.length=l,s}});var ph=Bn("Array").slice,ya=Array.prototype,Xu=function(u){var r=u.slice;return u===ya||u instanceof Array&&r===ya.slice?ph:r},Hl=Xu,zl=qd;function $l(u,r){(null==r||r>u.length)&&(r=u.length);for(var o=0,s=new Array(r);o<r;o++)s[o]=u[o];return s}function If(u,r){var o;if(u){if("string"==typeof u)return $l(u,r);var s=Hl(o=Object.prototype.toString.call(u)).call(o,8,-1);return"Object"===s&&u.constructor&&(s=u.constructor.name),"Map"===s||"Set"===s?zl(u):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?$l(u,r):void 0}}function Nn(u,r){return function(o){if(wf(o))return o}(u)||function(o,s){var l=null==o?null:void 0!==ao&&Zo(o)||o["@@iterator"];if(null!=l){var d,f,m=[],b=!0,I=!1;try{for(l=l.call(o);!(b=(d=l.next()).done)&&(m.push(d.value),!s||m.length!==s);b=!0);}catch(A){I=!0,f=A}finally{try{b||null==l.return||l.return()}finally{if(I)throw f}}return m}}(u,r)||If(u,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var qp=xl.f("iterator");function Xt(u){return(Xt="function"==typeof ao&&"symbol"==typeof qp?function(r){return typeof r}:function(r){return r&&"function"==typeof ao&&r.constructor===ao&&r!==ao.prototype?"symbol":typeof r})(u)}function Cr(u){return function(r){if(wf(r))return $l(r)}(u)||function(r){if(void 0!==ao&&null!=Zo(r)||null!=r["@@iterator"])return zl(r)}(u)||If(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var No=Cf,gh=Bn("Array").concat,on=Array.prototype,kf=function(u){var r=u.concat;return u===on||u instanceof Array&&r===on.concat?gh:r},qt=Xu;dt({target:"Reflect",stat:!0},{ownKeys:va});var Rt=Xc,Wn=da.map;dt({target:"Array",proto:!0,forced:!jl("map")},{map:function(u){return Wn(this,u,arguments.length>1?arguments[1]:void 0)}});var gi=Bn("Array").map,Ul=Array.prototype,Os=function(u){var r=u.map;return u===Ul||u instanceof Array&&r===Ul.map?gi:r},Wl=An,Zu=ta;dt({target:"Object",stat:!0,forced:dn(function(){Zu(1)})},{keys:function(u){return Zu(Wl(u))}});var sn=kt.Object.keys;dt({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}});var lo=kt.Date.now,Fo=dn,er=function(u,r){var o=[][u];return!!o&&Fo(function(){o.call(null,r||function(){throw 1},1)})},ed=da.forEach,Gl=er("forEach")?[].forEach:function(u){return ed(this,u,arguments.length>1?arguments[1]:void 0)};dt({target:"Array",proto:!0,forced:[].forEach!=Gl},{forEach:Gl});var ns=Bn("Array").forEach,lr=Io,Fi=Array.prototype,vh={DOMTokenList:!0,NodeList:!0},en=function(u){var r=u.forEach;return u===Fi||u instanceof Array&&r===Fi.forEach||vh.hasOwnProperty(lr(u))?ns:r},ql=ii,Sf=[].reverse,Of=[1,2];dt({target:"Array",proto:!0,forced:String(Of)===String(Of.reverse())},{reverse:function(){return ql(this)&&(this.length=this.length),Sf.call(this)}});var td=Bn("Array").reverse,mh=Array.prototype,Dn=function(u){var r=u.reverse;return u===mh||u instanceof Array&&r===mh.reverse?td:r},Mf=dt,Yp=Qn,Af=et,Pf=br,yh=An,nd=si,Ms=_l,rd=jl("splice"),eu=Math.max,ba=Math.min,Nf=9007199254740991,tu="Maximum allowed length exceeded";Mf({target:"Array",proto:!0,forced:!rd},{splice:function(u,r){var o,s,l,d,f,m,b=yh(this),I=Pf(b.length),A=Yp(u,I),P=arguments.length;if(0===P?o=s=0:1===P?(o=0,s=I-A):(o=P-2,s=ba(eu(Af(r),0),I-A)),I+o-s>Nf)throw TypeError(tu);for(l=nd(b,s),d=0;d<s;d++)(f=A+d)in b&&Ms(l,d,b[f]);if(l.length=s,o<s){for(d=A;d<I-s;d++)m=d+o,(f=d+s)in b?b[m]=b[f]:delete b[m];for(d=I;d>I-s+o;d--)delete b[d-1]}else if(o>s)for(d=I-s;d>A;d--)m=d+o-1,(f=d+s-1)in b?b[m]=b[f]:delete b[m];for(d=0;d<o;d++)b[d+A]=arguments[d+2];return b.length=I-s+o,l}});var Ri=Bn("Array").splice,Qp=Array.prototype,As=function(u){var r=u.splice;return u===Qp||u instanceof Array&&r===Qp.splice?Ri:r},Kp=fs.includes;dt({target:"Array",proto:!0},{includes:function(u){return Kp(this,u,arguments.length>1?arguments[1]:void 0)}});var Ff=Bn("Array").includes,Xp=Tn,nu=ln,vi=Mt("match"),_=Mt("match"),w=function(u){if(function(u){var r;return Xp(u)&&(void 0!==(r=u[vi])?!!r:"RegExp"==nu(u))}(u))throw TypeError("The method doesn't accept regular expressions");return u},E=Ma,S=Co;dt({target:"String",proto:!0,forced:!function(u){var r=/./;try{"/./"[u](r)}catch(o){try{return r[_]=!1,"/./"[u](r)}catch(s){}}return!1}("includes")},{includes:function(u){return!!~S(E(this)).indexOf(S(w(u)),arguments.length>1?arguments[1]:void 0)}});var N=Bn("String").includes,R=Ff,j=N,$=Array.prototype,Y=String.prototype,re=function(u){var r=u.includes;return u===$||u instanceof Array&&r===$.includes?R:"string"==typeof u||u===Y||u instanceof String&&r===Y.includes?j:r},se=An,Ie=Ar,Oe=Qh;dt({target:"Object",stat:!0,forced:dn(function(){Ie(1)}),sham:!Oe},{getPrototypeOf:function(u){return Ie(se(u))}});var Ge=kt.Object.getPrototypeOf,Ae=Ge,He=da.filter;dt({target:"Array",proto:!0,forced:!jl("filter")},{filter:function(u){return He(this,u,arguments.length>1?arguments[1]:void 0)}});var Pe=Bn("Array").filter,Et=Array.prototype,it=function(u){var r=u.filter;return u===Et||u instanceof Array&&r===Et.filter?Pe:r},Tt=mr,Zt=ta,cr=us,Li=bo.f,dr=function(u){return function(r){for(var o,s=cr(r),l=Zt(s),d=l.length,f=0,m=[];d>f;)o=l[f++],Tt&&!Li.call(s,o)||m.push(u?[o,s[o]]:s[o]);return m}},Yr=(dr(!0),dr(!1));dt({target:"Object",stat:!0},{values:function(u){return Yr(u)}});var Ro="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",co=Ma,Ju=Co,mi="[\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]",bh=RegExp("^"+mi+mi+"*"),el=RegExp(mi+mi+"*$"),id=function(u){return function(r){var o=Ju(co(r));return 1&u&&(o=o.replace(bh,"")),2&u&&(o=o.replace(el,"")),o}},De={start:id(1),end:id(2),trim:id(3)},_e=Co,vt=De.trim,Pt=Ro,tt=Re.parseInt,Fr=/^[+-]?0[Xx]/,hr=8!==tt(Pt+"08")||22!==tt(Pt+"0x16")?function(u,r){var o=vt(_e(u));return tt(o,r>>>0||(Fr.test(o)?16:10))}:tt;dt({global:!0,forced:parseInt!=hr},{parseInt:hr});var Fn=kt.parseInt,rs=dt,an=fs.indexOf,ho=er,Lo=[].indexOf,_h=!!Lo&&1/[1].indexOf(1,-0)<0,ru=ho("indexOf");rs({target:"Array",proto:!0,forced:_h||!ru},{indexOf:function(u){return _h?Lo.apply(this,arguments)||0:an(this,u,arguments.length>1?arguments[1]:void 0)}});var u,wh=Bn("Array").indexOf,iu=Array.prototype,Qt=function(u){var r=u.indexOf;return u===iu||u instanceof Array&&r===iu.indexOf?wh:r},fm=Ro,sv=De.trim;dt({target:"String",proto:!0,forced:(u="trim",dn(function(){return!!fm[u]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[u]()||fm[u].name!==u}))},{trim:function(){return sv(this)}}),Bn("String"),dt({target:"Object",stat:!0,sham:!mr},{create:Ru});var pm=kt.Object,Jp=function(u,r){return pm.create(u,r)},tl=Jp,av=dt,Eh=dn,od=Aa("JSON","stringify"),uv=/[\uD800-\uDFFF]/g,sd=/^[\uD800-\uDBFF]$/,eg=/^[\uDC00-\uDFFF]$/,tg=function(u,r,o){var s=o.charAt(r-1),l=o.charAt(r+1);return sd.test(u)&&!eg.test(l)||eg.test(u)&&!sd.test(s)?"\\u"+u.charCodeAt(0).toString(16):u},Rf=Eh(function(){return'"\\udf06\\ud834"'!==od("\udf06\ud834")||'"\\udead"'!==od("\udead")});od&&av({target:"JSON",stat:!0,forced:Rf},{stringify:function(u,r,o){var s=od.apply(null,arguments);return"string"==typeof s?s.replace(uv,tg):s}});var lv=kt;lv.JSON||(lv.JSON={stringify:JSON.stringify});var Vo=function(u,r,o){return lv.JSON.stringify.apply(null,arguments)},gm=Re,cv=[].slice,ng=function(u){return function(r,o){var s=arguments.length>2,l=s?cv.call(arguments,2):void 0;return u(s?function(){("function"==typeof r?r:Function(r)).apply(this,l)}:r,o)}};dt({global:!0,bind:!0,forced:/MSIE .\./.test($o)},{setTimeout:ng(gm.setTimeout),setInterval:ng(gm.setInterval)});var is=kt.setTimeout,dv=An,vy=Qn,vm=br;dt({target:"Array",proto:!0},{fill:function(u){for(var r=dv(this),o=vm(r.length),s=arguments.length,l=vy(s>1?arguments[1]:void 0,o),d=s>2?arguments[2]:void 0,f=void 0===d?o:vy(d,o);f>l;)r[l++]=u;return r}});var Yl=Bn("Array").fill,hv=Array.prototype,Lf=function(u){var r=u.fill;return u===hv||u instanceof Array&&r===hv.fill?Yl:r};function _a(){return(_a=Object.assign||function(u){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(u[s]=o[s])}return u}).apply(this,arguments)}function fr(u,r){u.prototype=Object.create(r.prototype),u.prototype.constructor=u,u.__proto__=r}function rg(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}var nl,ad="function"!=typeof Object.assign?function(u){if(null==u)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(u),o=1;o<arguments.length;o++){var s=arguments[o];if(null!=s)for(var l in s)s.hasOwnProperty(l)&&(r[l]=s[l])}return r}:Object.assign,fo=["","webkit","Moz","MS","ms","o"],my="undefined"==typeof document?{style:{}}:document.createElement("div"),Ps=Math.round,Ql=Math.abs,fv=Date.now;function Vf(u,r){for(var o,s,l=r[0].toUpperCase()+r.slice(1),d=0;d<fo.length;){if((s=(o=fo[d])?o+l:r)in u)return s;d++}}nl="undefined"==typeof window?{}:window;var mm=Vf(my.style,"touchAction"),Ct=void 0!==mm,pv="compute",ud="manipulation",Vi="none",Bf="pan-x",ig="pan-y",Ch=function(){if(!Ct)return!1;var u={},r=nl.CSS&&nl.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(o){return u[o]=!r||nl.CSS.supports("touch-action",o)}),u}(),ou="ontouchstart"in nl,og=void 0!==Vf(nl,"PointerEvent"),ym=ou&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),ld="touch",sg="mouse",wa=["x","y"],cd=["clientX","clientY"];function Ns(u,r,o){var s;if(u)if(u.forEach)u.forEach(r,o);else if(void 0!==u.length)for(s=0;s<u.length;)r.call(o,u[s],s,u),s++;else for(s in u)u.hasOwnProperty(s)&&r.call(o,u[s],s,u)}function Fs(u,r){return"function"==typeof u?u.apply(r&&r[0]||void 0,r):u}function xh(u,r){return u.indexOf(r)>-1}var bm=function(){function u(o,s){this.manager=o,this.set(s)}var r=u.prototype;return r.set=function(o){o===pv&&(o=this.compute()),Ct&&this.manager.element.style&&Ch[o]&&(this.manager.element.style[mm]=o),this.actions=o.toLowerCase().trim()},r.update=function(){this.set(this.manager.options.touchAction)},r.compute=function(){var o=[];return Ns(this.manager.recognizers,function(s){Fs(s.options.enable,[s])&&(o=o.concat(s.getTouchAction()))}),function(s){if(xh(s,Vi))return Vi;var l=xh(s,Bf),d=xh(s,ig);return l&&d?Vi:l||d?l?Bf:ig:xh(s,ud)?ud:"auto"}(o.join(" "))},r.preventDefaults=function(o){var s=o.srcEvent,l=o.offsetDirection;if(this.manager.session.prevented)s.preventDefault();else{var d=this.actions,f=xh(d,Vi)&&!Ch.none,m=xh(d,ig)&&!Ch["pan-y"],b=xh(d,Bf)&&!Ch["pan-x"];if(f&&1===o.pointers.length&&o.distance<2&&o.deltaTime<250)return;if(!b||!m)return f||m&&6&l||b&&24&l?this.preventSrc(s):void 0}},r.preventSrc=function(o){this.manager.session.prevented=!0,o.preventDefault()},u}();function ag(u,r){for(;u;){if(u===r)return!0;u=u.parentNode}return!1}function yy(u){var r=u.length;if(1===r)return{x:Ps(u[0].clientX),y:Ps(u[0].clientY)};for(var o=0,s=0,l=0;l<r;)o+=u[l].clientX,s+=u[l].clientY,l++;return{x:Ps(o/r),y:Ps(s/r)}}function vv(u){for(var r=[],o=0;o<u.pointers.length;)r[o]={clientX:Ps(u.pointers[o].clientX),clientY:Ps(u.pointers[o].clientY)},o++;return{timeStamp:fv(),pointers:r,center:yy(r),deltaX:u.deltaX,deltaY:u.deltaY}}function mv(u,r,o){o||(o=wa);var s=r[o[0]]-u[o[0]],l=r[o[1]]-u[o[1]];return Math.sqrt(s*s+l*l)}function ug(u,r,o){return o||(o=wa),180*Math.atan2(r[o[1]]-u[o[1]],r[o[0]]-u[o[0]])/Math.PI}function yv(u,r){return u===r?1:Ql(u)>=Ql(r)?u<0?2:4:r<0?8:16}function _m(u,r,o){return{x:r/u||0,y:o/u||0}}function cg(u,r,o){var s=o.pointers.length,l=o.changedPointers.length,d=1&r&&s-l==0,f=12&r&&s-l==0;o.isFirst=!!d,o.isFinal=!!f,d&&(u.session={}),o.eventType=r,function(u,r){var o=u.session,s=r.pointers,l=s.length;o.firstInput||(o.firstInput=vv(r)),l>1&&!o.firstMultiple?o.firstMultiple=vv(r):1===l&&(o.firstMultiple=!1);var K,oe,Z,ee,ae,ve,d=o.firstInput,f=o.firstMultiple,m=f?f.center:d.center,b=r.center=yy(s);r.timeStamp=fv(),r.deltaTime=r.timeStamp-d.timeStamp,r.angle=ug(m,b),r.distance=mv(m,b),Z=(oe=r).center,ee=(K=o).offsetDelta||{},ae=K.prevDelta||{},ve=K.prevInput||{},1!==oe.eventType&&4!==ve.eventType||(ae=K.prevDelta={x:ve.deltaX||0,y:ve.deltaY||0},ee=K.offsetDelta={x:Z.x,y:Z.y}),oe.deltaX=ae.x+(Z.x-ee.x),oe.deltaY=ae.y+(Z.y-ee.y),r.offsetDirection=yv(r.deltaX,r.deltaY);var I,A,P=_m(r.deltaTime,r.deltaX,r.deltaY);r.overallVelocityX=P.x,r.overallVelocityY=P.y,r.overallVelocity=Ql(P.x)>Ql(P.y)?P.x:P.y,r.scale=f?(I=f.pointers,mv((A=s)[0],A[1],cd)/mv(I[0],I[1],cd)):1,r.rotation=f?function(K,oe){return ug(oe[1],oe[0],cd)+ug(K[1],K[0],cd)}(f.pointers,s):0,r.maxPointers=o.prevInput?r.pointers.length>o.prevInput.maxPointers?r.pointers.length:o.prevInput.maxPointers:r.pointers.length,function(K,oe){var Z,ee,ae,ve,ce=K.lastInterval||oe,Me=oe.timeStamp-ce.timeStamp;if(8!==oe.eventType&&(Me>25||void 0===ce.velocity)){var le=oe.deltaX-ce.deltaX,me=oe.deltaY-ce.deltaY,te=_m(Me,le,me);ee=te.x,ae=te.y,Z=Ql(te.x)>Ql(te.y)?te.x:te.y,ve=yv(le,me),K.lastInterval=oe}else Z=ce.velocity,ee=ce.velocityX,ae=ce.velocityY,ve=ce.direction;oe.velocity=Z,oe.velocityX=ee,oe.velocityY=ae,oe.direction=ve}(o,r);var H,U=u.element,W=r.srcEvent;ag(H=W.composedPath?W.composedPath()[0]:W.path?W.path[0]:W.target,U)&&(U=H),r.target=U}(u,o),u.emit("hammer.input",o),u.recognize(o),u.session.prevInput=o}function Hf(u){return u.trim().split(/\s+/g)}function zf(u,r,o){Ns(Hf(r),function(s){u.addEventListener(s,o,!1)})}function dg(u,r,o){Ns(Hf(r),function(s){u.removeEventListener(s,o,!1)})}function by(u){var r=u.ownerDocument||u;return r.defaultView||r.parentWindow||window}var $f=function(){function u(o,s){var l=this;this.manager=o,this.callback=s,this.element=o.element,this.target=o.options.inputTarget,this.domHandler=function(d){Fs(o.options.enable,[o])&&l.handler(d)},this.init()}var r=u.prototype;return r.handler=function(){},r.init=function(){this.evEl&&zf(this.element,this.evEl,this.domHandler),this.evTarget&&zf(this.target,this.evTarget,this.domHandler),this.evWin&&zf(by(this.element),this.evWin,this.domHandler)},r.destroy=function(){this.evEl&&dg(this.element,this.evEl,this.domHandler),this.evTarget&&dg(this.target,this.evTarget,this.domHandler),this.evWin&&dg(by(this.element),this.evWin,this.domHandler)},u}();function Th(u,r,o){if(u.indexOf&&!o)return u.indexOf(r);for(var s=0;s<u.length;){if(o&&u[s][o]==r||!o&&u[s]===r)return s;s++}return-1}var _y={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},wy={2:ld,3:"pen",4:sg,5:"kinect"},wm="pointerdown",Ey="pointermove pointerup pointercancel";nl.MSPointerEvent&&!nl.PointerEvent&&(wm="MSPointerDown",Ey="MSPointerMove MSPointerUp MSPointerCancel");var rl=function(u){function r(){var o,s=r.prototype;return s.evEl=wm,s.evWin=Ey,(o=u.apply(this,arguments)||this).store=o.manager.session.pointerEvents=[],o}return fr(r,u),r.prototype.handler=function(o){var s=this.store,l=!1,d=o.type.toLowerCase().replace("ms",""),f=_y[d],m=wy[o.pointerType]||o.pointerType,b=m===ld,I=Th(s,o.pointerId,"pointerId");1&f&&(0===o.button||b)?I<0&&(s.push(o),I=s.length-1):12&f&&(l=!0),I<0||(s[I]=o,this.callback(this.manager,f,{pointers:s,changedPointers:[o],pointerType:m,srcEvent:o}),l&&s.splice(I,1))},r}($f);function Kl(u){return Array.prototype.slice.call(u,0)}function hg(u,r,o){for(var s=[],l=[],d=0;d<u.length;){var f=r?u[d][r]:u[d];Th(l,f)<0&&s.push(u[d]),l[d]=f,d++}return o&&(s=r?s.sort(function(m,b){return m[r]>b[r]}):s.sort()),s}var fg={touchstart:1,touchmove:2,touchend:4,touchcancel:8},pg="touchstart touchmove touchend touchcancel",bv=function(u){function r(){var o;return r.prototype.evTarget=pg,(o=u.apply(this,arguments)||this).targetIds={},o}return fr(r,u),r.prototype.handler=function(o){var s=fg[o.type],l=_v.call(this,o,s);l&&this.callback(this.manager,s,{pointers:l[0],changedPointers:l[1],pointerType:ld,srcEvent:o})},r}($f);function _v(u,r){var o,s,l=Kl(u.touches),d=this.targetIds;if(3&r&&1===l.length)return d[l[0].identifier]=!0,[l,l];var f=Kl(u.changedTouches),m=[],b=this.target;if(s=l.filter(function(I){return ag(I.target,b)}),1===r)for(o=0;o<s.length;)d[s[o].identifier]=!0,o++;for(o=0;o<f.length;)d[f[o].identifier]&&m.push(f[o]),12&r&&delete d[f[o].identifier],o++;return m.length?[hg(s.concat(m),"identifier",!0),m]:void 0}var Cy={mousedown:1,mousemove:2,mouseup:4},il="mousedown",Em="mousemove mouseup",wv=function(u){function r(){var o,s=r.prototype;return s.evEl=il,s.evWin=Em,(o=u.apply(this,arguments)||this).pressed=!1,o}return fr(r,u),r.prototype.handler=function(o){var s=Cy[o.type];1&s&&0===o.button&&(this.pressed=!0),2&s&&1!==o.which&&(s=4),this.pressed&&(4&s&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[o],changedPointers:[o],pointerType:sg,srcEvent:o}))},r}($f);function Dy(u){var r=u.changedPointers[0];if(r.identifier===this.primaryTouch){var o={x:r.clientX,y:r.clientY},s=this.lastTouches;this.lastTouches.push(o),setTimeout(function(){var l=s.indexOf(o);l>-1&&s.splice(l,1)},2500)}}function Ev(u,r){1&u?(this.primaryTouch=r.changedPointers[0].identifier,Dy.call(this,r)):12&u&&Dy.call(this,r)}function Cm(u){for(var r=u.srcEvent.clientX,o=u.srcEvent.clientY,s=0;s<this.lastTouches.length;s++){var l=this.lastTouches[s],d=Math.abs(r-l.x),f=Math.abs(o-l.y);if(d<=25&&f<=25)return!0}return!1}var Cv=function(u){function r(o,s){var l;return(l=u.call(this,o,s)||this).handler=function(d,f,m){var I=m.pointerType===sg;if(!(I&&m.sourceCapabilities&&m.sourceCapabilities.firesTouchEvents)){if(m.pointerType===ld)Ev.call(rg(rg(l)),f,m);else if(I&&Cm.call(rg(rg(l)),m))return;l.callback(d,f,m)}},l.touch=new bv(l.manager,l.handler),l.mouse=new wv(l.manager,l.handler),l.primaryTouch=null,l.lastTouches=[],l}return fr(r,u),r.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}($f);function Ih(u,r,o){return!!Array.isArray(u)&&(Ns(u,o[r],o),!0)}var Uf=1;function su(u,r){var o=r.manager;return o?o.get(u):u}function gg(u){return 16&u?"cancel":8&u?"end":4&u?"move":2&u?"start":""}var Ea=function(){function u(o){void 0===o&&(o={}),this.options=_a({enable:!0},o),this.id=Uf++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var r=u.prototype;return r.set=function(o){return ad(this.options,o),this.manager&&this.manager.touchAction.update(),this},r.recognizeWith=function(o){if(Ih(o,"recognizeWith",this))return this;var s=this.simultaneous;return s[(o=su(o,this)).id]||(s[o.id]=o,o.recognizeWith(this)),this},r.dropRecognizeWith=function(o){return Ih(o,"dropRecognizeWith",this)||(o=su(o,this),delete this.simultaneous[o.id]),this},r.requireFailure=function(o){if(Ih(o,"requireFailure",this))return this;var s=this.requireFail;return-1===Th(s,o=su(o,this))&&(s.push(o),o.requireFailure(this)),this},r.dropRequireFailure=function(o){if(Ih(o,"dropRequireFailure",this))return this;o=su(o,this);var s=Th(this.requireFail,o);return s>-1&&this.requireFail.splice(s,1),this},r.hasRequireFailures=function(){return this.requireFail.length>0},r.canRecognizeWith=function(o){return!!this.simultaneous[o.id]},r.emit=function(o){var s=this,l=this.state;function d(f){s.manager.emit(f,o)}l<8&&d(s.options.event+gg(l)),d(s.options.event),o.additionalEvent&&d(o.additionalEvent),l>=8&&d(s.options.event+gg(l))},r.tryEmit=function(o){if(this.canEmit())return this.emit(o);this.state=32},r.canEmit=function(){for(var o=0;o<this.requireFail.length;){if(!(33&this.requireFail[o].state))return!1;o++}return!0},r.recognize=function(o){var s=ad({},o);if(!Fs(this.options.enable,[this,s]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(s),30&this.state&&this.tryEmit(s)},r.process=function(o){},r.getTouchAction=function(){},r.reset=function(){},u}(),dd=function(u){function r(s){var l;return void 0===s&&(s={}),(l=u.call(this,_a({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},s))||this).pTime=!1,l.pCenter=!1,l._timer=null,l._input=null,l.count=0,l}fr(r,u);var o=r.prototype;return o.getTouchAction=function(){return[ud]},o.process=function(s){var l=this,d=this.options,f=s.pointers.length===d.pointers,m=s.distance<d.threshold,b=s.deltaTime<d.time;if(this.reset(),1&s.eventType&&0===this.count)return this.failTimeout();if(m&&b&&f){if(4!==s.eventType)return this.failTimeout();var I=!this.pTime||s.timeStamp-this.pTime<d.interval,A=!this.pCenter||mv(this.pCenter,s.center)<d.posThreshold;if(this.pTime=s.timeStamp,this.pCenter=s.center,A&&I?this.count+=1:this.count=1,this._input=s,this.count%d.taps==0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){l.state=8,l.tryEmit()},d.interval),2):8}return 32},o.failTimeout=function(){var s=this;return this._timer=setTimeout(function(){s.state=32},this.options.interval),32},o.reset=function(){clearTimeout(this._timer)},o.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},r}(Ea),Rs=function(u){function r(s){return void 0===s&&(s={}),u.call(this,_a({pointers:1},s))||this}fr(r,u);var o=r.prototype;return o.attrTest=function(s){var l=this.options.pointers;return 0===l||s.pointers.length===l},o.process=function(s){var l=this.state,d=s.eventType,f=6&l,m=this.attrTest(s);return f&&(8&d||!m)?16|l:f||m?4&d?8|l:2&l?4|l:2:32},r}(Ea);function Wf(u){return 16===u?"down":8===u?"up":2===u?"left":4===u?"right":""}var hd=function(u){function r(s){var l;return void 0===s&&(s={}),(l=u.call(this,_a({event:"pan",threshold:10,pointers:1,direction:30},s))||this).pX=null,l.pY=null,l}fr(r,u);var o=r.prototype;return o.getTouchAction=function(){var s=this.options.direction,l=[];return 6&s&&l.push(ig),24&s&&l.push(Bf),l},o.directionTest=function(s){var l=this.options,d=!0,f=s.distance,m=s.direction,b=s.deltaX,I=s.deltaY;return m&l.direction||(6&l.direction?(m=0===b?1:b<0?2:4,d=b!==this.pX,f=Math.abs(s.deltaX)):(m=0===I?1:I<0?8:16,d=I!==this.pY,f=Math.abs(s.deltaY))),s.direction=m,d&&f>l.threshold&&m&l.direction},o.attrTest=function(s){return Rs.prototype.attrTest.call(this,s)&&(2&this.state||!(2&this.state)&&this.directionTest(s))},o.emit=function(s){this.pX=s.deltaX,this.pY=s.deltaY;var l=Wf(s.direction);l&&(s.additionalEvent=this.options.event+l),u.prototype.emit.call(this,s)},r}(Rs),Dv=function(u){function r(s){return void 0===s&&(s={}),u.call(this,_a({event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},s))||this}fr(r,u);var o=r.prototype;return o.getTouchAction=function(){return hd.prototype.getTouchAction.call(this)},o.attrTest=function(s){var l,d=this.options.direction;return 30&d?l=s.overallVelocity:6&d?l=s.overallVelocityX:24&d&&(l=s.overallVelocityY),u.prototype.attrTest.call(this,s)&&d&s.offsetDirection&&s.distance>this.options.threshold&&s.maxPointers===this.options.pointers&&Ql(l)>this.options.velocity&&4&s.eventType},o.emit=function(s){var l=Wf(s.offsetDirection);l&&this.manager.emit(this.options.event+l,s),this.manager.emit(this.options.event,s)},r}(Rs),vg=function(u){function r(s){return void 0===s&&(s={}),u.call(this,_a({event:"pinch",threshold:0,pointers:2},s))||this}fr(r,u);var o=r.prototype;return o.getTouchAction=function(){return[Vi]},o.attrTest=function(s){return u.prototype.attrTest.call(this,s)&&(Math.abs(s.scale-1)>this.options.threshold||2&this.state)},o.emit=function(s){1!==s.scale&&(s.additionalEvent=this.options.event+(s.scale<1?"in":"out")),u.prototype.emit.call(this,s)},r}(Rs),mg=function(u){function r(s){return void 0===s&&(s={}),u.call(this,_a({event:"rotate",threshold:0,pointers:2},s))||this}fr(r,u);var o=r.prototype;return o.getTouchAction=function(){return[Vi]},o.attrTest=function(s){return u.prototype.attrTest.call(this,s)&&(Math.abs(s.rotation)>this.options.threshold||2&this.state)},r}(Rs),xv=function(u){function r(s){var l;return void 0===s&&(s={}),(l=u.call(this,_a({event:"press",pointers:1,time:251,threshold:9},s))||this)._timer=null,l._input=null,l}fr(r,u);var o=r.prototype;return o.getTouchAction=function(){return["auto"]},o.process=function(s){var l=this,d=this.options,f=s.pointers.length===d.pointers,m=s.distance<d.threshold,b=s.deltaTime>d.time;if(this._input=s,!m||!f||12&s.eventType&&!b)this.reset();else if(1&s.eventType)this.reset(),this._timer=setTimeout(function(){l.state=8,l.tryEmit()},d.time);else if(4&s.eventType)return 8;return 32},o.reset=function(){clearTimeout(this._timer)},o.emit=function(s){8===this.state&&(s&&4&s.eventType?this.manager.emit(this.options.event+"up",s):(this._input.timeStamp=fv(),this.manager.emit(this.options.event,this._input)))},r}(Ea),Dr={domEvents:!1,touchAction:pv,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},yg=[[mg,{enable:!1}],[vg,{enable:!1},["rotate"]],[Dv,{direction:6}],[hd,{direction:6},["swipe"]],[dd],[dd,{event:"doubletap",taps:2},["tap"]],[xv]];function Tv(u,r){var o,s=u.element;s.style&&(Ns(u.options.cssProps,function(l,d){o=Vf(s.style,d),r?(u.oldCssProps[o]=s.style[o],s.style[o]=l):s.style[o]=u.oldCssProps[o]||""}),r||(u.oldCssProps={}))}var xy=function(){function u(o,s){var d=this;this.options=ad({},Dr,s||{}),this.options.inputTarget=this.options.inputTarget||o,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=o,this.input=new(this.options.inputClass||(og?rl:ym?bv:ou?Cv:wv))(this,cg),this.touchAction=new bm(this,this.options.touchAction),Tv(this,!0),Ns(this.options.recognizers,function(f){var m=d.add(new f[0](f[1]));f[2]&&m.recognizeWith(f[2]),f[3]&&m.requireFailure(f[3])},this)}var r=u.prototype;return r.set=function(o){return ad(this.options,o),o.touchAction&&this.touchAction.update(),o.inputTarget&&(this.input.destroy(),this.input.target=o.inputTarget,this.input.init()),this},r.stop=function(o){this.session.stopped=o?2:1},r.recognize=function(o){var s=this.session;if(!s.stopped){var l;this.touchAction.preventDefaults(o);var d=this.recognizers,f=s.curRecognizer;(!f||f&&8&f.state)&&(s.curRecognizer=null,f=null);for(var m=0;m<d.length;)l=d[m],2===s.stopped||f&&l!==f&&!l.canRecognizeWith(f)?l.reset():l.recognize(o),!f&&14&l.state&&(s.curRecognizer=l,f=l),m++}},r.get=function(o){if(o instanceof Ea)return o;for(var s=this.recognizers,l=0;l<s.length;l++)if(s[l].options.event===o)return s[l];return null},r.add=function(o){if(Ih(o,"add",this))return this;var s=this.get(o.options.event);return s&&this.remove(s),this.recognizers.push(o),o.manager=this,this.touchAction.update(),o},r.remove=function(o){if(Ih(o,"remove",this))return this;var s=this.get(o);if(o){var l=this.recognizers,d=Th(l,s);-1!==d&&(l.splice(d,1),this.touchAction.update())}return this},r.on=function(o,s){if(void 0===o||void 0===s)return this;var l=this.handlers;return Ns(Hf(o),function(d){l[d]=l[d]||[],l[d].push(s)}),this},r.off=function(o,s){if(void 0===o)return this;var l=this.handlers;return Ns(Hf(o),function(d){s?l[d]&&l[d].splice(Th(l[d],s),1):delete l[d]}),this},r.emit=function(o,s){var f,m,b;this.options.domEvents&&(f=o,m=s,(b=document.createEvent("Event")).initEvent(f,!0,!0),b.gesture=m,m.target.dispatchEvent(b));var l=this.handlers[o]&&this.handlers[o].slice();if(l&&l.length){s.type=o,s.preventDefault=function(){s.srcEvent.preventDefault()};for(var d=0;d<l.length;)l[d](s),d++}},r.destroy=function(){this.element&&Tv(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},u}(),bg={touchstart:1,touchmove:2,touchend:4,touchcancel:8},Iv="touchstart",Dm="touchstart touchmove touchend touchcancel",Ty=function(u){function r(){var o,s=r.prototype;return s.evTarget=Iv,s.evWin=Dm,(o=u.apply(this,arguments)||this).started=!1,o}return fr(r,u),r.prototype.handler=function(o){var s=bg[o.type];if(1===s&&(this.started=!0),this.started){var l=Iy.call(this,o,s);12&s&&l[0].length-l[1].length==0&&(this.started=!1),this.callback(this.manager,s,{pointers:l[0],changedPointers:l[1],pointerType:ld,srcEvent:o})}},r}($f);function Iy(u,r){var o=Kl(u.touches),s=Kl(u.changedTouches);return 12&r&&(o=hg(o.concat(s),"identifier",!0)),[o,s]}function xm(u,r,o){var s="DEPRECATED METHOD: "+r+"\n"+o+" AT \n";return function(){var l=new Error("get-stack-trace"),d=l&&l.stack?l.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",f=window.console&&(window.console.warn||window.console.log);return f&&f.call(window.console,s,d),u.apply(this,arguments)}}var yi=xm(function(u,r,o){for(var s=Object.keys(r),l=0;l<s.length;)(!o||o&&void 0===u[s[l]])&&(u[s[l]]=r[s[l]]),l++;return u},"extend","Use `assign`."),au=xm(function(u,r){return yi(u,r,!0)},"merge","Use `assign`.");function ky(u,r,o){var s,l=r.prototype;(s=u.prototype=Object.create(l)).constructor=u,s._super=l,o&&ad(s,o)}function Tm(u,r){return function(){return u.apply(r,arguments)}}var Im=function(){var u=function(r,o){return void 0===o&&(o={}),new xy(r,_a({recognizers:yg.concat()},o))};return u.VERSION="2.0.17-rc",u.DIRECTION_ALL=30,u.DIRECTION_DOWN=16,u.DIRECTION_LEFT=2,u.DIRECTION_RIGHT=4,u.DIRECTION_UP=8,u.DIRECTION_HORIZONTAL=6,u.DIRECTION_VERTICAL=24,u.DIRECTION_NONE=1,u.DIRECTION_DOWN=16,u.INPUT_START=1,u.INPUT_MOVE=2,u.INPUT_END=4,u.INPUT_CANCEL=8,u.STATE_POSSIBLE=1,u.STATE_BEGAN=2,u.STATE_CHANGED=4,u.STATE_ENDED=8,u.STATE_RECOGNIZED=8,u.STATE_CANCELLED=16,u.STATE_FAILED=32,u.Manager=xy,u.Input=$f,u.TouchAction=bm,u.TouchInput=bv,u.MouseInput=wv,u.PointerEventInput=rl,u.TouchMouseInput=Cv,u.SingleTouchInput=Ty,u.Recognizer=Ea,u.AttrRecognizer=Rs,u.Tap=dd,u.Pan=hd,u.Swipe=Dv,u.Pinch=vg,u.Rotate=mg,u.Press=xv,u.on=zf,u.off=dg,u.each=Ns,u.merge=au,u.extend=yi,u.bindFn=Tm,u.assign=ad,u.inherit=ky,u.bindFn=Tm,u.prefixed=Vf,u.toArray=Kl,u.inArray=Th,u.uniqueArray=hg,u.splitStr=Hf,u.boolOrFn=Fs,u.hasParent=ag,u.addEventListeners=zf,u.removeEventListeners=dg,u.defaults=ad({},Dr,{preset:yg}),u}();function _g(u,r){var o=void 0!==No&&Zo(u)||u["@@iterator"];if(!o){if(Rt(u)||(o=function(b,I){var A;if(b){if("string"==typeof b)return km(b,I);var P=qt(A=Object.prototype.toString.call(b)).call(A,8,-1);if("Object"===P&&b.constructor&&(P=b.constructor.name),"Map"===P||"Set"===P)return ju(b);if("Arguments"===P||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P))return km(b,I)}}(u))||r&&u&&"number"==typeof u.length){o&&(u=o);var s=0,l=function(){};return{s:l,n:function(){return s>=u.length?{done:!0}:{done:!1,value:u[s++]}},e:function(b){throw b},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var d,f=!0,m=!1;return{s:function(){o=o.call(u)},n:function(){var b=o.next();return f=b.done,b},e:function(b){m=!0,d=b},f:function(){try{f||null==o.return||o.return()}finally{if(m)throw d}}}}function km(u,r){(null==r||r>u.length)&&(r=u.length);for(var o=0,s=new Array(r);o<r;o++)s[o]=u[o];return s}function kh(){for(var u=arguments.length,r=new Array(u),o=0;o<u;o++)r[o]=arguments[o];return kv(r.length?r:[lo()])}function kv(u){var r=Nn(function(){for(var m=Sv(),b=m(" "),I=m(" "),A=m(" "),P=0;P<arguments.length;P++)(b-=m(P<0||arguments.length<=P?void 0:arguments[P]))<0&&(b+=1),(I-=m(P<0||arguments.length<=P?void 0:arguments[P]))<0&&(I+=1),(A-=m(P<0||arguments.length<=P?void 0:arguments[P]))<0&&(A+=1);return[b,I,A]}(u),3),o=r[0],s=r[1],l=r[2],d=1,f=function(){var m=2091639*o+2.3283064365386963e-10*d;return o=s,s=l,l=m-(d=0|m)};return f.uint32=function(){return 4294967296*f()},f.fract53=function(){return f()+11102230246251565e-32*(2097152*f()|0)},f.algorithm="Alea",f.seed=u,f.version="0.9",f}function Sv(){var u=4022871197;return function(r){for(var o=r.toString(),s=0;s<o.length;s++){var l=.02519603282416938*(u+=o.charCodeAt(s));l-=u=l>>>0,u=(l*=u)>>>0,u+=4294967296*(l-=u)}return 2.3283064365386963e-10*(u>>>0)}}No("DELETE");var Ov="undefined"!=typeof window?window.Hammer||Im:function(){return{on:u=function(){},off:u,destroy:u,emit:u,get:function(){return{set:u}}};var u};function uu(u){var r,o=this;this._cleanupQueue=[],this.active=!1,this._dom={container:u,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){o._dom.overlay.parentNode.removeChild(o._dom.overlay)});var s=Ov(this._dom.overlay);s.on("tap",he(r=this._onTapOverlay).call(r,this)),this._cleanupQueue.push(function(){s.destroy()});var l=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];en(l).call(l,function(d){s.on(d,function(f){f.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(d){(function(f,m){for(;f;){if(f===m)return!0;f=f.parentNode}return!1})(d.target,u)||o.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",o._onClick)})),this._escListener=function(d){("key"in d?"Escape"===d.key:27===d.keyCode)&&o.deactivate()}}Ha(uu.prototype),uu.current=null,uu.prototype.destroy=function(){var u,r;this.deactivate();var o,s=_g(Dn(u=As(r=this._cleanupQueue).call(r,0)).call(u));try{for(s.s();!(o=s.n()).done;)(0,o.value)()}catch(l){s.e(l)}finally{s.f()}},uu.prototype.activate=function(){uu.current&&uu.current.deactivate(),uu.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},uu.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},uu.prototype._onTapOverlay=function(u){this.activate(),u.srcEvent.stopPropagation()};var Sy=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Mv=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Oy=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,Sm=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function sl(u){if(u)for(;!0===u.hasChildNodes();){var r=u.firstChild;r&&(sl(r),u.removeChild(r))}}function Xl(u){return u instanceof String||"string"==typeof u}function Av(u){return"object"===Xt(u)&&null!==u}function Zl(u,r,o,s){var l=!1;!0===s&&(l=null===r[o]&&void 0!==u[o]),l?delete u[o]:u[o]=r[o]}function Pv(u,r){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var s in u)if(void 0!==r[s])if(null===r[s]||"object"!==Xt(r[s]))Zl(u,r,s,o);else{var l=u[s],d=r[s];Av(l)&&Av(d)&&Pv(l,d,o)}}function po(u,r,o){var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Rt(o))throw new TypeError("Arrays are not supported by deepExtend");for(var l=0;l<u.length;l++){var d=u[l];if(Object.prototype.hasOwnProperty.call(o,d))if(o[d]&&o[d].constructor===Object)void 0===r[d]&&(r[d]={}),r[d].constructor===Object?y(r[d],o[d],!1,s):Zl(r,o,d,s);else{if(Rt(o[d]))throw new TypeError("Arrays are not supported by deepExtend");Zl(r,o,d,s)}}return r}function p(u,r,o){var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Rt(o))throw new TypeError("Arrays are not supported by deepExtend");for(var l in o)if(Object.prototype.hasOwnProperty.call(o,l)&&!re(u).call(u,l))if(o[l]&&o[l].constructor===Object)void 0===r[l]&&(r[l]={}),r[l].constructor===Object?y(r[l],o[l]):Zl(r,o,l,s);else if(Rt(o[l])){r[l]=[];for(var d=0;d<o[l].length;d++)r[l].push(o[l][d])}else Zl(r,o,l,s);return r}function y(u,r){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var l in r)if(Object.prototype.hasOwnProperty.call(r,l)||!0===o)if("object"===Xt(r[l])&&null!==r[l]&&Ae(r[l])===Object.prototype)void 0===u[l]?u[l]=y({},r[l],o):"object"===Xt(u[l])&&null!==u[l]&&Ae(u[l])===Object.prototype?y(u[l],r[l],o):Zl(u,r,l,s);else if(Rt(r[l])){var d;u[l]=qt(d=r[l]).call(d)}else Zl(u,r,l,s);return u}function D(u,r){var o;return kf(o=[]).call(o,Cr(u),[r])}function x(u){return qt(u).call(u)}function T(u){return u.getBoundingClientRect().top}function O(u,r){if(Rt(u))for(var o=u.length,s=0;s<o;s++)r(u[s],s,u);else for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&r(u[l],l,u)}function F(u){var r;switch(u.length){case 3:case 4:return(r=Mv.exec(u))?{r:Fn(r[1]+r[1],16),g:Fn(r[2]+r[2],16),b:Fn(r[3]+r[3],16)}:null;case 6:case 7:return(r=Sy.exec(u))?{r:Fn(r[1],16),g:Fn(r[2],16),b:Fn(r[3],16)}:null;default:return null}}function B(u,r){if(re(u).call(u,"rgba"))return u;if(re(u).call(u,"rgb")){var o=u.substr(Qt(u).call(u,"(")+1).replace(")","").split(",");return"rgba("+o[0]+","+o[1]+","+o[2]+","+r+")"}var s=F(u);return null==s?u:"rgba("+s.r+","+s.g+","+s.b+","+r+")"}function L(u,r,o){var s;return"#"+qt(s=((1<<24)+(u<<16)+(r<<8)+o).toString(16)).call(s,1)}function q(u,r){if(Xl(u)){var o=u;if(nt(o)){var s,l=Os(s=o.substr(4).substr(0,o.length-5).split(",")).call(s,function(A){return Fn(A)});o=L(l[0],l[1],l[2])}if(!0===xe(o)){var d=function(A){var P=F(A);if(!P)throw new TypeError("'".concat(A,"' is not a valid color."));return Q(P.r,P.g,P.b)}(o),f={h:d.h,s:.8*d.s,v:Math.min(1,1.02*d.v)},m={h:d.h,s:Math.min(1,1.25*d.s),v:.8*d.v},b=ie(m.h,m.s,m.v),I=ie(f.h,f.s,f.v);return{background:o,border:b,highlight:{background:I,border:b},hover:{background:I,border:b}}}return{background:o,border:o,highlight:{background:o,border:o},hover:{background:o,border:o}}}return r?{background:u.background||r.background,border:u.border||r.border,highlight:Xl(u.highlight)?{border:u.highlight,background:u.highlight}:{background:u.highlight&&u.highlight.background||r.highlight.background,border:u.highlight&&u.highlight.border||r.highlight.border},hover:Xl(u.hover)?{border:u.hover,background:u.hover}:{border:u.hover&&u.hover.border||r.hover.border,background:u.hover&&u.hover.background||r.hover.background}}:{background:u.background||void 0,border:u.border||void 0,highlight:Xl(u.highlight)?{border:u.highlight,background:u.highlight}:{background:u.highlight&&u.highlight.background||void 0,border:u.highlight&&u.highlight.border||void 0},hover:Xl(u.hover)?{border:u.hover,background:u.hover}:{border:u.hover&&u.hover.border||void 0,background:u.hover&&u.hover.background||void 0}}}function Q(u,r,o){u/=255,r/=255,o/=255;var s=Math.min(u,Math.min(r,o)),l=Math.max(u,Math.max(r,o));return s===l?{h:0,s:0,v:s}:{h:60*((u===s?3:o===s?1:5)-(u===s?r-o:o===s?u-r:o-u)/(l-s))/360,s:(l-s)/l,v:l}}function J(u,r,o){var s,l,d,f=Math.floor(6*u),m=6*u-f,b=o*(1-r),I=o*(1-m*r),A=o*(1-(1-m)*r);switch(f%6){case 0:s=o,l=A,d=b;break;case 1:s=I,l=o,d=b;break;case 2:s=b,l=o,d=A;break;case 3:s=b,l=I,d=o;break;case 4:s=A,l=b,d=o;break;case 5:s=o,l=b,d=I}return{r:Math.floor(255*s),g:Math.floor(255*l),b:Math.floor(255*d)}}function ie(u,r,o){var s=J(u,r,o);return L(s.r,s.g,s.b)}function xe(u){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(u)}function nt(u){return Oy.test(u)}function lt(u){return Sm.test(u)}function _t(u){if(null===u||"object"!==Xt(u))return null;if(u instanceof Element)return u;var r=tl(u);for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&"object"==Xt(u[o])&&(r[o]=_t(u[o]));return r}function je(u,r,o){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=function(U){return null!=U},d=function(U){return null!==U&&"object"===Xt(U)},f=function(U){for(var W in U)if(Object.prototype.hasOwnProperty.call(U,W))return!1;return!0};if(!d(u))throw new Error("Parameter mergeTarget must be an object");if(!d(r))throw new Error("Parameter options must be an object");if(!l(o))throw new Error("Parameter option must have a value");if(!d(s))throw new Error("Parameter globalOptions must be an object");var m=function(U,W,K){d(U[K])||(U[K]={});var oe=W[K],Z=U[K];for(var ee in oe)Object.prototype.hasOwnProperty.call(oe,ee)&&(Z[ee]=oe[ee])},b=r[o],A=d(s)&&!f(s)?s[o]:void 0,P=A?A.enabled:void 0;if(void 0!==b){if("boolean"==typeof b)return d(u[o])||(u[o]={}),void(u[o].enabled=b);if(null===b&&!d(u[o])){if(!l(A))return;u[o]=tl(A)}if(d(b)){var H=!0;void 0!==b.enabled?H=b.enabled:void 0!==P&&(H=A.enabled),m(u,r,o),u[o].enabled=H}}}var bn={linear:function(u){return u},easeInQuad:function(u){return u*u},easeOutQuad:function(u){return u*(2-u)},easeInOutQuad:function(u){return u<.5?2*u*u:(4-2*u)*u-1},easeInCubic:function(u){return u*u*u},easeOutCubic:function(u){return--u*u*u+1},easeInOutCubic:function(u){return u<.5?4*u*u*u:(u-1)*(2*u-2)*(2*u-2)+1},easeInQuart:function(u){return u*u*u*u},easeOutQuart:function(u){return 1- --u*u*u*u},easeInOutQuart:function(u){return u<.5?8*u*u*u*u:1-8*--u*u*u*u},easeInQuint:function(u){return u*u*u*u*u},easeOutQuint:function(u){return 1+--u*u*u*u*u},easeInOutQuint:function(u){return u<.5?16*u*u*u*u*u:1+16*--u*u*u*u*u}};function On(u,r){var o;Rt(r)||(r=[r]);var s,l=_g(u);try{for(l.s();!(s=l.n()).done;){var d=s.value;if(d){o=d[r[0]];for(var f=1;f<r.length;f++)o&&(o=o[r[f]]);if(void 0!==o)break}}}catch(m){l.e(m)}finally{l.f()}return o}var tr={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},bi=function(){function u(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;ke(this,u),this.pixelRatio=r,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return Te(u,[{key:"insertTo",value:function(r){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=r,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(r){if("function"!=typeof r)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=r}},{key:"setCloseCallback",value:function(r){if("function"!=typeof r)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=r}},{key:"_isColorString",value:function(r){if("string"==typeof r)return tr[r]}},{key:"setColor",value:function(r){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("none"!==r){var s,l=this._isColorString(r);if(void 0!==l&&(r=l),!0===Xl(r)){if(!0===nt(r)){var d=r.substr(4).substr(0,r.length-5).split(",");s={r:d[0],g:d[1],b:d[2],a:1}}else if(!0===lt(r)){var f=r.substr(5).substr(0,r.length-6).split(",");s={r:f[0],g:f[1],b:f[2],a:f[3]}}else if(!0===xe(r)){var m=F(r);s={r:m.r,g:m.g,b:m.b,a:1}}}else r instanceof Object&&void 0!==r.r&&void 0!==r.g&&void 0!==r.b&&(s={r:r.r,g:r.g,b:r.b,a:void 0!==r.a?r.a:"1.0"});if(void 0===s)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+Vo(r));this._setColor(s,o)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var r=this;!0===(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(this.previousColor=jn({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",is(function(){void 0!==r.closeCallback&&(r.closeCallback(),r.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(r){!0===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this.initialColor=jn({},r)),this.color=r;var s=Q(r.r,r.g,r.b),l=2*Math.PI,d=this.r*s.s,f=this.centerCoordinates.x+d*Math.sin(l*s.h),m=this.centerCoordinates.y+d*Math.cos(l*s.h);this.colorPickerSelector.style.left=f-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=m-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(r)}},{key:"_setOpacity",value:function(r){this.color.a=r/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(r){var o=Q(this.color.r,this.color.g,this.color.b);o.v=r/100;var s=J(o.h,o.s,o.v);s.a=this.color.a,this.color=s,this._updatePicker()}},{key:"_updatePicker",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.color,o=Q(r.r,r.g,r.b),s=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(s.webkitBackingStorePixelRatio||s.mozBackingStorePixelRatio||s.msBackingStorePixelRatio||s.oBackingStorePixelRatio||s.backingStorePixelRatio||1)),s.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),s.clearRect(0,0,this.colorPickerCanvas.clientWidth,this.colorPickerCanvas.clientHeight),s.putImageData(this.hueCircle,0,0),s.fillStyle="rgba(0,0,0,"+(1-o.v)+")",s.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),Lf(s).call(s),this.brightnessRange.value=100*o.v,this.opacityRange.value=100*r.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){var r,o,s,l;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var d=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(d.webkitBackingStorePixelRatio||d.mozBackingStorePixelRatio||d.msBackingStorePixelRatio||d.oBackingStorePixelRatio||d.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var f=document.createElement("DIV");f.style.color="red",f.style.fontWeight="bold",f.style.padding="10px",f.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(f)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(b){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(b){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var m=this;this.opacityRange.onchange=function(){m._setOpacity(this.value)},this.opacityRange.oninput=function(){m._setOpacity(this.value)},this.brightnessRange.onchange=function(){m._setBrightness(this.value)},this.brightnessRange.oninput=function(){m._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=he(r=this._hide).call(r,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=he(o=this._apply).call(o,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=he(s=this._save).call(s,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=he(l=this._loadLast).call(l,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var r=this;this.drag={},this.pinch={},this.hammer=new Ov(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",function(o){o.isFirst&&r._moveSelector(o)}),this.hammer.on("tap",function(o){r._moveSelector(o)}),this.hammer.on("panstart",function(o){r._moveSelector(o)}),this.hammer.on("panmove",function(o){r._moveSelector(o)}),this.hammer.on("panend",function(o){r._moveSelector(o)})}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){var r=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1)),r.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var o,s,l,d,f=this.colorPickerCanvas.clientWidth,m=this.colorPickerCanvas.clientHeight;r.clearRect(0,0,f,m),this.centerCoordinates={x:.5*f,y:.5*m},this.r=.49*f;var b,I=2*Math.PI/360,A=1/this.r;for(l=0;l<360;l++)for(d=0;d<this.r;d++)o=this.centerCoordinates.x+d*Math.sin(I*l),s=this.centerCoordinates.y+d*Math.cos(I*l),b=J(.002777777777777778*l,d*A,1),r.fillStyle="rgb("+b.r+","+b.g+","+b.b+")",r.fillRect(o-.5,s-.5,2,2);r.strokeStyle="rgba(0,0,0,1)",r.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),r.stroke(),this.hueCircle=r.getImageData(0,0,f,m)}this.generated=!0}},{key:"_moveSelector",value:function(r){var o=this.colorPickerDiv.getBoundingClientRect(),d=.5*this.colorPickerDiv.clientHeight,f=.5*this.colorPickerDiv.clientWidth,m=r.center.x-o.left-f,b=r.center.y-o.top-d,I=Math.atan2(m,b),A=.98*Math.min(Math.sqrt(m*m+b*b),f),P=Math.cos(I)*A+d,H=Math.sin(I)*A+f;this.colorPickerSelector.style.top=P-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=H-.5*this.colorPickerSelector.clientWidth+"px";var U=I/(2*Math.PI);U=U<0?U+1:U;var W=A/this.r,K=Q(this.color.r,this.color.g,this.color.b);K.h=U,K.s=W;var oe=J(K.h,K.s,K.v);oe.a=this.color.a,this.color=oe,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),u}();function Qr(){for(var u=arguments.length,r=new Array(u),o=0;o<u;o++)r[o]=arguments[o];if(r.length<1)throw new TypeError("Invalid arguments.");if(1===r.length)return document.createTextNode(r[0]);var s=document.createElement(r[0]);return s.appendChild(Qr.apply(void 0,Cr(qt(r).call(r,1)))),s}var os,xr=!1,Ca="background: #FFeeee; color: #dd0000",lu=uu,go=function(){function u(r,o,s){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return!1};ke(this,u),this.parent=r,this.changedOptions=[],this.container=o,this.allowCreation=!1,this.hideOption=d,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},jn(this.options,this.defaultOptions),this.configureOptions=s,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new bi(l),this.wrapper=void 0}return Te(u,[{key:"setOptions",value:function(r){if(void 0!==r){this.popupHistory={},this._removePopup();var o=!0;if("string"==typeof r)this.options.filter=r;else if(Rt(r))this.options.filter=r.join();else if("object"===Xt(r)){if(null==r)throw new TypeError("options cannot be null");void 0!==r.container&&(this.options.container=r.container),void 0!==it(r)&&(this.options.filter=it(r)),void 0!==r.showButton&&(this.options.showButton=r.showButton),void 0!==r.enabled&&(o=r.enabled)}else"boolean"==typeof r?(this.options.filter=!0,o=r):"function"==typeof r&&(this.options.filter=r,o=!0);!1===it(this.options)&&(o=!1),this.options.enabled=o}this._clean()}},{key:"setModuleOptions",value:function(r){this.moduleOptions=r,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){this._clean(),this.changedOptions=[];var r=it(this.options),o=0,s=!1;for(var l in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,l)&&(this.allowCreation=!1,s=!1,"function"==typeof r?s=(s=r(l,[]))||this._handleObject(this.configureOptions[l],[l],!0):!0!==r&&-1===Qt(r).call(r,l)||(s=!0),!1!==s&&(this.allowCreation=!0,o>0&&this._makeItem([]),this._makeHeader(l),this._handleObject(this.configureOptions[l],[l])),o++);this._makeButton(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var r=0;r<this.domElements.length;r++)this.wrapper.appendChild(this.domElements[r]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var r=0;r<this.domElements.length;r++)this.wrapper.removeChild(this.domElements[r]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(r){for(var o=this.moduleOptions,s=0;s<r.length;s++){if(void 0===o[r[s]]){o=void 0;break}o=o[r[s]]}return o}},{key:"_makeItem",value:function(r){if(!0===this.allowCreation){var o=document.createElement("div");o.className="vis-configuration vis-config-item vis-config-s"+r.length;for(var s=arguments.length,l=new Array(s>1?s-1:0),d=1;d<s;d++)l[d-1]=arguments[d];return en(l).call(l,function(f){o.appendChild(f)}),this.domElements.push(o),this.domElements.length}return 0}},{key:"_makeHeader",value:function(r){var o=document.createElement("div");o.className="vis-configuration vis-config-header",o.innerText=r,this._makeItem([],o)}},{key:"_makeLabel",value:function(r,o){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=document.createElement("div");if(l.className="vis-configuration vis-config-label vis-config-s"+o.length,!0===s){for(;l.firstChild;)l.removeChild(l.firstChild);l.appendChild(Qr("i","b",r))}else l.innerText=r+":";return l}},{key:"_makeDropdown",value:function(r,o,s){var l=document.createElement("select");l.className="vis-configuration vis-config-select";var d=0;void 0!==o&&-1!==Qt(r).call(r,o)&&(d=Qt(r).call(r,o));for(var f=0;f<r.length;f++){var m=document.createElement("option");m.value=r[f],f===d&&(m.selected="selected"),m.innerText=r[f],l.appendChild(m)}var b=this;l.onchange=function(){b._update(this.value,s)};var I=this._makeLabel(s[s.length-1],s);this._makeItem(s,I,l)}},{key:"_makeRange",value:function(r,o,s){var l=r[0],d=r[1],f=r[2],m=r[3],b=document.createElement("input");b.className="vis-configuration vis-config-range";try{b.type="range",b.min=d,b.max=f}catch(oe){}b.step=m;var I="",A=0;if(void 0!==o){var P=1.2;o<0&&o*P<d?(b.min=Math.ceil(o*P),A=b.min,I="range increased"):o/P<d&&(b.min=Math.ceil(o/P),A=b.min,I="range increased"),o*P>f&&1!==f&&(b.max=Math.ceil(o*P),A=b.max,I="range increased"),b.value=o}else b.value=l;var H=document.createElement("input");H.className="vis-configuration vis-config-rangeinput",H.value=b.value;var U=this;b.onchange=function(){H.value=this.value,U._update(Number(this.value),s)},b.oninput=function(){H.value=this.value};var W=this._makeLabel(s[s.length-1],s),K=this._makeItem(s,W,b,H);""!==I&&this.popupHistory[K]!==A&&(this.popupHistory[K]=A,this._setupPopup(I,K))}},{key:"_makeButton",value:function(){var r=this;if(!0===this.options.showButton){var o=document.createElement("div");o.className="vis-configuration vis-config-button",o.innerText="generate options",o.onclick=function(){r._printOptions()},o.onmouseover=function(){o.className="vis-configuration vis-config-button hover"},o.onmouseout=function(){o.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(o)}}},{key:"_setupPopup",value:function(r,o){var s=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var l=document.createElement("div");l.id="vis-configuration-popup",l.className="vis-configuration-popup",l.innerText=r,l.onclick=function(){s._removePopup()},this.popupCounter+=1,this.popupDiv={html:l,index:o}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var r=this;if(void 0!==this.popupDiv.html){var o=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=o.left+"px",this.popupDiv.html.style.top=o.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=is(function(){r.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=is(function(){r._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(r,o,s){var l=document.createElement("input");l.type="checkbox",l.className="vis-configuration vis-config-checkbox",l.checked=r,void 0!==o&&(l.checked=o,o!==r&&("object"===Xt(r)?o!==r.enabled&&this.changedOptions.push({path:s,value:o}):this.changedOptions.push({path:s,value:o})));var d=this;l.onchange=function(){d._update(this.checked,s)};var f=this._makeLabel(s[s.length-1],s);this._makeItem(s,f,l)}},{key:"_makeTextInput",value:function(r,o,s){var l=document.createElement("input");l.type="text",l.className="vis-configuration vis-config-text",l.value=o,o!==r&&this.changedOptions.push({path:s,value:o});var d=this;l.onchange=function(){d._update(this.value,s)};var f=this._makeLabel(s[s.length-1],s);this._makeItem(s,f,l)}},{key:"_makeColorField",value:function(r,o,s){var l=this,d=r[1],f=document.createElement("div");"none"!==(o=void 0===o?d:o)?(f.className="vis-configuration vis-config-colorBlock",f.style.backgroundColor=o):f.className="vis-configuration vis-config-colorBlock none",o=void 0===o?d:o,f.onclick=function(){l._showColorPicker(o,f,s)};var m=this._makeLabel(s[s.length-1],s);this._makeItem(s,m,f)}},{key:"_showColorPicker",value:function(r,o,s){var l=this;o.onclick=function(){},this.colorPicker.insertTo(o),this.colorPicker.show(),this.colorPicker.setColor(r),this.colorPicker.setUpdateCallback(function(d){var f="rgba("+d.r+","+d.g+","+d.b+","+d.a+")";o.style.backgroundColor=f,l._update(f,s)}),this.colorPicker.setCloseCallback(function(){o.onclick=function(){l._showColorPicker(r,o,s)}})}},{key:"_handleObject",value:function(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=!1,d=it(this.options),f=!1;for(var m in r)if(Object.prototype.hasOwnProperty.call(r,m)){l=!0;var b=r[m],I=D(o,m);if("function"==typeof d&&!1===(l=d(m,o))&&!Rt(b)&&"string"!=typeof b&&"boolean"!=typeof b&&b instanceof Object&&(this.allowCreation=!1,l=this._handleObject(b,I,!0),this.allowCreation=!1===s),!1!==l){f=!0;var A=this._getValue(I);if(Rt(b))this._handleArray(b,A,I);else if("string"==typeof b)this._makeTextInput(b,A,I);else if("boolean"==typeof b)this._makeCheckbox(b,A,I);else if(b instanceof Object){if(!this.hideOption(o,m,this.moduleOptions))if(void 0!==b.enabled){var P=D(I,"enabled"),H=this._getValue(P);if(!0===H){var U=this._makeLabel(m,I,!0);this._makeItem(I,U),f=this._handleObject(b,I)||f}else this._makeCheckbox(b,H,I)}else{var W=this._makeLabel(m,I,!0);this._makeItem(I,W),f=this._handleObject(b,I)||f}}else console.error("dont know how to handle",b,m,I)}}return f}},{key:"_handleArray",value:function(r,o,s){"string"==typeof r[0]&&"color"===r[0]?(this._makeColorField(r,o,s),r[1]!==o&&this.changedOptions.push({path:s,value:o})):"string"==typeof r[0]?(this._makeDropdown(r,o,s),r[0]!==o&&this.changedOptions.push({path:s,value:o})):"number"==typeof r[0]&&(this._makeRange(r,o,s),r[0]!==o&&this.changedOptions.push({path:s,value:Number(o)}))}},{key:"_update",value:function(r,o){var s=this._constructOptions(r,o);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",s),this.initialized=!0,this.parent.setOptions(s)}},{key:"_constructOptions",value:function(r,o){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=s;r="false"!==(r="true"===r||r)&&r;for(var d=0;d<o.length;d++)"global"!==o[d]&&(void 0===l[o[d]]&&(l[o[d]]={}),d!==o.length-1?l=l[o[d]]:l[o[d]]=r);return s}},{key:"_printOptions",value:function(){for(var r=this.getOptions();this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(Qr("pre","const options = "+Vo(r,null,2)))}},{key:"getOptions",value:function(){for(var r={},o=0;o<this.changedOptions.length;o++)this._constructOptions(this.changedOptions[o].value,this.changedOptions[o].path,r);return r}}]),u}(),ji=Ov,Nv=function(){function u(r,o){ke(this,u),this.container=r,this.overflowMethod=o||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return Te(u,[{key:"setPosition",value:function(r,o){this.x=Fn(r),this.y=Fn(o)}},{key:"setText",value:function(r){if(r instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(r)}else this.frame.innerText=r}},{key:"show",value:function(r){if(void 0===r&&(r=!0),!0===r){var o=this.frame.clientHeight,s=this.frame.clientWidth,l=this.frame.parentNode.clientHeight,d=this.frame.parentNode.clientWidth,f=0,m=0;if("flip"==this.overflowMethod){var b=!1,I=!0;this.y-o<this.padding&&(I=!1),this.x+s>d-this.padding&&(b=!0),f=b?this.x-s:this.x,m=I?this.y-o:this.y}else(m=this.y-o)+o+this.padding>l&&(m=l-o-this.padding),m<this.padding&&(m=this.padding),(f=this.x)+s+this.padding>d&&(f=d-s-this.padding),f<this.padding&&(f=this.padding);this.frame.style.left=f+"px",this.frame.style.top=m+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),u}(),fd=Ca,Om=function(){function u(){ke(this,u)}return Te(u,null,[{key:"validate",value:function(r,o,s){xr=!1,os=o;var l=o;return void 0!==s&&(l=o[s]),u.parse(r,l,[]),xr}},{key:"parse",value:function(r,o,s){for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&u.check(l,r,o,s)}},{key:"check",value:function(r,o,s,l){if(void 0!==s[r]||void 0!==s.__any__){var d=r,f=!0;void 0===s[r]&&void 0!==s.__any__&&(d="__any__",f="object"===u.getType(o[r]));var m=s[d];f&&void 0!==m.__type__&&(m=m.__type__),u.checkFields(r,o,s,d,m,l)}else u.getSuggestion(r,s,l)}},{key:"checkFields",value:function(r,o,s,l,d,f){var m=function(A){console.error("%c"+A+u.printLocation(f,r),Ca)},b=u.getType(o[r]),I=d[b];void 0!==I?"array"===u.getType(I)&&-1===Qt(I).call(I,o[r])?(m('Invalid option detected in "'+r+'". Allowed values are:'+u.print(I)+' not "'+o[r]+'". '),xr=!0):"object"===b&&"__any__"!==l&&(f=D(f,r),u.parse(o[r],s[l],f)):void 0===d.any&&(m('Invalid type received for "'+r+'". Expected: '+u.print(sn(d))+". Received ["+b+'] "'+o[r]+'"'),xr=!0)}},{key:"getType",value:function(r){var o=Xt(r);return"object"===o?null===r?"null":r instanceof Boolean?"boolean":r instanceof Number?"number":r instanceof String?"string":Rt(r)?"array":r instanceof Date?"date":void 0!==r.nodeType?"dom":!0===r._isAMomentObject?"moment":"object":"number"===o?"number":"boolean"===o?"boolean":"string"===o?"string":void 0===o?"undefined":o}},{key:"getSuggestion",value:function(r,o,s){var l,d=u.findInOptions(r,o,s,!1),f=u.findInOptions(r,os,[],!0);l=void 0!==d.indexMatch?" in "+u.printLocation(d.path,r,"")+'Perhaps it was incomplete? Did you mean: "'+d.indexMatch+'"?\n\n':f.distance<=4&&d.distance>f.distance?" in "+u.printLocation(d.path,r,"")+"Perhaps it was misplaced? Matching option found at: "+u.printLocation(f.path,f.closestMatch,""):d.distance<=8?'. Did you mean "'+d.closestMatch+'"?'+u.printLocation(d.path,r):". Did you mean one of these: "+u.print(sn(o))+u.printLocation(s,r),console.error('%cUnknown option detected: "'+r+'"'+l,Ca),xr=!0}},{key:"findInOptions",value:function(r,o,s){var l=arguments.length>3&&void 0!==arguments[3]&&arguments[3],d=1e9,f="",m=[],b=r.toLowerCase(),I=void 0;for(var A in o){var P=void 0;if(void 0!==o[A].__type__&&!0===l){var H=u.findInOptions(r,o[A],D(s,A));d>H.distance&&(f=H.closestMatch,m=H.path,d=H.distance,I=H.indexMatch)}else{var U;-1!==Qt(U=A.toLowerCase()).call(U,b)&&(I=A),d>(P=u.levenshteinDistance(r,A))&&(f=A,m=x(s),d=P)}}return{closestMatch:f,path:m,distance:d,indexMatch:I}}},{key:"printLocation",value:function(r,o){for(var l="\n\n"+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n")+"options = {\n",d=0;d<r.length;d++){for(var f=0;f<d+1;f++)l+="  ";l+=r[d]+": {\n"}for(var m=0;m<r.length+1;m++)l+="  ";l+=o+"\n";for(var b=0;b<r.length+1;b++){for(var I=0;I<r.length-b;I++)l+="  ";l+="}\n"}return l+"\n\n"}},{key:"print",value:function(r){return Vo(r).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}},{key:"levenshteinDistance",value:function(r,o){if(0===r.length)return o.length;if(0===o.length)return r.length;var s,l,d=[];for(s=0;s<=o.length;s++)d[s]=[s];for(l=0;l<=r.length;l++)d[0][l]=l;for(s=1;s<=o.length;s++)for(l=1;l<=r.length;l++)d[s][l]=o.charAt(s-1)==r.charAt(l-1)?d[s-1][l-1]:Math.min(d[s-1][l-1]+1,Math.min(d[s][l-1]+1,d[s-1][l]+1));return d[o.length][r.length]}}]),u}();function al(u){return pr=u,function(){var r={};if(Kr=0,at=pr.charAt(0),Gn(),"strict"===ze&&(r.strict=!0,Gn()),"graph"!==ze&&"digraph"!==ze||(r.type=ze,Gn()),Bi===ot&&(r.id=ze,Gn()),"{"!=ze)throw vo("Angle bracket { expected");if(Gn(),i0(r),"}"!=ze)throw vo("Angle bracket } expected");if(Gn(),""!==ze)throw vo("End of file expected");return Gn(),delete r.node,delete r.edge,delete r.graph,r}()}var wg={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},we=tl(wg);we.color="color.color",we.style="dashes";var ot=2,Tr={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},pr="",Kr=0,at="",ze="",Bi=0;function nr(){Kr++,at=pr.charAt(Kr)}function _i(){return pr.charAt(Kr+1)}function My(u){var r=u.charCodeAt(0);return r<47?35===r||46===r:r<59?r>47:r<91?r>64:r<96?95===r:r<123&&r>96}function Sh(u,r){if(u||(u={}),r)for(var o in r)r.hasOwnProperty(o)&&(u[o]=r[o]);return u}function eE(u,r,o){for(var s=r.split("."),l=u;s.length;){var d=s.shift();s.length?(l[d]||(l[d]={}),l=l[d]):l[d]=o}}function Gf(u,r){for(var o,s,l=null,d=[u],f=u;f.parent;)d.push(f.parent),f=f.parent;if(f.nodes)for(o=0,s=f.nodes.length;o<s;o++)if(r.id===f.nodes[o].id){l=f.nodes[o];break}for(l||(l={id:r.id},u.node&&(l.attr=Sh(l.attr,u.node))),o=d.length-1;o>=0;o--){var m,b=d[o];b.nodes||(b.nodes=[]),-1===Qt(m=b.nodes).call(m,l)&&b.nodes.push(l)}r.attr&&(l.attr=Sh(l.attr,r.attr))}function tE(u,r){if(u.edges||(u.edges=[]),u.edges.push(r),u.edge){var o=Sh({},u.edge);r.attr=Sh(o,r.attr)}}function r0(u,r,o,s,l){var d={from:r,to:o,type:s};return u.edge&&(d.attr=Sh({},u.edge)),d.attr=Sh(d.attr||{},l),null!=l&&l.hasOwnProperty("arrows")&&null!=l.arrows&&(d.arrows={to:{enabled:!0,type:l.arrows.type}},l.arrows=null),d}function Gn(){for(Bi=0,ze="";" "===at||"\t"===at||"\n"===at||"\r"===at;)nr();do{var u=!1;if("#"===at){for(var r=Kr-1;" "===pr.charAt(r)||"\t"===pr.charAt(r);)r--;if("\n"===pr.charAt(r)||""===pr.charAt(r)){for(;""!=at&&"\n"!=at;)nr();u=!0}}if("/"===at&&"/"===_i()){for(;""!=at&&"\n"!=at;)nr();u=!0}if("/"===at&&"*"===_i()){for(;""!=at;){if("*"===at&&"/"===_i()){nr(),nr();break}nr()}u=!0}for(;" "===at||"\t"===at||"\n"===at||"\r"===at;)nr()}while(u);if(""!==at){var o=at+_i();if(Tr[o])return Bi=1,ze=o,nr(),void nr();if(Tr[at])return Bi=1,ze=at,void nr();if(My(at)||"-"===at){for(ze+=at,nr();My(at);)ze+=at,nr();return"false"===ze?ze=!1:"true"===ze?ze=!0:isNaN(Number(ze))||(ze=Number(ze)),void(Bi=ot)}if('"'===at){for(nr();""!=at&&('"'!=at||'"'===at&&'"'===_i());)'"'===at?(ze+=at,nr()):"\\"===at&&"n"===_i()?(ze+="\n",nr()):ze+=at,nr();if('"'!=at)throw vo('End of string " expected');return nr(),void(Bi=ot)}for(Bi=3;""!=at;)ze+=at,nr();throw new SyntaxError('Syntax error in part "'+nE(ze,30)+'"')}Bi=1}function i0(u){for(;""!==ze&&"}"!=ze;)ID(u),";"===ze&&Gn()}function ID(u){var s,r=o0(u);if(r)Ay(u,r);else if(s=u,!("node"===ze?(Gn(),s.node=Jt(),"node"):"edge"===ze?(Gn(),s.edge=Jt(),"edge"):"graph"===ze&&(Gn(),s.graph=Jt(),"graph"))){if(Bi!=ot)throw vo("Identifier expected");var o=ze;if(Gn(),"="===ze){if(Gn(),Bi!=ot)throw vo("Identifier expected");u[o]=ze,Gn()}else!function(s,l){var d={id:l},f=Jt();f&&(d.attr=f),Gf(s,d),Ay(s,l)}(u,o)}}function o0(u){var r=null;if("subgraph"===ze&&((r={}).type="subgraph",Gn(),Bi===ot&&(r.id=ze,Gn())),"{"===ze){if(Gn(),r||(r={}),r.parent=u,r.node=u.node,r.edge=u.edge,r.graph=u.graph,i0(r),"}"!=ze)throw vo("Angle bracket } expected");Gn(),delete r.node,delete r.edge,delete r.graph,delete r.parent,u.subgraphs||(u.subgraphs=[]),u.subgraphs.push(r)}return r}function Ay(u,r){for(;"->"===ze||"--"===ze;){var o,s=ze;Gn();var l=o0(u);if(l)o=l;else{if(Bi!=ot)throw vo("Identifier or subgraph expected");Gf(u,{id:o=ze}),Gn()}tE(u,r0(u,r,o,s,Jt())),r=o}}function Jt(){for(var u,r,o=null,s={dashed:!0,solid:!1,dotted:[1,5]},l={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},d=new Array,f=new Array;"["===ze;){for(Gn(),o={};""!==ze&&"]"!=ze;){if(Bi!=ot)throw vo("Attribute name expected");var m=ze;if(Gn(),"="!=ze)throw vo("Equal sign = expected");if(Gn(),Bi!=ot)throw vo("Attribute value expected");var b=ze;"style"===m&&(b=s[b]),"arrowhead"===m&&(m="arrows",b={to:{enabled:!0,type:l[b]}}),"arrowtail"===m&&(m="arrows",b={from:{enabled:!0,type:l[b]}}),d.push({attr:o,name:m,value:b}),f.push(m),Gn(),","==ze&&Gn()}if("]"!=ze)throw vo("Bracket ] expected");Gn()}if(re(f).call(f,"dir")){var I={arrows:{}};for(u=0;u<d.length;u++)if("arrows"===d[u].name)if(null!=d[u].value.to)I.arrows.to=u;else{if(null==d[u].value.from)throw vo("Invalid value of arrows");I.arrows.from=u}else"dir"===d[u].name&&(I.dir=u);var A,P,H=d[I.dir].value;if(!re(f).call(f,"arrows"))if("both"===H)d.push({attr:d[I.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),I.arrows.to=d.length-1,d.push({attr:d[I.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),I.arrows.from=d.length-1;else if("forward"===H)d.push({attr:d[I.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),I.arrows.to=d.length-1;else if("back"===H)d.push({attr:d[I.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),I.arrows.from=d.length-1;else{if("none"!==H)throw vo('Invalid dir type "'+H+'"');d.push({attr:d[I.dir].attr,name:"arrows",value:""}),I.arrows.to=d.length-1}if("both"===H)I.arrows.to&&I.arrows.from?(d[I.arrows.to]={attr:d[I.arrows.to].attr,name:d[I.arrows.to].name,value:{to:{enabled:!0,type:P=d[I.arrows.to].value.to.type},from:{enabled:!0,type:A=d[I.arrows.from].value.from.type}}},As(d).call(d,I.arrows.from,1)):I.arrows.to?d[I.arrows.to]={attr:d[I.arrows.to].attr,name:d[I.arrows.to].name,value:{to:{enabled:!0,type:P=d[I.arrows.to].value.to.type},from:{enabled:!0,type:A="arrow"}}}:I.arrows.from&&(d[I.arrows.from]={attr:d[I.arrows.from].attr,name:d[I.arrows.from].name,value:{to:{enabled:!0,type:P="arrow"},from:{enabled:!0,type:A=d[I.arrows.from].value.from.type}}});else if("back"===H)I.arrows.to&&I.arrows.from?d[I.arrows.from]={attr:d[I.arrows.from].attr,name:d[I.arrows.from].name,value:{to:{enabled:!0,type:P=""},from:{enabled:!0,type:A=d[I.arrows.from].value.from.type}}}:I.arrows.to?(P="",A="arrow",I.arrows.from=I.arrows.to,d[I.arrows.from]={attr:d[I.arrows.from].attr,name:d[I.arrows.from].name,value:{to:{enabled:!0,type:P},from:{enabled:!0,type:A}}}):I.arrows.from&&(d[I.arrows.to]={attr:d[I.arrows.from].attr,name:d[I.arrows.from].name,value:{to:{enabled:!0,type:P=""},from:{enabled:!0,type:A=d[I.arrows.from].value.from.type}}}),d[I.arrows.from]={attr:d[I.arrows.from].attr,name:d[I.arrows.from].name,value:{from:{enabled:!0,type:d[I.arrows.from].value.from.type}}};else if("none"===H){var U;d[U=I.arrows.to?I.arrows.to:I.arrows.from]={attr:d[U].attr,name:d[U].name,value:""}}else{if("forward"!==H)throw vo('Invalid dir type "'+H+'"');I.arrows.to&&I.arrows.from||I.arrows.to?d[I.arrows.to]={attr:d[I.arrows.to].attr,name:d[I.arrows.to].name,value:{to:{enabled:!0,type:P=d[I.arrows.to].value.to.type},from:{enabled:!0,type:A=""}}}:I.arrows.from&&(P="arrow",A="",I.arrows.to=I.arrows.from,d[I.arrows.to]={attr:d[I.arrows.to].attr,name:d[I.arrows.to].name,value:{to:{enabled:!0,type:P},from:{enabled:!0,type:A}}}),d[I.arrows.to]={attr:d[I.arrows.to].attr,name:d[I.arrows.to].name,value:{to:{enabled:!0,type:d[I.arrows.to].value.to.type}}}}As(d).call(d,I.dir,1)}if(re(f).call(f,"penwidth")){var W=[];for(r=d.length,u=0;u<r;u++)"width"!==d[u].name&&("penwidth"===d[u].name&&(d[u].name="width"),W.push(d[u]));d=W}for(r=d.length,u=0;u<r;u++)eE(d[u].attr,d[u].name,d[u].value);return o}function vo(u){return new SyntaxError(u+', got "'+nE(ze,30)+'" (char '+Kr+")")}function nE(u,r){return u.length<=r?u:u.substr(0,27)+"..."}function Jl(u,r,o){for(var s=r.split("."),l=s.pop(),d=u,f=0;f<s.length;f++){var m=s[f];m in d||(d[m]={}),d=d[m]}return d[l]=o,u}function Mm(u,r){var o={};for(var s in u)if(u.hasOwnProperty(s)){var l=r[s];Rt(l)?en(l).call(l,function(d){Jl(o,d,u[s])}):Jl(o,"string"==typeof l?l:s,u[s])}return o}function Fv(u){var r,o=al(u),s={nodes:[],edges:[],options:{}};if(o.nodes&&en(r=o.nodes).call(r,function(f){var m={id:f.id,label:String(f.label||f.id)};Sh(m,Mm(f.attr,wg)),m.image&&(m.shape="image"),s.nodes.push(m)}),o.edges){var l,d=function(f){var m={from:f.from,to:f.to};return Sh(m,Mm(f.attr,we)),null==m.arrows&&"->"===f.type&&(m.arrows="to"),m};en(l=o.edges).call(l,function(f){var m,b,I,A,P,H,U;m=f.from instanceof Object?f.from.nodes:{id:f.from},b=f.to instanceof Object?f.to.nodes:{id:f.to},f.from instanceof Object&&f.from.edges&&en(I=f.from.edges).call(I,function(W){var K=d(W);s.edges.push(K)}),P=b,H=function(W,K){var oe=r0(s,W.id,K.id,f.type,f.attr),Z=d(oe);s.edges.push(Z)},Rt(A=m)?en(A).call(A,function(W){Rt(P)?en(P).call(P,function(K){H(W,K)}):H(W,P)}):Rt(P)?en(P).call(P,function(W){H(A,W)}):H(A,P),f.to instanceof Object&&f.to.edges&&en(U=f.to.edges).call(U,function(W){var K=d(W);s.edges.push(K)})})}return o.attr&&(s.options=o.attr),s}var kD=Object.freeze({__proto__:null,parseDOT:al,DOTToGraph:Fv});function Py(u,r){var o,s={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};null!=r&&(null!=r.fixed&&(s.nodes.fixed=r.fixed),null!=r.parseColor&&(s.nodes.parseColor=r.parseColor),null!=r.inheritColor&&(s.edges.inheritColor=r.inheritColor));var l=u.edges,d=Os(l).call(l,function(f){var m={from:f.source,id:f.id,to:f.target};return null!=f.attributes&&(m.attributes=f.attributes),null!=f.label&&(m.label=f.label),null!=f.attributes&&null!=f.attributes.title&&(m.title=f.attributes.title),"Directed"===f.type&&(m.arrows="to"),f.color&&!1===s.edges.inheritColor&&(m.color=f.color),m});return{nodes:Os(o=u.nodes).call(o,function(f){var m={id:f.id,fixed:s.nodes.fixed&&null!=f.x&&null!=f.y};return null!=f.attributes&&(m.attributes=f.attributes),null!=f.label&&(m.label=f.label),null!=f.size&&(m.size=f.size),null!=f.attributes&&null!=f.attributes.title&&(m.title=f.attributes.title),null!=f.title&&(m.title=f.title),null!=f.x&&(m.x=f.x),null!=f.y&&(m.y=f.y),null!=f.color&&(m.color=!0===s.nodes.parseColor?f.color:{background:f.color,border:f.color,highlight:{background:f.color,border:f.color},hover:{background:f.color,border:f.color}}),m}),edges:d}}var rE=Object.freeze({__proto__:null,parseGephi:Py}),s0=Object.freeze({__proto__:null,en:{addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},de:{addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzuf\xfcgen",addNode:"Knoten hinzuf\xfcgen",back:"Zur\xfcck",close:"Schlie\xdfen",createEdgeError:"Es ist nicht m\xf6glich, Kanten mit Clustern zu verbinden.",del:"L\xf6sche Auswahl",deleteClusterError:"Cluster k\xf6nnen nicht gel\xf6scht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster k\xf6nnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},es:{addDescription:"Haga clic en un lugar vac\xedo para colocar un nuevo nodo.",addEdge:"A\xf1adir arista",addNode:"A\xf1adir nodo",back:"Atr\xe1s",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selecci\xf3n",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},it:{addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},nl:{addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},pt:{addDescription:"Clique em um espa\xe7o em branco para adicionar um novo n\xf3",addEdge:"Adicionar aresta",addNode:"Adicionar n\xf3",back:"Voltar",close:"Fechar",createEdgeError:"N\xe3o foi poss\xedvel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters n\xe3o puderam ser removidos.",edgeDescription:"Clique em um n\xf3 e arraste a aresta at\xe9 outro n\xf3 para conect\xe1-los",edit:"Editar",editClusterError:"Clusters n\xe3o puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n\xf3 para conect\xe1-los",editNode:"Editar n\xf3"},ru:{addDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u0432 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0443\u0437\u0435\u043b.",addEdge:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u043e",addNode:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0437\u0435\u043b",back:"\u041d\u0430\u0437\u0430\u0434",close:"\u0417\u0430\u043a\u0440\u044b\u0432\u0430\u0442\u044c",createEdgeError:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u0430 \u0432 \u043a\u043b\u0430\u0441\u0442\u0435\u0440.",del:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0435",deleteClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u044b",edgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u0443\u0437\u0435\u043b \u0438 \u043f\u0440\u043e\u0442\u044f\u043d\u0438\u0442\u0435 \u0440\u0435\u0431\u0440\u043e \u043a \u0434\u0440\u0443\u0433\u043e\u043c\u0443 \u0443\u0437\u043b\u0443, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0438\u0445.",edit:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",editClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f.",editEdge:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0440\u0435\u0431\u0440\u043e",editEdgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u044b\u0435 \u0442\u043e\u0447\u043a\u0438 \u0438 \u043f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0438\u0445 \u0432 \u0443\u0437\u0435\u043b, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a \u043d\u0435\u043c\u0443.",editNode:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0443\u0437\u0435\u043b"},cn:{addDescription:"\u5355\u51fb\u7a7a\u767d\u5904\u653e\u7f6e\u65b0\u8282\u70b9\u3002",addEdge:"\u6dfb\u52a0\u8fde\u63a5\u7ebf",addNode:"\u6dfb\u52a0\u8282\u70b9",back:"\u8fd4\u56de",close:"\u95dc\u9589",createEdgeError:"\u65e0\u6cd5\u5c06\u8fde\u63a5\u7ebf\u8fde\u63a5\u5230\u7fa4\u96c6\u3002",del:"\u5220\u9664\u9009\u5b9a",deleteClusterError:"\u65e0\u6cd5\u5220\u9664\u7fa4\u96c6\u3002",edgeDescription:"\u5355\u51fb\u67d0\u4e2a\u8282\u70b9\u5e76\u5c06\u8be5\u8fde\u63a5\u7ebf\u62d6\u52a8\u5230\u53e6\u4e00\u4e2a\u8282\u70b9\u4ee5\u8fde\u63a5\u5b83\u4eec\u3002",edit:"\u7f16\u8f91",editClusterError:"\u65e0\u6cd5\u7f16\u8f91\u7fa4\u96c6\u3002",editEdge:"\u7f16\u8f91\u8fde\u63a5\u7ebf",editEdgeDescription:"\u5355\u51fb\u63a7\u5236\u8282\u70b9\u5e76\u5c06\u5b83\u4eec\u62d6\u5230\u8282\u70b9\u4e0a\u8fde\u63a5\u3002",editNode:"\u7f16\u8f91\u8282\u70b9"},uk:{addDescription:"K\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u0432\u0456\u043b\u044c\u043d\u0435 \u043c\u0456\u0441\u0446\u0435, \u0449\u043e\u0431 \u0434\u043e\u0434\u0430\u0442\u0438 \u043d\u043e\u0432\u0438\u0439 \u0432\u0443\u0437\u043e\u043b.",addEdge:"\u0414\u043e\u0434\u0430\u0442\u0438 \u043a\u0440\u0430\u0439",addNode:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0432\u0443\u0437\u043e\u043b",back:"\u041d\u0430\u0437\u0430\u0434",close:"\u0417\u0430\u043a\u0440\u0438\u0442\u0438",createEdgeError:"\u041d\u0435 \u043c\u043e\u0436\u043b\u0438\u0432\u043e \u043e\u0431'\u0454\u0434\u043d\u0430\u0442\u0438 \u043a\u0440\u0430\u0457 \u0432 \u0433\u0440\u0443\u043f\u0443.",del:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u043e\u0431\u0440\u0430\u043d\u0435",deleteClusterError:"\u0413\u0440\u0443\u043f\u0438 \u043d\u0435 \u043c\u043e\u0436\u0443\u0442\u044c \u0431\u0443\u0442\u0438 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u0456.",edgeDescription:"\u041a\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u0432\u0443\u0437\u043e\u043b \u0456 \u043f\u0435\u0440\u0435\u0442\u044f\u0433\u043d\u0456\u0442\u044c \u043a\u0440\u0430\u0439 \u0434\u043e \u0456\u043d\u0448\u043e\u0433\u043e \u0432\u0443\u0437\u043b\u0430, \u0449\u043e\u0431 \u0457\u0445 \u0437'\u0454\u0434\u043d\u0430\u0442\u0438.",edit:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",editClusterError:"\u0413\u0440\u0443\u043f\u0438 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0456 \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f.",editEdge:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043a\u0440\u0430\u0439",editEdgeDescription:"\u041a\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u0456 \u0442\u043e\u0447\u043a\u0438 \u0456 \u043f\u0435\u0440\u0435\u0442\u044f\u0433\u043d\u0456\u0442\u044c \u0457\u0445 \u0443 \u0432\u0443\u0437\u043e\u043b, \u0449\u043e\u0431 \u043f\u0456\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u0438\u0441\u044f \u0434\u043e \u043d\u044c\u043e\u0433\u043e.",editNode:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0432\u0443\u0437\u043e\u043b"},fr:{addDescription:"Cliquez dans un endroit vide pour placer un n\u0153ud.",addEdge:"Ajouter un lien",addNode:"Ajouter un n\u0153ud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de cr\xe9er un lien vers un cluster.",del:"Effacer la s\xe9lection",deleteClusterError:"Les clusters ne peuvent pas \xeatre effac\xe9s.",edgeDescription:"Cliquez sur un n\u0153ud et glissez le lien vers un autre n\u0153ud pour les connecter.",edit:"\xc9diter",editClusterError:"Les clusters ne peuvent pas \xeatre \xe9dit\xe9s.",editEdge:"\xc9diter le lien",editEdgeDescription:"Cliquez sur les points de contr\xf4le et glissez-les pour connecter un n\u0153ud.",editNode:"\xc9diter le n\u0153ud"},cs:{addDescription:"Kluknut\xedm do pr\xe1zdn\xe9ho prostoru m\u016f\u017eete p\u0159idat nov\xfd vrchol.",addEdge:"P\u0159idat hranu",addNode:"P\u0159idat vrchol",back:"Zp\u011bt",close:"Zav\u0159\xedt",createEdgeError:"Nelze p\u0159ipojit hranu ke shluku.",del:"Smazat v\xfdb\u011br",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"P\u0159eta\u017een\xedm z jednoho vrcholu do druh\xe9ho m\u016f\u017eete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"P\u0159eta\u017een\xedm kontroln\xedho vrcholu hrany ji m\u016f\u017eete p\u0159ipojit k jin\xe9mu vrcholu.",editNode:"Upravit vrchol"}}),a0=function(){function u(){ke(this,u),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return Te(u,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var r=this.image.width,o=this.image.height;this.width=r,this.height=o;var s=Math.floor(o/2),l=Math.floor(o/4),d=Math.floor(o/8),f=Math.floor(o/16),m=Math.floor(r/2),b=Math.floor(r/4),I=Math.floor(r/8),A=Math.floor(r/16);this.canvas.width=3*b,this.canvas.height=s,this.coordinates=[[0,0,m,s],[m,0,b,l],[m,l,I,d],[5*I,l,A,f]],this._fillMipMap()}}},{key:"initialized",value:function(){return void 0!==this.coordinates}},{key:"_fillMipMap",value:function(){var r=this.canvas.getContext("2d"),o=this.coordinates[0];r.drawImage(this.image,o[0],o[1],o[2],o[3]);for(var s=1;s<this.NUM_ITERATIONS;s++){var l=this.coordinates[s-1],d=this.coordinates[s];r.drawImage(this.canvas,l[0],l[1],l[2],l[3],d[0],d[1],d[2],d[3])}}},{key:"drawImageAtPosition",value:function(r,o,s,l,d,f){if(this.initialized())if(o>2){o*=.5;for(var m=0;o>2&&m<this.NUM_ITERATIONS;)o*=.5,m+=1;m>=this.NUM_ITERATIONS&&(m=this.NUM_ITERATIONS-1);var b=this.coordinates[m];r.drawImage(this.canvas,b[0],b[1],b[2],b[3],s,l,d,f)}else r.drawImage(this.image,s,l,d,f)}}]),u}(),Ny=function(){function u(r){ke(this,u),this.images={},this.imageBroken={},this.callback=r}return Te(u,[{key:"_tryloadBrokenUrl",value:function(r,o,s){void 0!==r&&void 0!==s&&(void 0!==o?(s.image.onerror=function(){console.error("Could not load brokenImage:",o)},s.image.src=o):console.warn("No broken url image defined"))}},{key:"_redrawWithImage",value:function(r){this.callback&&this.callback(r)}},{key:"load",value:function(r,o){var s=this,l=this.images[r];if(l)return l;var d=new a0;return this.images[r]=d,d.image.onload=function(){s._fixImageCoordinates(d.image),d.init(),s._redrawWithImage(d)},d.image.onerror=function(){console.error("Could not load image:",r),s._tryloadBrokenUrl(r,o,d)},d.image.src=r,d}},{key:"_fixImageCoordinates",value:function(r){0===r.width&&(document.body.appendChild(r),r.width=r.offsetWidth,r.height=r.offsetHeight,document.body.removeChild(r))}}]),u}(),Eg={exports:{}},iE=!dn(function(){return Object.isExtensible(Object.preventExtensions({}))}),oE=dt,Rv=yl,Fy=Tn,Am=fn,u0=Wo.f,Ry=So,l0=Hu,sE=iE,c0=!1,pd=wo("meta"),aE=0,Pm=Object.isExtensible||function(){return!0},d0=function(u){u0(u,pd,{value:{objectID:"O"+aE++,weakData:{}}})},h0=Eg.exports={enable:function(){h0.enable=function(){},c0=!0;var u=Ry.f,r=[].splice,o={};o[pd]=1,u(o).length&&(Ry.f=function(s){for(var l=u(s),d=0,f=l.length;d<f;d++)if(l[d]===pd){r.call(l,d,1);break}return l},oE({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l0.f}))},fastKey:function(u,r){if(!Fy(u))return"symbol"==typeof u?u:("string"==typeof u?"S":"P")+u;if(!Am(u,pd)){if(!Pm(u))return"F";if(!r)return"E";d0(u)}return u[pd].objectID},getWeakData:function(u,r){if(!Am(u,pd)){if(!Pm(u))return!0;if(!r)return!1;d0(u)}return u[pd].weakData},onFreeze:function(u){return sE&&c0&&Pm(u)&&!Am(u,pd)&&d0(u),u}};Rv[pd]=!0;var uE=Pn,lE=Pc,SD=br,OD=ml,Ly=of,f0=Hd,Cg=function(u,r){this.stopped=u,this.result=r},Nm=function(u,r,o){var s,l,d,f,m,b,I,P=!(!o||!o.AS_ENTRIES),H=!(!o||!o.IS_ITERATOR),U=!(!o||!o.INTERRUPTED),W=OD(r,o&&o.that,1+P+U),K=function(Z){return s&&f0(s),new Cg(!0,Z)},oe=function(Z){return P?(uE(Z),U?W(Z[0],Z[1],K):W(Z[0],Z[1])):U?W(Z,K):W(Z)};if(H)s=u;else{if("function"!=typeof(l=Ly(u)))throw TypeError("Target is not iterable");if(lE(l)){for(d=0,f=SD(u.length);f>d;d++)if((m=oe(u[d]))&&m instanceof Cg)return m;return new Cg(!1)}s=l.call(u)}for(b=s.next;!(I=b.call(s)).done;){try{m=oe(I.value)}catch(Z){throw f0(s),Z}if("object"==typeof m&&m&&m instanceof Cg)return m}return new Cg(!1)},p0=function(u,r,o){if(!(u instanceof r))throw TypeError("Incorrect "+(o?o+" ":"")+"invocation");return u},ul=dt,MD=Re,AD=Eg.exports,PD=dn,g0=Ye,v0=Nm,m0=p0,cE=Tn,ND=st,y0=Wo.f,rr=da.forEach,dE=mr,Vy=ki.set,hE=ki.getterFor,jy=function(u,r,o){var s,l=-1!==u.indexOf("Map"),d=-1!==u.indexOf("Weak"),f=l?"set":"add",m=MD[u],b=m&&m.prototype,I={};if(dE&&"function"==typeof m&&(d||b.forEach&&!PD(function(){(new m).entries().next()}))){s=r(function(P,H){Vy(m0(P,s,u),{type:u,collection:new m}),null!=H&&v0(H,P[f],{that:P,AS_ENTRIES:l})});var A=hE(u);rr(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(P){var H="add"==P||"set"==P;!(P in b)||d&&"clear"==P||g0(s.prototype,P,function(U,W){var K=A(this).collection;if(!H&&d&&!cE(U))return"get"==P&&void 0;var oe=K[P](0===U?0:U,W);return H?this:oe})}),d||y0(s.prototype,"size",{configurable:!0,get:function(){return A(this).collection.size}})}else s=o.getConstructor(r,u,l,f),AD.enable();return ND(s,u,!1,!0),I[u]=s,ul({global:!0,forced:!0},I),d||o.setStrong(s,u,l),s},fE=ua,By=function(u,r,o){for(var s in r)o&&o.unsafe&&u[s]?u[s]=r[s]:fE(u,s,r[s],o);return u},pE=Aa,gE=Wo,Fm=mr,qf=Mt("species"),b0=Wo.f,ll=Ru,Dg=By,vE=ml,mE=p0,Hy=Nm,ec=jd,ui=mr,Oh=Eg.exports.fastKey,Vv=ki.set,Ls=ki.getterFor,tc={getConstructor:function(u,r,o,s){var l=u(function(b,I){mE(b,l,r),Vv(b,{type:r,index:ll(null),first:void 0,last:void 0,size:0}),ui||(b.size=0),null!=I&&Hy(I,b[s],{that:b,AS_ENTRIES:o})}),d=Ls(r),f=function(b,I,A){var P,H,U=d(b),W=m(b,I);return W?W.value=A:(U.last=W={index:H=Oh(I,!0),key:I,value:A,previous:P=U.last,next:void 0,removed:!1},U.first||(U.first=W),P&&(P.next=W),ui?U.size++:b.size++,"F"!==H&&(U.index[H]=W)),b},m=function(b,I){var A,P=d(b),H=Oh(I);if("F"!==H)return P.index[H];for(A=P.first;A;A=A.next)if(A.key==I)return A};return Dg(l.prototype,{clear:function(){for(var b=d(this),I=b.index,A=b.first;A;)A.removed=!0,A.previous&&(A.previous=A.previous.next=void 0),delete I[A.index],A=A.next;b.first=b.last=void 0,ui?b.size=0:this.size=0},delete:function(b){var I=this,A=d(I),P=m(I,b);if(P){var H=P.next,U=P.previous;delete A.index[P.index],P.removed=!0,U&&(U.next=H),H&&(H.previous=U),A.first==P&&(A.first=H),A.last==P&&(A.last=U),ui?A.size--:I.size--}return!!P},forEach:function(b){for(var I,A=d(this),P=vE(b,arguments.length>1?arguments[1]:void 0,3);I=I?I.next:A.first;)for(P(I.value,I.key,this);I&&I.removed;)I=I.previous},has:function(b){return!!m(this,b)}}),Dg(l.prototype,o?{get:function(b){var I=m(this,b);return I&&I.value},set:function(b,I){return f(this,0===b?0:b,I)}}:{add:function(b){return f(this,b=0===b?0:b,b)}}),ui&&b0(l.prototype,"size",{get:function(){return d(this).size}}),l},setStrong:function(u,r,o){var s=r+" Iterator",l=Ls(r),d=Ls(s);ec(u,r,function(f,m){Vv(this,{type:s,target:f,state:l(f),kind:m,last:void 0})},function(){for(var f=d(this),m=f.kind,b=f.last;b&&b.removed;)b=b.previous;return f.target&&(f.last=b=b?b.next:f.state.first)?"keys"==m?{value:b.key,done:!1}:"values"==m?{value:b.value,done:!1}:{value:[b.key,b.value],done:!1}:(f.target=void 0,{value:void 0,done:!0})},o?"entries":"values",!o,!0),function(u){var r=pE(u);Fm&&r&&!r[qf]&&(0,gE.f)(r,qf,{configurable:!0,get:function(){return this}})}(r)}};jy("Map",function(u){return function(){return u(this,arguments.length?arguments[0]:void 0)}},tc);var Yf=kt.Map,xg=function(){function u(){ke(this,u),this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},jn(this.options,this.defaultOptions)}return Te(u,[{key:"setOptions",value:function(r){var o=["useDefaultGroups"];if(void 0!==r)for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&-1===Qt(o).call(o,s)&&this.add(s,r[s])}},{key:"clear",value:function(){this._groups=new Yf,this._groupNames=[]}},{key:"get",value:function(r){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=this._groups.get(r);if(void 0===s&&o)if(!1===this.options.useDefaultGroups&&this._groupNames.length>0){var l=this._groupIndex%this._groupNames.length;++this._groupIndex,(s={}).color=this._groups.get(this._groupNames[l]),this._groups.set(r,s)}else{var d=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,(s={}).color=this._defaultGroups[d],this._groups.set(r,s)}return s}},{key:"add",value:function(r,o){return this._groups.has(r)||this._groupNames.push(r),this._groups.set(r,o),o}}]),u}();dt({target:"Number",stat:!0},{isNaN:function(u){return u!=u}});var Mh=kt.Number.isNaN,Tg=Re.isFinite;dt({target:"Number",stat:!0},{isFinite:Number.isFinite||function(u){return"number"==typeof u&&Tg(u)}});var cu=kt.Number.isFinite,Ig=da.some;dt({target:"Array",proto:!0,forced:!er("some")},{some:function(u){return Ig(this,u,arguments.length>1?arguments[1]:void 0)}});var kg=Bn("Array").some,Qf=Array.prototype,_0=Co,w0=De.trim,Rm=Re.parseFloat,zy=1/Rm("\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff-0")!=-1/0?function(u){var r=w0(_0(u)),o=Rm(r);return 0===o&&"-"==r.charAt(0)?-0:o}:Rm;dt({global:!0,forced:parseFloat!=zy},{parseFloat:zy});var $y=kt.parseFloat,D0=Hu.f;dt({target:"Object",stat:!0,forced:dn(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:D0});var x0=kt.Object;function Uy(u,r){var o=["node","edge","label"],s=!0,l=On(r,"chosen");if("boolean"==typeof l)s=l;else if("object"===Xt(l)){if(-1===Qt(o).call(o,u))throw new Error("choosify: subOption '"+u+"' should be one of '"+o.join("', '")+"'");var d=On(r,["chosen",u]);"boolean"!=typeof d&&"function"!=typeof d||(s=d)}return s}function Wy(u,r,o){if(u.width<=0||u.height<=0)return!1;if(void 0!==o){var s={x:r.x-o.x,y:r.y-o.y};if(0!==o.angle){var l=-o.angle;r={x:Math.cos(l)*s.x-Math.sin(l)*s.y,y:Math.sin(l)*s.x+Math.cos(l)*s.y}}else r=s}return u.left<r.x&&u.x+u.width>r.x&&u.top<r.y&&u.y+u.width>r.y}function Lm(u){return"string"==typeof u&&""!==u}function Gy(u,r,o,s){var l=s.x,d=s.y;if("function"==typeof s.distanceToBorder){var f=s.distanceToBorder(u,r),m=Math.sin(r)*f,b=Math.cos(r)*f;b===f?(l+=f,d=s.y):m===f?(l=s.x,d-=f):(l+=b,d-=m)}else s.shape.width>s.shape.height?(l=s.x+.5*s.shape.width,d=s.y-o):(l=s.x+o,d=s.y-.5*s.shape.height);return{x:l,y:d}}var bE=Bn("Array").values,FD=Io,T0=Array.prototype,I0={DOMTokenList:!0,NodeList:!0},k0=function(u){var r=u.values;return u===T0||u instanceof Array&&r===T0.values||I0.hasOwnProperty(FD(u))?bE:r},S0=function(){function u(r){ke(this,u),this.measureText=r,this.current=0,this.width=0,this.height=0,this.lines=[]}return Te(u,[{key:"_add",value:function(r,o){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";void 0===this.lines[r]&&(this.lines[r]={width:0,height:0,blocks:[]});var l=o;void 0!==o&&""!==o||(l=" ");var d=this.measureText(l,s),f=jn({},k0(d));f.text=o,f.width=d.width,f.mod=s,void 0!==o&&""!==o||(f.width=0),this.lines[r].blocks.push(f),this.lines[r].width+=f.width}},{key:"curWidth",value:function(){var r=this.lines[this.current];return void 0===r?0:r.width}},{key:"append",value:function(r){this._add(this.current,r,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal")}},{key:"newLine",value:function(r){this._add(this.current,r,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal"),this.current++}},{key:"determineLineHeights",value:function(){for(var r=0;r<this.lines.length;r++){var o=this.lines[r],s=0;if(void 0!==o.blocks)for(var l=0;l<o.blocks.length;l++){var d=o.blocks[l];s<d.height&&(s=d.height)}o.height=s}}},{key:"determineLabelSize",value:function(){for(var r=0,o=0,s=0;s<this.lines.length;s++){var l=this.lines[s];l.width>r&&(r=l.width),o+=l.height}this.width=r,this.height=o}},{key:"removeEmptyBlocks",value:function(){for(var r=[],o=0;o<this.lines.length;o++){var s=this.lines[o];if(0!==s.blocks.length&&(o!==this.lines.length-1||0!==s.width)){var l={};jn(l,s),l.blocks=[];for(var d=void 0,f=[],m=0;m<s.blocks.length;m++){var b=s.blocks[m];0!==b.width?f.push(b):void 0===d&&(d=b)}0===f.length&&void 0!==d&&f.push(d),l.blocks=f,r.push(l)}}return r}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var r=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:r}}}]),u}(),_E={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/},O0=function(){function u(r){ke(this,u),this.text=r,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}return Te(u,[{key:"mod",value:function(){return 0===this.modStack.length?"normal":this.modStack[0]}},{key:"modName",value:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":this.bold&&this.ital?"boldital":this.bold?"bold":this.ital?"ital":void 0}},{key:"emitBlock",value:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}},{key:"add",value:function(r){" "===r&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=r&&(this.buffer+=r)}},{key:"parseWS",value:function(r){return!!/[ \t]/.test(r)&&(this.mono?this.add(r):this.spacing=!0,!0)}},{key:"setTag",value:function(r){this.emitBlock(),this[r]=!0,this.modStack.unshift(r)}},{key:"unsetTag",value:function(r){this.emitBlock(),this[r]=!1,this.modStack.shift()}},{key:"parseStartTag",value:function(r,o){return!(this.mono||this[r]||!this.match(o)||(this.setTag(r),0))}},{key:"match",value:function(r){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],l=Nn(this.prepareRegExp(r),2),f=l[1],m=l[0].test(this.text.substr(this.position,f));return m&&o&&(this.position+=f-1),m}},{key:"parseEndTag",value:function(r,o,s){var l=this.mod()===r;return!(!(l="mono"===r?l&&this.mono:l&&!this.mono)||!this.match(o)||(void 0!==s?(this.position===this.text.length-1||this.match(s,!1))&&this.unsetTag(r):this.unsetTag(r),0))}},{key:"replace",value:function(r,o){return!!this.match(r)&&(this.add(o),this.position+=length-1,!0)}},{key:"prepareRegExp",value:function(r){var o,s;if(r instanceof RegExp)s=r,o=1;else{var l=_E[r];s=void 0!==l?l:new RegExp(r),o=r.length}return[s,o]}}]),u}(),RD=function(){function u(r,o,s,l){var d=this;ke(this,u),this.ctx=r,this.parent=o,this.selected=s,this.hover=l,this.lines=new S0(function(f,m){if(void 0===f)return 0;var b=d.parent.getFormattingValues(r,s,l,m),I=0;return""!==f&&(I=d.ctx.measureText(f).width),{width:I,values:b}})}return Te(u,[{key:"process",value:function(r){if(!Lm(r))return this.lines.finalize();var o=this.parent.fontOptions;r=(r=r.replace(/\r\n/g,"\n")).replace(/\r/g,"\n");var s=String(r).split("\n"),l=s.length;if(o.multi)for(var d=0;d<l;d++){var f=this.splitBlocks(s[d],o.multi);if(void 0!==f)if(0!==f.length){if(o.maxWdt>0)for(var m=0;m<f.length;m++)this.splitStringIntoLines(f[m].text,f[m].mod,!0);else for(var A=0;A<f.length;A++)this.lines.append(f[A].text,f[A].mod);this.lines.newLine()}else this.lines.newLine("")}else if(o.maxWdt>0)for(var U=0;U<l;U++)this.splitStringIntoLines(s[U]);else for(var W=0;W<l;W++)this.lines.newLine(s[W]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(r){var o="none";return"markdown"===r||"md"===r?o="markdown":!0!==r&&"html"!==r||(o="html"),o}},{key:"splitHtmlBlocks",value:function(r){for(var o=new O0(r);o.position<o.text.length;){var l=o.text.charAt(o.position);o.parseWS(l)||/</.test(l)&&(o.parseStartTag("bold","<b>")||o.parseStartTag("ital","<i>")||o.parseStartTag("mono","<code>")||o.parseEndTag("bold","</b>")||o.parseEndTag("ital","</i>")||o.parseEndTag("mono","</code>"))||!!/&/.test(l)&&(o.replace(o.text,"&lt;","<")||o.replace(o.text,"&amp;","&")||o.add("&"),!0)||o.add(l),o.position++}return o.emitBlock(),o.blocks}},{key:"splitMarkdownBlocks",value:function(r){for(var o=this,s=new O0(r),l=!0;s.position<s.text.length;){var f=s.text.charAt(s.position);s.parseWS(f)||!!/\\/.test(m=f)&&(s.position<o.text.length+1&&(s.position++,m=o.text.charAt(s.position),/ \t/.test(m)?s.spacing=!0:(s.add(m),l=!1)),!0)||(l||s.spacing)&&(s.parseStartTag("bold","*")||s.parseStartTag("ital","_")||s.parseStartTag("mono","`"))||s.parseEndTag("bold","*","afterBold")||s.parseEndTag("ital","_","afterItal")||s.parseEndTag("mono","`","afterMono")||(s.add(f),l=!1),s.position++}var m;return s.emitBlock(),s.blocks}},{key:"splitBlocks",value:function(r,o){var s=this.decodeMarkupSystem(o);return"none"===s?[{text:r,mod:"normal"}]:"markdown"===s?this.splitMarkdownBlocks(r):"html"===s?this.splitHtmlBlocks(r):void 0}},{key:"overMaxWidth",value:function(r){var o=this.ctx.measureText(r).width;return this.lines.curWidth()+o>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(r){for(var o="",s=0;s<r.length;){var l=o+(""===o?"":" ")+r[s];if(this.overMaxWidth(l))break;o=l,s++}return s}},{key:"getLongestFitWord",value:function(r){for(var o=0;o<r.length&&!this.overMaxWidth(qt(r).call(r,0,o));)o++;return o}},{key:"splitStringIntoLines",value:function(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.parent.getFormattingValues(this.ctx,this.selected,this.hover,o);for(var l=(r=(r=r.replace(/^( +)/g,"$1\r")).replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r")).split("\r");l.length>0;){var d=this.getLongestFit(l);if(0===d){var f=l[0],m=this.getLongestFitWord(f);this.lines.newLine(qt(f).call(f,0,m),o),l[0]=qt(f).call(f,m)}else{var b=d;" "===l[d-1]?d--:" "===l[b]&&b++;var I=qt(l).call(l,0,d).join("");d==l.length&&s?this.lines.append(I,o):this.lines.newLine(I,o),l=qt(l).call(l,b)}}}}]),u}(),jv=["bold","ital","boldital","mono"],qy=function(){function u(r,o){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];ke(this,u),this.body=r,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(o),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=s}return Te(u,[{key:"setOptions",value:function(r){if(this.elementOptions=r,this.initFontOptions(r.font),Lm(r.label)?this.labelDirty=!0:r.label=void 0,null!=r.font)if("string"==typeof r.font)this.baseSize=this.fontOptions.size;else if("object"===Xt(r.font)){var o=r.font.size;void 0!==o&&(this.baseSize=o)}}},{key:"initFontOptions",value:function(r){var o=this;O(jv,function(s){o.fontOptions[s]={}}),u.parseFontString(this.fontOptions,r)?this.fontOptions.vadjust=0:O(r,function(s,l){null!=s&&"object"!==Xt(s)&&(o.fontOptions[l]=s)})}},{key:"constrain",value:function(r){var o={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},s=On(r,"widthConstraint");if("number"==typeof s)o.maxWdt=Number(s),o.minWdt=Number(s);else if("object"===Xt(s)){var l=On(r,["widthConstraint","maximum"]);"number"==typeof l&&(o.maxWdt=Number(l));var d=On(r,["widthConstraint","minimum"]);"number"==typeof d&&(o.minWdt=Number(d))}var f=On(r,"heightConstraint");if("number"==typeof f)o.minHgt=Number(f);else if("object"===Xt(f)){var m=On(r,["heightConstraint","minimum"]);"number"==typeof m&&(o.minHgt=Number(m));var b=On(r,["heightConstraint","valign"]);"string"==typeof b&&("top"!==b&&"bottom"!==b||(o.valign=b))}return o}},{key:"update",value:function(r,o){this.setOptions(r,!0),this.propagateFonts(o),y(this.fontOptions,this.constrain(o)),this.fontOptions.chooser=Uy("label",o)}},{key:"adjustSizes",value:function(r){var o=r?r.right+r.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=o,this.fontOptions.minWdt-=o),this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=r?r.top+r.bottom:0)}},{key:"addFontOptionsToPile",value:function(r,o){for(var s=0;s<o.length;++s)this.addFontToPile(r,o[s])}},{key:"addFontToPile",value:function(r,o){void 0!==o&&null!=o.font&&r.push(o.font)}},{key:"getBasicOptions",value:function(r){for(var o={},s=0;s<r.length;++s){var l=r[s],d={};u.parseFontString(d,l)&&(l=d),O(l,function(f,m){void 0!==f&&(Object.prototype.hasOwnProperty.call(o,m)||(o[m]=-1!==Qt(jv).call(jv,m)?{}:f))})}return o}},{key:"getFontOption",value:function(r,o,s){for(var l,d=0;d<r.length;++d){var f=r[d];if(Object.prototype.hasOwnProperty.call(f,o)){if(null==(l=f[o]))continue;var m={};if(u.parseFontString(m,l)&&(l=m),Object.prototype.hasOwnProperty.call(l,s))return l[s]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,s))return this.fontOptions[s];throw new Error("Did not find value for multi-font for property: '"+s+"'")}},{key:"getFontOptions",value:function(r,o){for(var s={},l=["color","size","face","mod","vadjust"],d=0;d<l.length;++d){var f=l[d];s[f]=this.getFontOption(r,o,f)}return s}},{key:"propagateFonts",value:function(r){var o=this,s=[];this.addFontOptionsToPile(s,r),this.fontOptions=this.getBasicOptions(s);for(var l=function(f){var m=jv[f],b=o.fontOptions[m];O(o.getFontOptions(s,m),function(I,A){b[A]=I}),b.size=Number(b.size),b.vadjust=Number(b.vadjust)},d=0;d<jv.length;++d)l(d)}},{key:"draw",value:function(r,o,s,l,d){var f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";if(void 0!==this.elementOptions.label){var m=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&m<this.elementOptions.scaling.label.drawThreshold-1||(m>=this.elementOptions.scaling.label.maxVisible&&(m=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(r,l,d,o,s,f),this._drawBackground(r),this._drawText(r,o,this.size.yLine,f,m))}}},{key:"_drawBackground",value:function(r){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){r.fillStyle=this.fontOptions.background;var o=this.getSize();r.fillRect(o.left,o.top,o.width,o.height)}}},{key:"_drawText",value:function(r,o,s){var d=arguments.length>4?arguments[4]:void 0,m=Nn(this._setAlignment(r,o,s,arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle"),2);o=m[0],s=m[1],r.textAlign="left",o-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(s-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(s+=(this.size.height-this.size.labelHeight)/2));for(var b=0;b<this.lineCount;b++){var I=this.lines[b];if(I&&I.blocks){var A=0;this.isEdgeLabel||"center"===this.fontOptions.align?A+=(this.size.width-I.width)/2:"right"===this.fontOptions.align&&(A+=this.size.width-I.width);for(var P=0;P<I.blocks.length;P++){var H=I.blocks[P];r.font=H.font;var W=Nn(this._getColor(H.color,d,H.strokeColor),2),K=W[0],oe=W[1];H.strokeWidth>0&&(r.lineWidth=H.strokeWidth,r.strokeStyle=oe,r.lineJoin="round"),r.fillStyle=K,H.strokeWidth>0&&r.strokeText(H.text,o+A,s+H.vadjust),r.fillText(H.text,o+A,s+H.vadjust),A+=H.width}s+=I.height}}}},{key:"_setAlignment",value:function(r,o,s,l){return this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf?(o=0,s=0,"top"===this.fontOptions.align?(r.textBaseline="alphabetic",s-=4):"bottom"===this.fontOptions.align?(r.textBaseline="hanging",s+=4):r.textBaseline="middle"):r.textBaseline=l,[o,s]}},{key:"_getColor",value:function(r,o,s){var l=r||"#000000",d=s||"#ffffff";if(o<=this.elementOptions.scaling.label.drawThreshold){var f=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-o)));l=B(l,f),d=B(d,f)}return[l,d]}},{key:"getTextSize",value:function(r){return this._processLabel(r,arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2]),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var r=this.size.left,o=this.size.top-1;if(this.isEdgeLabel){var s=.5*-this.size.width;switch(this.fontOptions.align){case"middle":r=s,o=.5*-this.size.height;break;case"top":r=s,o=-(this.size.height+2);break;case"bottom":r=s,o=2}}return{left:r,top:o,width:this.size.width,height:this.size.height}}},{key:"calculateLabelSize",value:function(r,o,s){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";this._processLabel(r,o,s),this.size.left=l-.5*this.size.width,this.size.top=d-.5*this.size.height,this.size.yLine=d+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===f&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(r,o,s,l){var d=function(b,I,A){return"normal"===I?"mod"===A?"":b[A]:void 0!==b[I][A]?b[I][A]:b[A]},f={color:d(this.fontOptions,l,"color"),size:d(this.fontOptions,l,"size"),face:d(this.fontOptions,l,"face"),mod:d(this.fontOptions,l,"mod"),vadjust:d(this.fontOptions,l,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(o||s)&&("normal"===l&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?f.mod="bold":"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(f,this.elementOptions.id,o,s));var m="";return void 0!==f.mod&&""!==f.mod&&(m+=f.mod+" "),r.font=(m+=f.size+"px "+f.face).replace(/"/g,""),f.font=r.font,f.height=f.size,f}},{key:"differentState",value:function(r,o){return r!==this.selectedState||o!==this.hoverState}},{key:"_processLabelText",value:function(r,o,s,l){return new RD(r,this,o,s).process(l)}},{key:"_processLabel",value:function(r,o,s){if(!1!==this.labelDirty||this.differentState(o,s)){var l=this._processLabelText(r,o,s,this.elementOptions.label);this.fontOptions.minWdt>0&&l.width<this.fontOptions.minWdt&&(l.width=this.fontOptions.minWdt),this.size.labelHeight=l.height,this.fontOptions.minHgt>0&&l.height<this.fontOptions.minHgt&&(l.height=this.fontOptions.minHgt),this.lines=l.lines,this.lineCount=l.lines.length,this.size.width=l.width,this.size.height=l.height,this.selectedState=o,this.hoverState=s,this.labelDirty=!1}}},{key:"visible",value:function(){return 0!==this.size.width&&0!==this.size.height&&void 0!==this.elementOptions.label&&!(this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(r,o){if(!o||"string"!=typeof o)return!1;var s=o.split(" ");return r.size=+s[0].replace("px",""),r.face=s[1],r.color=s[2],!0}}]),u}(),LD=dt,wE=vc,VD=Pn,M0=Tn,jD=Ru,EE=Go,A0=dn,Bv=Aa("Reflect","construct"),Vm=A0(function(){function u(){}return!(Bv(function(){},[],u)instanceof u)}),P0=!A0(function(){Bv(function(){})}),CE=Vm||P0;LD({target:"Reflect",stat:!0,forced:CE,sham:CE},{construct:function(u,r){wE(u),VD(r);var o=arguments.length<3?u:wE(arguments[2]);if(P0&&!Vm)return Bv(u,r,o);if(u==o){switch(r.length){case 0:return new u;case 1:return new u(r[0]);case 2:return new u(r[0],r[1]);case 3:return new u(r[0],r[1],r[2]);case 4:return new u(r[0],r[1],r[2],r[3])}var s=[null];return s.push.apply(s,r),new(EE.apply(u,s))}var l=o.prototype,d=jD(M0(l)?l:Object.prototype),f=Function.apply.call(u,d,r);return M0(f)?f:d}});var pe=kt.Reflect.construct,BD=Jp;dt({target:"Object",stat:!0},{setPrototypeOf:$n});var N0=kt.Object.setPrototypeOf;function Yy(u,r){return(Yy=N0||function(o,s){return o.__proto__=s,o})(u,r)}function _n(u,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");u.prototype=BD(r&&r.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),r&&Yy(u,r)}function xn(u,r){if(r&&("object"===Xt(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(void 0===o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(u)}var Kf=Ge;function qe(u){return(qe=N0?Kf:function(r){return r.__proto__||Kf(r)})(u)}var Ah=function(){function u(r,o,s){ke(this,u),this.body=o,this.labelModule=s,this.setOptions(r),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return Te(u,[{key:"setOptions",value:function(r){this.options=r}},{key:"_setMargins",value:function(r){this.margin={},this.options.margin&&("object"==Xt(this.options.margin)?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),r.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(r,o){var s=this.options.borderWidth;return r&&this.resize(r),Math.min(Math.abs(this.width/2/Math.cos(o)),Math.abs(this.height/2/Math.sin(o)))+s}},{key:"enableShadow",value:function(r,o){o.shadow&&(r.shadowColor=o.shadowColor,r.shadowBlur=o.shadowSize,r.shadowOffsetX=o.shadowX,r.shadowOffsetY=o.shadowY)}},{key:"disableShadow",value:function(r,o){o.shadow&&(r.shadowColor="rgba(0,0,0,0)",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(r,o){if(!1!==o.borderDashes)if(void 0!==r.setLineDash){var s=o.borderDashes;!0===s&&(s=[5,15]),r.setLineDash(s)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,o.borderDashes=!1}},{key:"disableBorderDashes",value:function(r,o){!1!==o.borderDashes&&(void 0!==r.setLineDash?r.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,o.borderDashes=!1))}},{key:"needsRefresh",value:function(r,o){return!0===this.refreshNeeded?(this.refreshNeeded=!1,!0):void 0===this.width||this.labelModule.differentState(r,o)}},{key:"initContextForDraw",value:function(r,o){r.lineWidth=Math.min(this.width,o.borderWidth/this.body.view.scale),r.strokeStyle=o.borderColor,r.fillStyle=o.color}},{key:"performStroke",value:function(r,o){var s=o.borderWidth/this.body.view.scale;r.save(),s>0&&(this.enableBorderDashes(r,o),r.stroke(),this.disableBorderDashes(r,o)),r.restore()}},{key:"performFill",value:function(r,o){r.save(),r.fillStyle=o.color,this.enableShadow(r,o),Lf(r).call(r),this.disableShadow(r,o),r.restore(),this.performStroke(r,o)}},{key:"_addBoundingBoxMargin",value:function(r){this.boundingBox.left-=r,this.boundingBox.top-=r,this.boundingBox.bottom+=r,this.boundingBox.right+=r}},{key:"_updateBoundingBox",value:function(r,o,s,l,d){void 0!==s&&this.resize(s,l,d),this.left=r-this.width/2,this.top=o-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(r,o,s,l,d){this._updateBoundingBox(r,o,s,l,d)}},{key:"getDimensionsFromLabel",value:function(r,o,s){this.textSize=this.labelModule.getTextSize(r,o,s);var l=this.textSize.width,d=this.textSize.height;return 0===l&&(l=14,d=14),{width:l,height:d}}}]),u}();var F0=function(u){_n(o,u);var r=function(u){var r=function(){if("undefined"==typeof Reflect||!pe||pe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pe(Boolean,[],function(){})),!0}catch(o){return!1}}();return function(){var o,s=qe(u);if(r){var l=qe(this).constructor;o=pe(s,arguments,l)}else o=s.apply(this,arguments);return xn(this,o)}}(o);function o(s,l,d){var f;return ke(this,o),(f=r.call(this,s,l,d))._setMargins(d),f}return Te(o,[{key:"resize",value:function(s){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(l,d)){var f=this.getDimensionsFromLabel(s,l,d);this.width=f.width+this.margin.right+this.margin.left,this.height=f.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(s,l,d,f,m,b){this.resize(s,f,m),this.left=l-this.width/2,this.top=d-this.height/2,this.initContextForDraw(s,b),ni(s,this.left,this.top,this.width,this.height,b.borderRadius),this.performFill(s,b),this.updateBoundingBox(l,d,s,f,m),this.labelModule.draw(s,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,f,m)}},{key:"updateBoundingBox",value:function(s,l,d,f,m){this._updateBoundingBox(s,l,d,f,m),this._addBoundingBoxMargin(this.options.shapeProperties.borderRadius)}},{key:"distanceToBorder",value:function(s,l){s&&this.resize(s);var d=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(l)),Math.abs(this.height/2/Math.sin(l)))+d}}]),o}(Ah);var Qy=function(u){_n(o,u);var r=function(u){var r=function(){if("undefined"==typeof Reflect||!pe||pe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pe(Boolean,[],function(){})),!0}catch(o){return!1}}();return function(){var o,s=qe(u);if(r){var l=qe(this).constructor;o=pe(s,arguments,l)}else o=s.apply(this,arguments);return xn(this,o)}}(o);function o(s,l,d){var f;return ke(this,o),(f=r.call(this,s,l,d)).labelOffset=0,f.selected=!1,f}return Te(o,[{key:"setOptions",value:function(s,l,d){this.options=s,void 0===l&&void 0===d||this.setImages(l,d)}},{key:"setImages",value:function(s,l){l&&this.selected?(this.imageObj=l,this.imageObjAlt=s):(this.imageObj=s,this.imageObjAlt=l)}},{key:"switchImages",value:function(s){var l=s&&!this.selected||!s&&this.selected;if(this.selected=s,void 0!==this.imageObjAlt&&l){var d=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=d}}},{key:"_getImagePadding",value:function(){var s={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){var l=this.options.imagePadding;"object"==Xt(l)?(s.top=l.top,s.right=l.right,s.bottom=l.bottom,s.left=l.left):(s.top=l,s.right=l,s.bottom=l,s.left=l)}return s}},{key:"_resizeImage",value:function(){var s,l;if(!1===this.options.shapeProperties.useImageSize){var d=1,f=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?d=this.imageObj.width/this.imageObj.height:f=this.imageObj.height/this.imageObj.width),s=2*this.options.size*d,l=2*this.options.size*f}else{var m=this._getImagePadding();s=this.imageObj.width+m.left+m.right,l=this.imageObj.height+m.top+m.bottom}this.width=s,this.height=l,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(s,l,d,f){this.initContextForDraw(s,f),vn(s,l,d,f.size),this.performFill(s,f)}},{key:"_drawImageAtPosition",value:function(s,l){if(0!=this.imageObj.width){s.globalAlpha=void 0!==l.opacity?l.opacity:1,this.enableShadow(s,l);var d=1;!0===this.options.shapeProperties.interpolation&&(d=this.imageObj.width/this.width/this.body.view.scale);var f=this._getImagePadding();this.imageObj.drawImageAtPosition(s,d,this.left+f.left,this.top+f.top,this.width-f.left-f.right,this.height-f.top-f.bottom),this.disableShadow(s,l)}}},{key:"_drawImageLabel",value:function(s,l,d,f,m){var b=0;if(void 0!==this.height){b=.5*this.height;var I=this.labelModule.getTextSize(s,f,m);I.lineCount>=1&&(b+=I.height/2)}var A=d+b;this.options.label&&(this.labelOffset=b),this.labelModule.draw(s,l,A,f,m,"hanging")}}]),o}(Ah);var xE=function(u){_n(o,u);var r=function(u){var r=function(){if("undefined"==typeof Reflect||!pe||pe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pe(Boolean,[],function(){})),!0}catch(o){return!1}}();return function(){var o,s=qe(u);if(r){var l=qe(this).constructor;o=pe(s,arguments,l)}else o=s.apply(this,arguments);return xn(this,o)}}(o);function o(s,l,d){var f;return ke(this,o),(f=r.call(this,s,l,d))._setMargins(d),f}return Te(o,[{key:"resize",value:function(s){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(l,d)){var f=this.getDimensionsFromLabel(s,l,d),m=Math.max(f.width+this.margin.right+this.margin.left,f.height+this.margin.top+this.margin.bottom);this.options.size=m/2,this.width=m,this.height=m,this.radius=this.width/2}}},{key:"draw",value:function(s,l,d,f,m,b){this.resize(s,f,m),this.left=l-this.width/2,this.top=d-this.height/2,this._drawRawCircle(s,l,d,b),this.updateBoundingBox(l,d),this.labelModule.draw(s,this.left+this.textSize.width/2+this.margin.left,d,f,m)}},{key:"updateBoundingBox",value:function(s,l){this.boundingBox.top=l-this.options.size,this.boundingBox.left=s-this.options.size,this.boundingBox.right=s+this.options.size,this.boundingBox.bottom=l+this.options.size}},{key:"distanceToBorder",value:function(s){return s&&this.resize(s),.5*this.width}}]),o}(Qy);var IE=function(u){_n(o,u);var r=function(u){var r=function(){if("undefined"==typeof Reflect||!pe||pe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pe(Boolean,[],function(){})),!0}catch(o){return!1}}();return function(){var o,s=qe(u);if(r){var l=qe(this).constructor;o=pe(s,arguments,l)}else o=s.apply(this,arguments);return xn(this,o)}}(o);function o(s,l,d,f,m){var b;return ke(this,o),(b=r.call(this,s,l,d)).setImages(f,m),b}return Te(o,[{key:"resize",value:function(s){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var m=2*this.options.size;return this.width=m,this.height=m,void(this.radius=.5*this.width)}this.needsRefresh(l,d)&&this._resizeImage()}},{key:"draw",value:function(s,l,d,f,m,b){this.switchImages(f),this.resize();var I=l,A=d;"top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=l,this.top=d,I+=this.width/2,A+=this.height/2):(this.left=l-this.width/2,this.top=d-this.height/2),this._drawRawCircle(s,I,A,b),s.save(),s.clip(),this._drawImageAtPosition(s,b),s.restore(),this._drawImageLabel(s,I,A,f,m),this.updateBoundingBox(l,d)}},{key:"updateBoundingBox",value:function(s,l){"top-left"===this.options.shapeProperties.coordinateOrigin?(this.boundingBox.top=l,this.boundingBox.left=s,this.boundingBox.right=s+2*this.options.size,this.boundingBox.bottom=l+2*this.options.size):(this.boundingBox.top=l-this.options.size,this.boundingBox.left=s-this.options.size,this.boundingBox.right=s+this.options.size,this.boundingBox.bottom=l+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(s){return s&&this.resize(s),.5*this.width}}]),o}(Qy);var Ph=function(u){_n(o,u);var r=function(u){var r=function(){if("undefined"==typeof Reflect||!pe||pe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pe(Boolean,[],function(){})),!0}catch(o){return!1}}();return function(){var o,s=qe(u);if(r){var l=qe(this).constructor;o=pe(s,arguments,l)}else o=s.apply(this,arguments);return xn(this,o)}}(o);function o(s,l,d){return ke(this,o),r.call(this,s,l,d)}return Te(o,[{key:"resize",value:function(s){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{size:this.options.size};if(this.needsRefresh(l,d)){var m,b;this.labelModule.getTextSize(s,l,d);var I=2*f.size;this.width=null!==(m=this.customSizeWidth)&&void 0!==m?m:I,this.height=null!==(b=this.customSizeHeight)&&void 0!==b?b:I,this.radius=.5*this.width}}},{key:"_drawShape",value:function(s,l,d,f,m,b,I,A){var P,H=this;return this.resize(s,b,I,A),this.left=f-this.width/2,this.top=m-this.height/2,this.initContextForDraw(s,A),(P=l,Object.prototype.hasOwnProperty.call(mn,P)?mn[P]:function(U){for(var W=arguments.length,K=new Array(W>1?W-1:0),oe=1;oe<W;oe++)K[oe-1]=arguments[oe];CanvasRenderingContext2D.prototype[P].call(U,K)})(s,f,m,A.size),this.performFill(s,A),void 0!==this.options.icon&&void 0!==this.options.icon.code&&(s.font=(b?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),s.fillStyle=this.options.icon.color||"black",s.textAlign="center",s.textBaseline="middle",s.fillText(this.options.icon.code,f,m)),{drawExternalLabel:function(){void 0!==H.options.label&&(H.labelModule.calculateLabelSize(s,b,I,f,m,"hanging"),H.labelModule.draw(s,f,m+.5*H.height+.5*H.labelModule.size.height,b,I,"hanging")),H.updateBoundingBox(f,m)}}}},{key:"updateBoundingBox",value:function(s,l){this.boundingBox.top=l-this.options.size,this.boundingBox.left=s-this.options.size,this.boundingBox.right=s+this.options.size,this.boundingBox.bottom=l+this.options.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),o}(Ah);function Ky(u,r){var o=sn(u);if(Pi){var s=Pi(u);r&&(s=it(s).call(s,function(l){return io(u,l).enumerable})),o.push.apply(o,s)}return o}function SE(u){for(var r=1;r<arguments.length;r++){var o,s=null!=arguments[r]?arguments[r]:{};if(r%2)en(o=Ky(Object(s),!0)).call(o,function(d){Vl(u,d,s[d])});else if(Qa)Kc(u,Qa(s));else{var l;en(l=Ky(Object(s))).call(l,function(d){ks(u,d,io(s,d))})}}return u}var V0=function(u){_n(o,u);var r=function(u){var r=function(){if("undefined"==typeof Reflect||!pe||pe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pe(Boolean,[],function(){})),!0}catch(o){return!1}}();return function(){var o,s=qe(u);if(r){var l=qe(this).constructor;o=pe(s,arguments,l)}else o=s.apply(this,arguments);return xn(this,o)}}(o);function o(s,l,d,f){var m;return ke(this,o),(m=r.call(this,s,l,d,f)).ctxRenderer=f,m}return Te(o,[{key:"draw",value:function(s,l,d,f,m,b){this.resize(s,f,m,b),this.left=l-this.width/2,this.top=d-this.height/2,s.save();var I=this.ctxRenderer({ctx:s,id:this.options.id,x:l,y:d,state:{selected:f,hover:m},style:SE({},b),label:this.options.label});if(null!=I.drawNode&&I.drawNode(),s.restore(),I.drawExternalLabel){var A=I.drawExternalLabel;I.drawExternalLabel=function(){s.save(),A(),s.restore()}}return I.nodeDimensions&&(this.customSizeWidth=I.nodeDimensions.width,this.customSizeHeight=I.nodeDimensions.height),I}},{key:"distanceToBorder",value:function(s,l){return this._distanceToBorder(s,l)}}]),o}(Ph);var HD=function(u){_n(o,u);var r=function(u){var r=function(){if("undefined"==typeof Reflect||!pe||pe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pe(Boolean,[],function(){})),!0}catch(o){return!1}}();return function(){var o,s=qe(u);if(r){var l=qe(this).constructor;o=pe(s,arguments,l)}else o=s.apply(this,arguments);return xn(this,o)}}(o);function o(s,l,d){var f;return ke(this,o),(f=r.call(this,s,l,d))._setMargins(d),f}return Te(o,[{key:"resize",value:function(s,l,d){if(this.needsRefresh(l,d)){var f=this.getDimensionsFromLabel(s,l,d).width+this.margin.right+this.margin.left;this.width=f,this.height=f,this.radius=this.width/2}}},{key:"draw",value:function(s,l,d,f,m,b){this.resize(s,f,m),this.left=l-this.width/2,this.top=d-this.height/2,this.initContextForDraw(s,b),wr(s,l-this.width/2,d-this.height/2,this.width,this.height),this.performFill(s,b),this.updateBoundingBox(l,d,s,f,m),this.labelModule.draw(s,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,f,m)}},{key:"distanceToBorder",value:function(s,l){return this._distanceToBorder(s,l)}}]),o}(Ah);var OE=function(u){_n(o,u);var r=function(u){var r=function(){if("undefined"==typeof Reflect||!pe||pe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pe(Boolean,[],function(){})),!0}catch(o){return!1}}();return function(){var o,s=qe(u);if(r){var l=qe(this).constructor;o=pe(s,arguments,l)}else o=s.apply(this,arguments);return xn(this,o)}}(o);function o(s,l,d){return ke(this,o),r.call(this,s,l,d)}return Te(o,[{key:"draw",value:function(s,l,d,f,m,b){return this._drawShape(s,"diamond",4,l,d,f,m,b)}},{key:"distanceToBorder",value:function(s,l){return this._distanceToBorder(s,l)}}]),o}(Ph);var Ne=function(u){_n(o,u);var r=function(u){var r=function(){if("undefined"==typeof Reflect||!pe||pe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pe(Boolean,[],function(){})),!0}catch(o){return!1}}();return function(){var o,s=qe(u);if(r){var l=qe(this).constructor;o=pe(s,arguments,l)}else o=s.apply(this,arguments);return xn(this,o)}}(o);function o(s,l,d){return ke(this,o),r.call(this,s,l,d)}return Te(o,[{key:"draw",value:function(s,l,d,f,m,b){return this._drawShape(s,"circle",2,l,d,f,m,b)}},{key:"distanceToBorder",value:function(s){return s&&this.resize(s),this.options.size}}]),o}(Ph);var Jy=function(u){_n(o,u);var r=function(u){var r=function(){if("undefined"==typeof Reflect||!pe||pe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pe(Boolean,[],function(){})),!0}catch(o){return!1}}();return function(){var o,s=qe(u);if(r){var l=qe(this).constructor;o=pe(s,arguments,l)}else o=s.apply(this,arguments);return xn(this,o)}}(o);function o(s,l,d){return ke(this,o),r.call(this,s,l,d)}return Te(o,[{key:"resize",value:function(s){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(l,d)){var f=this.getDimensionsFromLabel(s,l,d);this.height=2*f.height,this.width=f.width+f.height,this.radius=.5*this.width}}},{key:"draw",value:function(s,l,d,f,m,b){this.resize(s,f,m),this.left=l-.5*this.width,this.top=d-.5*this.height,this.initContextForDraw(s,b),Ti(s,this.left,this.top,this.width,this.height),this.performFill(s,b),this.updateBoundingBox(l,d,s,f,m),this.labelModule.draw(s,l,d,f,m)}},{key:"distanceToBorder",value:function(s,l){s&&this.resize(s);var d=.5*this.width,f=.5*this.height,m=Math.sin(l)*d,b=Math.cos(l)*f;return d*f/Math.sqrt(m*m+b*b)}}]),o}(Ah);var AE=function(u){_n(o,u);var r=function(u){var r=function(){if("undefined"==typeof Reflect||!pe||pe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pe(Boolean,[],function(){})),!0}catch(o){return!1}}();return function(){var o,s=qe(u);if(r){var l=qe(this).constructor;o=pe(s,arguments,l)}else o=s.apply(this,arguments);return xn(this,o)}}(o);function o(s,l,d){var f;return ke(this,o),(f=r.call(this,s,l,d))._setMargins(d),f}return Te(o,[{key:"resize",value:function(s,l,d){this.needsRefresh(l,d)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(s,l,d,f,m,b){var I=this;return this.resize(s,f,m),this.options.icon.size=this.options.icon.size||50,this.left=l-this.width/2,this.top=d-this.height/2,this._icon(s,l,d,f,m,b),{drawExternalLabel:function(){void 0!==I.options.label&&I.labelModule.draw(s,I.left+I.iconSize.width/2+I.margin.left,d+I.height/2+5,f),I.updateBoundingBox(l,d)}}}},{key:"updateBoundingBox",value:function(s,l){this.boundingBox.top=l-.5*this.options.icon.size,this.boundingBox.left=s-.5*this.options.icon.size,this.boundingBox.right=s+.5*this.options.icon.size,this.boundingBox.bottom=l+.5*this.options.icon.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}},{key:"_icon",value:function(s,l,d,f,m,b){var I=Number(this.options.icon.size);void 0!==this.options.icon.code?(s.font=[null!=this.options.icon.weight?this.options.icon.weight:f?"bold":"",(null!=this.options.icon.weight&&f?5:0)+I+"px",this.options.icon.face].join(" "),s.fillStyle=this.options.icon.color||"black",s.textAlign="center",s.textBaseline="middle",this.enableShadow(s,b),s.fillText(this.options.icon.code,l,d),this.disableShadow(s,b)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(s,l){return this._distanceToBorder(s,l)}}]),o}(Ah);var js=function(u){_n(o,u);var r=function(u){var r=function(){if("undefined"==typeof Reflect||!pe||pe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pe(Boolean,[],function(){})),!0}catch(o){return!1}}();return function(){var o,s=qe(u);if(r){var l=qe(this).constructor;o=pe(s,arguments,l)}else o=s.apply(this,arguments);return xn(this,o)}}(o);function o(s,l,d,f,m){var b;return ke(this,o),(b=r.call(this,s,l,d)).setImages(f,m),b}return Te(o,[{key:"resize",value:function(s){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var m=2*this.options.size;return this.width=m,void(this.height=m)}this.needsRefresh(l,d)&&this._resizeImage()}},{key:"draw",value:function(s,l,d,f,m,b){s.save(),this.switchImages(f),this.resize();var I=l,A=d;if("top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=l,this.top=d,I+=this.width/2,A+=this.height/2):(this.left=l-this.width/2,this.top=d-this.height/2),!0===this.options.shapeProperties.useBorderWithImage){s.lineWidth=Math.min(this.width,(f?this.options.borderWidthSelected||2*this.options.borderWidth:this.options.borderWidth)/this.body.view.scale),s.beginPath();var W=f?this.options.color.highlight.border:m?this.options.color.hover.border:this.options.color.border,K=f?this.options.color.highlight.background:m?this.options.color.hover.background:this.options.color.background;void 0!==b.opacity&&(W=B(W,b.opacity),K=B(K,b.opacity)),s.strokeStyle=W,s.fillStyle=K,s.rect(this.left-.5*s.lineWidth,this.top-.5*s.lineWidth,this.width+s.lineWidth,this.height+s.lineWidth),Lf(s).call(s),this.performStroke(s,b),s.closePath()}this._drawImageAtPosition(s,b),this._drawImageLabel(s,I,A,f,m),this.updateBoundingBox(l,d),s.restore()}},{key:"updateBoundingBox",value:function(s,l){this.resize(),"top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=s,this.top=l):(this.left=s-this.width/2,this.top=l-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(s,l){return this._distanceToBorder(s,l)}}]),o}(Qy);var $D=function(u){_n(o,u);var r=function(u){var r=function(){if("undefined"==typeof Reflect||!pe||pe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pe(Boolean,[],function(){})),!0}catch(o){return!1}}();return function(){var o,s=qe(u);if(r){var l=qe(this).constructor;o=pe(s,arguments,l)}else o=s.apply(this,arguments);return xn(this,o)}}(o);function o(s,l,d){return ke(this,o),r.call(this,s,l,d)}return Te(o,[{key:"draw",value:function(s,l,d,f,m,b){return this._drawShape(s,"square",2,l,d,f,m,b)}},{key:"distanceToBorder",value:function(s,l){return this._distanceToBorder(s,l)}}]),o}(Ph);var B0=function(u){_n(o,u);var r=function(u){var r=function(){if("undefined"==typeof Reflect||!pe||pe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pe(Boolean,[],function(){})),!0}catch(o){return!1}}();return function(){var o,s=qe(u);if(r){var l=qe(this).constructor;o=pe(s,arguments,l)}else o=s.apply(this,arguments);return xn(this,o)}}(o);function o(s,l,d){return ke(this,o),r.call(this,s,l,d)}return Te(o,[{key:"draw",value:function(s,l,d,f,m,b){return this._drawShape(s,"hexagon",4,l,d,f,m,b)}},{key:"distanceToBorder",value:function(s,l){return this._distanceToBorder(s,l)}}]),o}(Ph);var NE=function(u){_n(o,u);var r=function(u){var r=function(){if("undefined"==typeof Reflect||!pe||pe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pe(Boolean,[],function(){})),!0}catch(o){return!1}}();return function(){var o,s=qe(u);if(r){var l=qe(this).constructor;o=pe(s,arguments,l)}else o=s.apply(this,arguments);return xn(this,o)}}(o);function o(s,l,d){return ke(this,o),r.call(this,s,l,d)}return Te(o,[{key:"draw",value:function(s,l,d,f,m,b){return this._drawShape(s,"star",4,l,d,f,m,b)}},{key:"distanceToBorder",value:function(s,l){return this._distanceToBorder(s,l)}}]),o}(Ph);var Bm=function(u){_n(o,u);var r=function(u){var r=function(){if("undefined"==typeof Reflect||!pe||pe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pe(Boolean,[],function(){})),!0}catch(o){return!1}}();return function(){var o,s=qe(u);if(r){var l=qe(this).constructor;o=pe(s,arguments,l)}else o=s.apply(this,arguments);return xn(this,o)}}(o);function o(s,l,d){var f;return ke(this,o),(f=r.call(this,s,l,d))._setMargins(d),f}return Te(o,[{key:"resize",value:function(s,l,d){this.needsRefresh(l,d)&&(this.textSize=this.labelModule.getTextSize(s,l,d),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(s,l,d,f,m,b){this.resize(s,f,m),this.left=l-this.width/2,this.top=d-this.height/2,this.enableShadow(s,b),this.labelModule.draw(s,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,f,m),this.disableShadow(s,b),this.updateBoundingBox(l,d,s,f,m)}},{key:"distanceToBorder",value:function(s,l){return this._distanceToBorder(s,l)}}]),o}(Ah);var tb=function(u){_n(o,u);var r=function(u){var r=function(){if("undefined"==typeof Reflect||!pe||pe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pe(Boolean,[],function(){})),!0}catch(o){return!1}}();return function(){var o,s=qe(u);if(r){var l=qe(this).constructor;o=pe(s,arguments,l)}else o=s.apply(this,arguments);return xn(this,o)}}(o);function o(s,l,d){return ke(this,o),r.call(this,s,l,d)}return Te(o,[{key:"draw",value:function(s,l,d,f,m,b){return this._drawShape(s,"triangle",3,l,d,f,m,b)}},{key:"distanceToBorder",value:function(s,l){return this._distanceToBorder(s,l)}}]),o}(Ph);var $0=function(u){_n(o,u);var r=function(u){var r=function(){if("undefined"==typeof Reflect||!pe||pe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pe(Boolean,[],function(){})),!0}catch(o){return!1}}();return function(){var o,s=qe(u);if(r){var l=qe(this).constructor;o=pe(s,arguments,l)}else o=s.apply(this,arguments);return xn(this,o)}}(o);function o(s,l,d){return ke(this,o),r.call(this,s,l,d)}return Te(o,[{key:"draw",value:function(s,l,d,f,m,b){return this._drawShape(s,"triangleDown",3,l,d,f,m,b)}},{key:"distanceToBorder",value:function(s,l){return this._distanceToBorder(s,l)}}]),o}(Ph);function U0(u,r){var o=sn(u);if(Pi){var s=Pi(u);r&&(s=it(s).call(s,function(l){return io(u,l).enumerable})),o.push.apply(o,s)}return o}function nb(u){for(var r=1;r<arguments.length;r++){var o,s=null!=arguments[r]?arguments[r]:{};if(r%2)en(o=U0(Object(s),!0)).call(o,function(d){Vl(u,d,s[d])});else if(Qa)Kc(u,Qa(s));else{var l;en(l=U0(Object(s))).call(l,function(d){ks(u,d,io(s,d))})}}return u}var Bs=function(){function u(r,o,s,l,d,f){ke(this,u),this.options=_t(d),this.globalOptions=d,this.defaultOptions=f,this.body=o,this.edges=[],this.id=void 0,this.imagelist=s,this.grouplist=l,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new qy(this.body,this.options,!1),this.setOptions(r)}return Te(u,[{key:"attachEdge",value:function(r){var o;-1===Qt(o=this.edges).call(o,r)&&this.edges.push(r)}},{key:"detachEdge",value:function(r){var o,s,l=Qt(o=this.edges).call(o,r);-1!=l&&As(s=this.edges).call(s,l,1)}},{key:"setOptions",value:function(r){var o=this.options.shape;if(r){if(void 0!==r.color&&(this._localColor=r.color),void 0!==r.id&&(this.id=r.id),void 0===this.id)throw new Error("Node must have an id");return u.checkMass(r,this.id),void 0!==r.x&&(null===r.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=Fn(r.x),this.predefinedPosition=!0)),void 0!==r.y&&(null===r.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=Fn(r.y),this.predefinedPosition=!0)),void 0!==r.size&&(this.baseSize=r.size),void 0!==r.value&&(r.value=$y(r.value)),u.parseOptions(this.options,r,!0,this.globalOptions,this.grouplist),this.chooser=Uy("node",[r,this.options,this.defaultOptions]),this._load_images(),this.updateLabelModule(r),void 0!==r.opacity&&u.checkOpacity(r.opacity)&&(this.options.opacity=r.opacity),this.updateShape(o),void 0!==r.hidden||void 0!==r.physics}}},{key:"_load_images",value:function(){if(("circularImage"===this.options.shape||"image"===this.options.shape)&&void 0===this.options.image)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(void 0!==this.options.image){if(void 0===this.imagelist)throw new Error("Internal Error: No images provided");if("string"==typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.imageObjAlt=void 0!==this.options.image.selected?this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):void 0}}}},{key:"getFormattingValues",value:function(){var r={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?!0===this.chooser?this.selected?(null!=this.options.borderWidthSelected?r.borderWidth=this.options.borderWidthSelected:r.borderWidth*=2,r.color=this.options.color.highlight.background,r.borderColor=this.options.color.highlight.border,r.shadow=this.options.shadow.enabled):this.hover&&(r.color=this.options.color.hover.background,r.borderColor=this.options.color.hover.border,r.shadow=this.options.shadow.enabled):"function"==typeof this.chooser&&(this.chooser(r,this.options.id,this.selected,this.hover),!1===r.shadow&&(r.shadowColor===this.options.shadow.color&&r.shadowSize===this.options.shadow.size&&r.shadowX===this.options.shadow.x&&r.shadowY===this.options.shadow.y||(r.shadow=!0))):r.shadow=this.options.shadow.enabled,void 0!==this.options.opacity){var o=this.options.opacity;r.borderColor=B(r.borderColor,o),r.color=B(r.color,o),r.shadowColor=B(r.shadowColor,o)}return r}},{key:"updateLabelModule",value:function(r){null!=this.options.label||(this.options.label=""),u.updateGroupOptions(this.options,nb(nb({},r),{},{color:r&&r.color||this._localColor||void 0}),this.grouplist);var o=this.grouplist.get(this.options.group,!1);this.labelModule.update(this.options,[r,this.options,o,this.globalOptions,this.defaultOptions]),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(r){if(r===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new F0(this.options,this.body,this.labelModule);break;case"circle":this.shape=new xE(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new IE(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new V0(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new HD(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new OE(this.options,this.body,this.labelModule);break;case"dot":this.shape=new Ne(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new Jy(this.options,this.body,this.labelModule);break;case"icon":this.shape=new AE(this.options,this.body,this.labelModule);break;case"image":this.shape=new js(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new $D(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new B0(this.options,this.body,this.labelModule);break;case"star":this.shape=new NE(this.options,this.body,this.labelModule);break;case"text":this.shape=new Bm(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new tb(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new $0(this.options,this.body,this.labelModule);break;default:this.shape=new Jy(this.options,this.body,this.labelModule)}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(r,o){return this.shape.distanceToBorder(r,o)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(r,o,s){if(void 0!==this.options.value){var l=this.options.scaling.customScalingFunction(r,o,s,this.options.value),d=this.options.scaling.max-this.options.scaling.min;!0===this.options.scaling.label.enabled&&(this.options.font.size=this.options.scaling.label.min+l*(this.options.scaling.label.max-this.options.scaling.label.min)),this.options.size=this.options.scaling.min+l*d}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(r){var o=this.getFormattingValues();return this.shape.draw(r,this.x,this.y,this.selected,this.hover,o)||{}}},{key:"updateBoundingBox",value:function(r){this.shape.updateBoundingBox(this.x,this.y,r)}},{key:"resize",value:function(r){var o=this.getFormattingValues();this.shape.resize(r,this.selected,this.hover,o)}},{key:"getItemsOnPoint",value:function(r){var o=[];return this.labelModule.visible()&&Wy(this.labelModule.getSize(),r)&&o.push({nodeId:this.id,labelId:0}),Wy(this.shape.boundingBox,r)&&o.push({nodeId:this.id}),o}},{key:"isOverlappingWith",value:function(r){return this.shape.left<r.right&&this.shape.left+this.shape.width>r.left&&this.shape.top<r.bottom&&this.shape.top+this.shape.height>r.top}},{key:"isBoundingBoxOverlappingWith",value:function(r){return this.shape.boundingBox.left<r.right&&this.shape.boundingBox.right>r.left&&this.shape.boundingBox.top<r.bottom&&this.shape.boundingBox.bottom>r.top}}],[{key:"checkOpacity",value:function(r){return 0<=r&&r<=1}},{key:"checkCoordinateOrigin",value:function(r){return void 0===r||"center"===r||"top-left"===r}},{key:"updateGroupOptions",value:function(r,o,s){var l;if(void 0!==s){var d=r.group;if(void 0!==o&&void 0!==o.group&&d!==o.group)throw new Error("updateGroupOptions: group values in options don't match.");if("number"==typeof d||"string"==typeof d&&""!=d){var f=s.get(d);void 0!==f.opacity&&void 0===o.opacity&&(u.checkOpacity(f.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+f.opacity),f.opacity=void 0));var m=it(l=function(u){return x0.getOwnPropertyNames(u)}(o)).call(l,function(b){return null!=o[b]});m.push("font"),p(m,r,f),r.color=q(r.color)}}}},{key:"parseOptions",value:function(r,o){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},d=arguments.length>4?arguments[4]:void 0;if(p(["color","fixed","shadow"],r,o,s),u.checkMass(o),void 0!==r.opacity&&(u.checkOpacity(r.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+r.opacity),r.opacity=void 0)),void 0!==o.opacity&&(u.checkOpacity(o.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+o.opacity),o.opacity=void 0)),o.shapeProperties&&!u.checkCoordinateOrigin(o.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+o.shapeProperties.coordinateOrigin),je(r,o,"shadow",l),null!=o.color){var m=q(o.color);Pv(r.color,m)}else!0===s&&null===o.color&&(r.color=_t(l.color));null!=o.fixed&&("boolean"==typeof o.fixed?(r.fixed.x=o.fixed,r.fixed.y=o.fixed):(void 0!==o.fixed.x&&"boolean"==typeof o.fixed.x&&(r.fixed.x=o.fixed.x),void 0!==o.fixed.y&&"boolean"==typeof o.fixed.y&&(r.fixed.y=o.fixed.y))),!0===s&&null===o.font&&(r.font=_t(l.font)),u.updateGroupOptions(r,o,d),void 0!==o.scaling&&je(r.scaling,o.scaling,"label",l.scaling)}},{key:"checkMass",value:function(r,o){if(void 0!==r.mass&&r.mass<=0){var s="";void 0!==o&&(s=" in node id: "+o),console.error("%cNegative or zero mass disallowed"+s+", setting mass to 1.",fd),r.mass=1}}}]),u}();function W0(u,r){(null==r||r>u.length)&&(r=u.length);for(var o=0,s=new Array(r);o<r;o++)s[o]=u[o];return s}var RE=function(){function u(r,o,s,l){var d,f=this;if(ke(this,u),this.body=r,this.images=o,this.groups=s,this.layoutEngine=l,this.body.functions.createNode=he(d=this.create).call(d,this),this.nodesListeners={add:function(m,b){f.add(b.items)},update:function(m,b){f.update(b.items,b.data,b.oldData)},remove:function(m,b){f.remove(b.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(m,b,I,A){return b===m?.5:Math.max(0,1/(b-m)*(A-m))}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=_t(this.defaultOptions),this.bindEventListeners()}return Te(u,[{key:"bindEventListeners",value:function(){var r,o,s=this;this.body.emitter.on("refreshNodes",he(r=this.refresh).call(r,this)),this.body.emitter.on("refresh",he(o=this.refresh).call(o,this)),this.body.emitter.on("destroy",function(){O(s.nodesListeners,function(l,d){s.body.data.nodes&&s.body.data.nodes.off(d,l)}),delete s.body.functions.createNode,delete s.nodesListeners.add,delete s.nodesListeners.update,delete s.nodesListeners.remove,delete s.nodesListeners})}},{key:"setOptions",value:function(r){if(void 0!==r){if(Bs.parseOptions(this.options,r),void 0!==r.opacity&&(Mh(r.opacity)||!cu(r.opacity)||r.opacity<0||r.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+r.opacity):this.options.opacity=r.opacity),void 0!==r.shape)for(var o in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,o)&&this.body.nodes[o].updateShape();if(void 0!==r.font||void 0!==r.widthConstraint||void 0!==r.heightConstraint)for(var s=0,l=sn(this.body.nodes);s<l.length;s++){var d=l[s];this.body.nodes[d].updateLabelModule(),this.body.nodes[d].needsRefresh()}if(void 0!==r.size)for(var f in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,f)&&this.body.nodes[f].needsRefresh();void 0===r.hidden&&void 0===r.physics||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(r){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=this.body.data.nodes;if(tn.isDataViewLike("id",r))this.body.data.nodes=r;else if(Rt(r))this.body.data.nodes=new tn.DataSet,this.body.data.nodes.add(r);else{if(r)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new tn.DataSet}if(s&&O(this.nodesListeners,function(f,m){s.off(m,f)}),this.body.nodes={},this.body.data.nodes){var l=this;O(this.nodesListeners,function(f,m){l.body.data.nodes.on(m,f)});var d=this.body.data.nodes.getIds();this.add(d,!0)}!1===o&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(r){for(var o,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=[],d=0;d<r.length;d++){var f=this.body.data.nodes.get(o=r[d]),m=this.create(f);l.push(m),this.body.nodes[o]=m}this.layoutEngine.positionInitially(l),!1===s&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(r,o,s){for(var l=this.body.nodes,d=!1,f=0;f<r.length;f++){var m=r[f],b=l[m],I=o[f];void 0!==b?b.setOptions(I)&&(d=!0):(d=!0,b=this.create(I),l[m]=b)}d||void 0===s||(d=function(u){var r=u.some;return u===Qf||u instanceof Array&&r===Qf.some?kg:r}(o).call(o,function(A,P){var H=s[P];return H&&H.level!==A.level})),this.body.emitter.emit(!0===d?"_dataChanged":"_dataUpdated")}},{key:"remove",value:function(r){for(var o=this.body.nodes,s=0;s<r.length;s++)delete o[r[s]];this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(r){return new(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bs)(r,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var r=this,o=arguments.length>0&&void 0!==arguments[0]&&arguments[0];O(this.body.nodes,function(s,l){var d=r.body.data.nodes.get(l);void 0!==d&&(!0===o&&s.setOptions({x:null,y:null}),s.setOptions({fixed:!1}),s.setOptions(d))})}},{key:"getPositions",value:function(r){var o={};if(void 0!==r){if(!0===Rt(r)){for(var s=0;s<r.length;s++)if(void 0!==this.body.nodes[r[s]]){var l=this.body.nodes[r[s]];o[r[s]]={x:Math.round(l.x),y:Math.round(l.y)}}}else if(void 0!==this.body.nodes[r]){var d=this.body.nodes[r];o[r]={x:Math.round(d.x),y:Math.round(d.y)}}}else for(var f=0;f<this.body.nodeIndices.length;f++){var m=this.body.nodes[this.body.nodeIndices[f]];o[this.body.nodeIndices[f]]={x:Math.round(m.x),y:Math.round(m.y)}}return o}},{key:"getPosition",value:function(r){if(null==r)throw new TypeError("No id was specified for getPosition method.");if(null==this.body.nodes[r])throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(r));return{x:Math.round(this.body.nodes[r].x),y:Math.round(this.body.nodes[r].y)}}},{key:"storePositions",value:function(){var r,o=[],s=this.body.data.nodes.getDataSet(),l=function(u,r){var o=void 0!==No&&Zo(u)||u["@@iterator"];if(!o){if(Rt(u)||(o=function(b,I){var A;if(b){if("string"==typeof b)return W0(b,I);var P=qt(A=Object.prototype.toString.call(b)).call(A,8,-1);if("Object"===P&&b.constructor&&(P=b.constructor.name),"Map"===P||"Set"===P)return ju(b);if("Arguments"===P||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P))return W0(b,I)}}(u))||r&&u&&"number"==typeof u.length){o&&(u=o);var s=0,l=function(){};return{s:l,n:function(){return s>=u.length?{done:!0}:{done:!1,value:u[s++]}},e:function(b){throw b},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var d,f=!0,m=!1;return{s:function(){o=o.call(u)},n:function(){var b=o.next();return f=b.done,b},e:function(b){m=!0,d=b},f:function(){try{f||null==o.return||o.return()}finally{if(m)throw d}}}}(s.get());try{for(l.s();!(r=l.n()).done;){var d=r.value,f=d.id,m=this.body.nodes[f],b=Math.round(m.x),I=Math.round(m.y);d.x===b&&d.y===I||o.push({id:f,x:b,y:I})}}catch(A){l.e(A)}finally{l.f()}s.update(o)}},{key:"getBoundingBox",value:function(r){if(void 0!==this.body.nodes[r])return this.body.nodes[r].shape.boundingBox}},{key:"getConnectedNodes",value:function(r,o){var s=[];if(void 0!==this.body.nodes[r])for(var l=this.body.nodes[r],d={},f=0;f<l.edges.length;f++){var m=l.edges[f];"to"!==o&&m.toId==l.id?void 0===d[m.fromId]&&(s.push(m.fromId),d[m.fromId]=!0):"from"!==o&&m.fromId==l.id&&void 0===d[m.toId]&&(s.push(m.toId),d[m.toId]=!0)}return s}},{key:"getConnectedEdges",value:function(r){var o=[];if(void 0!==this.body.nodes[r])for(var s=this.body.nodes[r],l=0;l<s.edges.length;l++)o.push(s.edges[l].id);else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",r);return o}},{key:"moveNode",value:function(r,o,s){var l=this;void 0!==this.body.nodes[r]?(this.body.nodes[r].x=Number(o),this.body.nodes[r].y=Number(s),is(function(){l.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",r)}}]),u}(),LE=Tn,VE=Pn,G0=fn,ib=Ve,q0=Ar;dt({target:"Reflect",stat:!0},{get:function u(r,o){var s,l,d=arguments.length<3?r:arguments[2];return VE(r)===d?r[o]:(s=ib.f(r,o))?G0(s,"value")?s.value:void 0===s.get?void 0:s.get.call(d):LE(l=q0(r))?u(l,o,d):void 0}});var ob=kt.Reflect.get,Y0=yf;function sb(u,r,o){return(sb="undefined"!=typeof Reflect&&ob?ob:function(s,l,d){var f=function(b,I){for(;!Object.prototype.hasOwnProperty.call(b,I)&&null!==(b=qe(b)););return b}(s,l);if(f){var m=Y0(f,l);return m.get?m.get.call(d):m.value}})(u,r,o||u)}var ab=Math.hypot,K0=Math.abs,X0=Math.sqrt;dt({target:"Math",stat:!0,forced:!!ab&&ab(1/0,NaN)!==1/0},{hypot:function(u,r){for(var o,s,l=0,d=0,f=arguments.length,m=0;d<f;)m<(o=K0(arguments[d++]))?(l=l*(s=m/o)*s+1,m=o):l+=o>0?(s=o/m)*s:o;return m===1/0?1/0:m*X0(l)}});var UD=kt.Math.hypot;function Z0(u){var r=function(){if("undefined"==typeof Reflect||!pe||pe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pe(Boolean,[],function(){})),!0}catch(o){return!1}}();return function(){var o,s=qe(u);if(r){var l=qe(this).constructor;o=pe(s,arguments,l)}else o=s.apply(this,arguments);return xn(this,o)}}var Xr=function(){function u(){ke(this,u)}return Te(u,null,[{key:"transform",value:function(r,o){Rt(r)||(r=[r]);for(var s=o.point.x,l=o.point.y,d=o.angle,f=o.length,m=0;m<r.length;++m){var b=r[m],I=b.x*Math.cos(d)-b.y*Math.sin(d),A=b.x*Math.sin(d)+b.y*Math.cos(d);b.x=s+f*I,b.y=l+f*A}}},{key:"drawPath",value:function(r,o){r.beginPath(),r.moveTo(o[0].x,o[0].y);for(var s=1;s<o.length;++s)r.lineTo(o[s].x,o[s].y);r.closePath()}}]),u}(),J0=function(u){_n(o,u);var r=Z0(o);function o(){return ke(this,o),r.apply(this,arguments)}return Te(o,null,[{key:"draw",value:function(s,l){if(l.image){s.save(),s.translate(l.point.x,l.point.y),s.rotate(Math.PI/2+l.angle);var d=null!=l.imageWidth?l.imageWidth:l.image.width;l.image.drawImageAtPosition(s,1,-d/2,0,d,null!=l.imageHeight?l.imageHeight:l.image.height),s.restore()}return!1}}]),o}(Xr),jE=function(u){_n(o,u);var r=Z0(o);function o(){return ke(this,o),r.apply(this,arguments)}return Te(o,null,[{key:"draw",value:function(s,l){var d=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return Xr.transform(d,l),Xr.drawPath(s,d),!0}}]),o}(Xr),wi=function(){function u(){ke(this,u)}return Te(u,null,[{key:"draw",value:function(r,o){var s=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return Xr.transform(s,o),Xr.drawPath(r,s),!0}}]),u}(),e_=function(){function u(){ke(this,u)}return Te(u,null,[{key:"draw",value:function(r,o){var s={x:-.4,y:0};Xr.transform(s,o),r.strokeStyle=r.fillStyle,r.fillStyle="rgba(0, 0, 0, 0)";var l=Math.PI,d=o.angle-l/2,f=o.angle+l/2;return r.beginPath(),r.arc(s.x,s.y,.4*o.length,d,f,!1),r.stroke(),!0}}]),u}(),BE=function(){function u(){ke(this,u)}return Te(u,null,[{key:"draw",value:function(r,o){var s={x:-.3,y:0};Xr.transform(s,o),r.strokeStyle=r.fillStyle,r.fillStyle="rgba(0, 0, 0, 0)";var l=Math.PI,d=o.angle+l/2,f=o.angle+3*l/2;return r.beginPath(),r.arc(s.x,s.y,.4*o.length,d,f,!1),r.stroke(),!0}}]),u}(),HE=function(){function u(){ke(this,u)}return Te(u,null,[{key:"draw",value:function(r,o){var s=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return Xr.transform(s,o),Xr.drawPath(r,s),!0}}]),u}(),t_=function(){function u(){ke(this,u)}return Te(u,null,[{key:"draw",value:function(r,o){var s=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return Xr.transform(s,o),Xr.drawPath(r,s),!0}}]),u}(),zE=function(){function u(){ke(this,u)}return Te(u,null,[{key:"draw",value:function(r,o){var s={x:-.4,y:0};return Xr.transform(s,o),vn(r,s.x,s.y,.4*o.length),!0}}]),u}(),n_=function(){function u(){ke(this,u)}return Te(u,null,[{key:"draw",value:function(r,o){var s=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return Xr.transform(s,o),Xr.drawPath(r,s),!0}}]),u}(),r_=function(){function u(){ke(this,u)}return Te(u,null,[{key:"draw",value:function(r,o){var s=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return Xr.transform(s,o),Xr.drawPath(r,s),!0}}]),u}(),Og=function(){function u(){ke(this,u)}return Te(u,null,[{key:"draw",value:function(r,o){var s=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return Xr.transform(s,o),Xr.drawPath(r,s),!0}}]),u}(),$E=function(){function u(){ke(this,u)}return Te(u,null,[{key:"draw",value:function(r,o){var s=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return Xr.transform(s,o),Xr.drawPath(r,s),!0}}]),u}(),i_=function(){function u(){ke(this,u)}return Te(u,null,[{key:"draw",value:function(r,o){var s;switch(o.type&&(s=o.type.toLowerCase()),s){case"image":return J0.draw(r,o);case"circle":return zE.draw(r,o);case"box":return r_.draw(r,o);case"crow":return wi.draw(r,o);case"curve":return e_.draw(r,o);case"diamond":return Og.draw(r,o);case"inv_curve":return BE.draw(r,o);case"triangle":return HE.draw(r,o);case"inv_triangle":return t_.draw(r,o);case"bar":return n_.draw(r,o);case"vee":return $E.draw(r,o);case"arrow":default:return jE.draw(r,o)}}}]),u}();function ub(u,r){var o=sn(u);if(Pi){var s=Pi(u);r&&(s=it(s).call(s,function(l){return io(u,l).enumerable})),o.push.apply(o,s)}return o}function o_(u){for(var r=1;r<arguments.length;r++){var o,s=null!=arguments[r]?arguments[r]:{};if(r%2)en(o=ub(Object(s),!0)).call(o,function(d){Vl(u,d,s[d])});else if(Qa)Kc(u,Qa(s));else{var l;en(l=ub(Object(s))).call(l,function(d){ks(u,d,io(s,d))})}}return u}var lb=function(){function u(r,o,s){ke(this,u),this._body=o,this._labelModule=s,this.color={},this.colorDirty=!0,this.hoverWidth=1.5,this.selectionWidth=2,this.setOptions(r),this.fromPoint=this.from,this.toPoint=this.to}return Te(u,[{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(r){this.options=r,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(r,o,s,l){var d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.getViaNode();r.strokeStyle=this.getColor(r,o),r.lineWidth=o.width,!1!==o.dashes?this._drawDashedLine(r,o,d):this._drawLine(r,o,d)}},{key:"_drawLine",value:function(r,o,s,l,d){if(this.from!=this.to)this._line(r,o,s,l,d);else{var f=Nn(this._getCircleData(r),3);this._circle(r,o,f[0],f[1],f[2])}}},{key:"_drawDashedLine",value:function(r,o,s,l,d){r.lineCap="round";var f=Rt(o.dashes)?o.dashes:[5,5];if(void 0!==r.setLineDash){if(r.save(),r.setLineDash(f),r.lineDashOffset=0,this.from!=this.to)this._line(r,o,s);else{var m=Nn(this._getCircleData(r),3);this._circle(r,o,m[0],m[1],m[2])}r.setLineDash([0]),r.lineDashOffset=0,r.restore()}else{if(this.from!=this.to)qo(r,this.from.x,this.from.y,this.to.x,this.to.y,f);else{var P=Nn(this._getCircleData(r),3);this._circle(r,o,P[0],P[1],P[2])}this.enableShadow(r,o),r.stroke(),this.disableShadow(r,o)}}},{key:"findBorderPosition",value:function(r,o,s){return this.from!=this.to?this._findBorderPosition(r,o,s):this._findBorderPositionCircle(r,o,s)}},{key:"findBorderPositions",value:function(r){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,r),to:this._findBorderPosition(this.to,r)};var o,s=Nn(qt(o=this._getCircleData(r)).call(o,0,2),2),l=s[0],d=s[1];return{from:this._findBorderPositionCircle(this.from,r,{x:l,y:d,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,r,{x:l,y:d,low:.6,high:.8,direction:1})}}},{key:"_getCircleData",value:function(r){var o=this.options.selfReference.size;void 0!==r&&void 0===this.from.shape.width&&this.from.shape.resize(r);var s=Gy(r,this.options.selfReference.angle,o,this.from);return[s.x,s.y,o]}},{key:"_pointOnCircle",value:function(r,o,s,l){var d=2*l*Math.PI;return{x:r+s*Math.cos(d),y:o-s*Math.sin(d)}}},{key:"_findBorderPositionCircle",value:function(r,o,s){var l,d=s.x,f=s.y,m=s.low,b=s.high,I=s.direction,A=this.options.selfReference.size,P=.5*(m+b),H=0;!0===this.options.arrowStrikethrough&&(-1===I?H=this.options.endPointOffset.from:1===I&&(H=this.options.endPointOffset.to));var U=0;do{l=this._pointOnCircle(d,f,A,P=.5*(m+b));var W=Math.atan2(r.y-l.y,r.x-l.x),K=r.distanceToBorder(o,W)+H-Math.sqrt(Math.pow(l.x-r.x,2)+Math.pow(l.y-r.y,2));if(Math.abs(K)<.05)break;K>0?I>0?m=P:b=P:I>0?b=P:m=P,++U}while(m<=b&&U<10);return o_(o_({},l),{},{t:P})}},{key:"getLineWidth",value:function(r,o){return!0===r?Math.max(this.selectionWidth,.3/this._body.view.scale):!0===o?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}},{key:"getColor",value:function(r,o){if(!1!==o.inheritsColor){if("both"===o.inheritsColor&&this.from.id!==this.to.id){var s=r.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),l=this.from.options.color.highlight.border,d=this.to.options.color.highlight.border;return!1===this.from.selected&&!1===this.to.selected?(l=B(this.from.options.color.border,o.opacity),d=B(this.to.options.color.border,o.opacity)):!0===this.from.selected&&!1===this.to.selected?d=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(l=this.from.options.color.border),s.addColorStop(0,l),s.addColorStop(1,d),s}return B("to"===o.inheritsColor?this.to.options.color.border:this.from.options.color.border,o.opacity)}return B(o.color,o.opacity)}},{key:"_circle",value:function(r,o,s,l,d){this.enableShadow(r,o);var f=0,m=2*Math.PI;if(!this.options.selfReference.renderBehindTheNode){var b=this.options.selfReference.angle,I=this.options.selfReference.angle+Math.PI,A=this._findBorderPositionCircle(this.from,r,{x:s,y:l,low:b,high:I,direction:-1}),P=this._findBorderPositionCircle(this.from,r,{x:s,y:l,low:b,high:I,direction:1});f=Math.atan2(A.y-l,A.x-s),m=Math.atan2(P.y-l,P.x-s)}r.beginPath(),r.arc(s,l,d,f,m,!1),r.stroke(),this.disableShadow(r,o)}},{key:"getDistanceToEdge",value:function(r,o,s,l,d,f){if(this.from!=this.to)return this._getDistanceToEdge(r,o,s,l,d,f);var m=Nn(this._getCircleData(void 0),3),A=m[2],P=m[0]-d,H=m[1]-f;return Math.abs(Math.sqrt(P*P+H*H)-A)}},{key:"_getDistanceToLine",value:function(r,o,s,l,d,f){var m=s-r,b=l-o,I=((d-r)*m+(f-o)*b)/(m*m+b*b);I>1?I=1:I<0&&(I=0);var A=r+I*m-d,P=o+I*b-f;return Math.sqrt(A*A+P*P)}},{key:"getArrowData",value:function(r,o,s,l,d,f){var m,b,I,A,P,H,U,W=f.width;"from"===o?(I=this.from,A=this.to,P=f.fromArrowScale<0,H=Math.abs(f.fromArrowScale),U=f.fromArrowType):"to"===o?(I=this.to,A=this.from,P=f.toArrowScale<0,H=Math.abs(f.toArrowScale),U=f.toArrowType):(I=this.to,A=this.from,P=f.middleArrowScale<0,H=Math.abs(f.middleArrowScale),U=f.middleArrowType);var K=15*H+3*W;if(I!=A){var oe=K/UD(I.x-A.x,I.y-A.y);if("middle"!==o)if(!0===this.options.smooth.enabled){var Z=this._findBorderPosition(I,r,{via:s}),ee=this.getPoint(Z.t+oe*("from"===o?1:-1),s);m=Math.atan2(Z.y-ee.y,Z.x-ee.x),b=Z}else m=Math.atan2(I.y-A.y,I.x-A.x),b=this._findBorderPosition(I,r);else{var ae=(P?-oe:oe)/2,ve=this.getPoint(.5+ae,s),ce=this.getPoint(.5-ae,s);m=Math.atan2(ve.y-ce.y,ve.x-ce.x),b=this.getPoint(.5,s)}}else{var Me=Nn(this._getCircleData(r),3),le=Me[0],me=Me[1],te=Me[2];if("from"===o){var ht=this.options.selfReference.angle+Math.PI,Be=this._findBorderPositionCircle(this.from,r,{x:le,y:me,low:this.options.selfReference.angle,high:ht,direction:-1});m=-2*Be.t*Math.PI+1.5*Math.PI+.1*Math.PI,b=Be}else if("to"===o){var Nt=this.options.selfReference.angle+Math.PI,jt=this._findBorderPositionCircle(this.from,r,{x:le,y:me,low:this.options.selfReference.angle,high:Nt,direction:1});m=-2*jt.t*Math.PI+1.5*Math.PI-1.1*Math.PI,b=jt}else{var un=this.options.selfReference.angle/(2*Math.PI);b=this._pointOnCircle(le,me,te,un),m=-2*un*Math.PI+1.5*Math.PI+.1*Math.PI}}return{point:b,core:{x:b.x-.9*K*Math.cos(m),y:b.y-.9*K*Math.sin(m)},angle:m,length:K,type:U}}},{key:"drawArrowHead",value:function(r,o,s,l,d){r.strokeStyle=this.getColor(r,o),r.fillStyle=r.strokeStyle,r.lineWidth=o.width,i_.draw(r,d)&&(this.enableShadow(r,o),Lf(r).call(r),this.disableShadow(r,o))}},{key:"enableShadow",value:function(r,o){!0===o.shadow&&(r.shadowColor=o.shadowColor,r.shadowBlur=o.shadowSize,r.shadowOffsetX=o.shadowX,r.shadowOffsetY=o.shadowY)}},{key:"disableShadow",value:function(r,o){!0===o.shadow&&(r.shadowColor="rgba(0,0,0,0)",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0)}},{key:"drawBackground",value:function(r,o){if(!1!==o.background){var s={strokeStyle:r.strokeStyle,lineWidth:r.lineWidth,dashes:r.dashes};r.strokeStyle=o.backgroundColor,r.lineWidth=o.backgroundSize,this.setStrokeDashed(r,o.backgroundDashes),r.stroke(),r.strokeStyle=s.strokeStyle,r.lineWidth=s.lineWidth,r.dashes=s.dashes,this.setStrokeDashed(r,o.dashes)}}},{key:"setStrokeDashed",value:function(r,o){if(!1!==o)if(void 0!==r.setLineDash){var s=Rt(o)?o:[5,5];r.setLineDash(s)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else void 0!==r.setLineDash?r.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}]),u}();function UE(u,r){var o=sn(u);if(Pi){var s=Pi(u);r&&(s=it(s).call(s,function(l){return io(u,l).enumerable})),o.push.apply(o,s)}return o}function cb(u){for(var r=1;r<arguments.length;r++){var o,s=null!=arguments[r]?arguments[r]:{};if(r%2)en(o=UE(Object(s),!0)).call(o,function(d){Vl(u,d,s[d])});else if(Qa)Kc(u,Qa(s));else{var l;en(l=UE(Object(s))).call(l,function(d){ks(u,d,io(s,d))})}}return u}var du=function(u){_n(o,u);var r=function(u){var r=function(){if("undefined"==typeof Reflect||!pe||pe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pe(Boolean,[],function(){})),!0}catch(o){return!1}}();return function(){var o,s=qe(u);if(r){var l=qe(this).constructor;o=pe(s,arguments,l)}else o=s.apply(this,arguments);return xn(this,o)}}(o);function o(s,l,d){return ke(this,o),r.call(this,s,l,d)}return Te(o,[{key:"_findBorderPositionBezier",value:function(s,l){var d,f,m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),b=10,I=.2,A=!1,P=1,H=0,U=this.to,W=this.options.endPointOffset?this.options.endPointOffset.to:0;s.id===this.from.id&&(U=this.from,A=!0,W=this.options.endPointOffset?this.options.endPointOffset.from:0),!1===this.options.arrowStrikethrough&&(W=0);var K=0;do{d=this.getPoint(f=.5*(H+P),m);var oe=Math.atan2(U.y-d.y,U.x-d.x),ae=U.distanceToBorder(l,oe)+W-Math.sqrt(Math.pow(d.x-U.x,2)+Math.pow(d.y-U.y,2));if(Math.abs(ae)<I)break;ae<0?!1===A?H=f:P=f:!1===A?P=f:H=f,++K}while(H<=P&&K<b);return cb(cb({},d),{},{t:f})}},{key:"_getDistanceToBezierEdge",value:function(s,l,d,f,m,b,I){var A,P,H,U,W,K=1e9,oe=s,Z=l;for(P=1;P<10;P++)H=.1*P,U=Math.pow(1-H,2)*s+2*H*(1-H)*I.x+Math.pow(H,2)*d,W=Math.pow(1-H,2)*l+2*H*(1-H)*I.y+Math.pow(H,2)*f,P>0&&(K=(A=this._getDistanceToLine(oe,Z,U,W,m,b))<K?A:K),oe=U,Z=W;return K}},{key:"_bezierCurve",value:function(s,l,d,f){s.beginPath(),s.moveTo(this.fromPoint.x,this.fromPoint.y),null!=d&&null!=d.x?null!=f&&null!=f.x?s.bezierCurveTo(d.x,d.y,f.x,f.y,this.toPoint.x,this.toPoint.y):s.quadraticCurveTo(d.x,d.y,this.toPoint.x,this.toPoint.y):s.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(s,l),this.enableShadow(s,l),s.stroke(),this.disableShadow(s,l)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),o}(lb);var s_=function(u){_n(o,u);var r=function(u){var r=function(){if("undefined"==typeof Reflect||!pe||pe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pe(Boolean,[],function(){})),!0}catch(o){return!1}}();return function(){var o,s=qe(u);if(r){var l=qe(this).constructor;o=pe(s,arguments,l)}else o=s.apply(this,arguments);return xn(this,o)}}(o);function o(s,l,d){var f;return ke(this,o),(f=r.call(this,s,l,d)).via=f.via,f._boundFunction=function(){f.positionBezierNode()},f._body.emitter.on("_repositionBezierNodes",f._boundFunction),f}return Te(o,[{key:"setOptions",value:function(s){sb(qe(o.prototype),"setOptions",this).call(this,s);var l=!1;this.options.physics!==s.physics&&(l=!0),this.options=s,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),!0===l&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.via.setOptions(void 0===this.from||void 0===this.to||!1===this.options.physics||this.from.id===this.to.id?{physics:!1}:{physics:!0})}},{key:"cleanup",value:function(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this._body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var s="edgeId:"+this.id,l=this._body.functions.createNode({id:s,shape:"circle",physics:!0,hidden:!0});this._body.nodes[s]=l,this.via=l,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(s,l,d){this._bezierCurve(s,l,d)}},{key:"_getViaCoordinates",value:function(){return this.via}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(s){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.via;if(this.from===this.to){var f=Nn(this._getCircleData(),3),b=f[1],I=f[2],A=2*Math.PI*(1-s);return{x:f[0]+I*Math.sin(A),y:b+I-I*(1-Math.cos(A))}}return{x:Math.pow(1-s,2)*this.fromPoint.x+2*s*(1-s)*l.x+Math.pow(s,2)*this.toPoint.x,y:Math.pow(1-s,2)*this.fromPoint.y+2*s*(1-s)*l.y+Math.pow(s,2)*this.toPoint.y}}},{key:"_findBorderPosition",value:function(s,l){return this._findBorderPositionBezier(s,l,this.via)}},{key:"_getDistanceToEdge",value:function(s,l,d,f,m,b){return this._getDistanceToBezierEdge(s,l,d,f,m,b,this.via)}}]),o}(du);var hu=function(u){_n(o,u);var r=function(u){var r=function(){if("undefined"==typeof Reflect||!pe||pe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pe(Boolean,[],function(){})),!0}catch(o){return!1}}();return function(){var o,s=qe(u);if(r){var l=qe(this).constructor;o=pe(s,arguments,l)}else o=s.apply(this,arguments);return xn(this,o)}}(o);function o(s,l,d){return ke(this,o),r.call(this,s,l,d)}return Te(o,[{key:"_line",value:function(s,l,d){this._bezierCurve(s,l,d)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var s,l,d=this.options.smooth.roundness,f=this.options.smooth.type,m=Math.abs(this.from.x-this.to.x),b=Math.abs(this.from.y-this.to.y);if("discrete"===f||"diagonalCross"===f){var I,A;I=A=m<=b?d*b:d*m,this.from.x>this.to.x&&(I=-I),this.from.y>=this.to.y&&(A=-A);var P=this.from.x+I,H=this.from.y+A;return"discrete"===f&&(m<=b?P=m<d*b?this.from.x:P:H=b<d*m?this.from.y:H),{x:P,y:H}}if("straightCross"===f){var U=(1-d)*m,W=(1-d)*b;return m<=b?(U=0,this.from.y<this.to.y&&(W=-W)):(this.from.x<this.to.x&&(U=-U),W=0),{x:this.to.x+U,y:this.to.y+W}}if("horizontal"===f){var K=(1-d)*m;return this.from.x<this.to.x&&(K=-K),{x:this.to.x+K,y:this.from.y}}if("vertical"===f){var oe=(1-d)*b;return this.from.y<this.to.y&&(oe=-oe),{x:this.from.x,y:this.to.y+oe}}if("curvedCW"===f){m=this.to.x-this.from.x,b=this.from.y-this.to.y;var Z=Math.sqrt(m*m+b*b),ee=Math.PI,ae=(Math.atan2(b,m)+(.5*d+.5)*ee)%(2*ee);return{x:this.from.x+(.5*d+.5)*Z*Math.sin(ae),y:this.from.y+(.5*d+.5)*Z*Math.cos(ae)}}if("curvedCCW"===f){m=this.to.x-this.from.x,b=this.from.y-this.to.y;var ve=Math.sqrt(m*m+b*b),ce=Math.PI,Me=(Math.atan2(b,m)+(.5*-d+.5)*ce)%(2*ce);return{x:this.from.x+(.5*d+.5)*ve*Math.sin(Me),y:this.from.y+(.5*d+.5)*ve*Math.cos(Me)}}s=l=m<=b?d*b:d*m,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(l=-l);var le=this.from.x+s,me=this.from.y+l;return m<=b?le=this.from.x<=this.to.x?this.to.x<le?this.to.x:le:this.to.x>le?this.to.x:le:me=this.from.y>=this.to.y?this.to.y>me?this.to.y:me:this.to.y<me?this.to.y:me,{x:le,y:me}}},{key:"_findBorderPosition",value:function(s,l){return this._findBorderPositionBezier(s,l,(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).via)}},{key:"_getDistanceToEdge",value:function(s,l,d,f,m,b){var I=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(s,l,d,f,m,b,I)}},{key:"getPoint",value:function(s){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),d=s;return{x:Math.pow(1-d,2)*this.fromPoint.x+2*d*(1-d)*l.x+Math.pow(d,2)*this.toPoint.x,y:Math.pow(1-d,2)*this.fromPoint.y+2*d*(1-d)*l.y+Math.pow(d,2)*this.toPoint.y}}}]),o}(du);var db=function(u){_n(o,u);var r=function(u){var r=function(){if("undefined"==typeof Reflect||!pe||pe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pe(Boolean,[],function(){})),!0}catch(o){return!1}}();return function(){var o,s=qe(u);if(r){var l=qe(this).constructor;o=pe(s,arguments,l)}else o=s.apply(this,arguments);return xn(this,o)}}(o);function o(s,l,d){return ke(this,o),r.call(this,s,l,d)}return Te(o,[{key:"_line",value:function(s,l,d){this._bezierCurve(s,l,d[0],d[1])}},{key:"_getViaCoordinates",value:function(){var s,l,d,f,m=this.from.x-this.to.x,b=this.from.y-this.to.y,I=this.options.smooth.roundness;return(Math.abs(m)>Math.abs(b)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(l=this.from.y,f=this.to.y,s=this.from.x-I*m,d=this.to.x+I*m):(l=this.from.y-I*b,f=this.to.y+I*b,s=this.from.x,d=this.to.x),[{x:s,y:l},{x:d,y:f}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(s,l){return this._findBorderPositionBezier(s,l)}},{key:"_getDistanceToEdge",value:function(s,l,d,f,m,b){var A=Nn(arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates(),2);return this._getDistanceToBezierEdge2(s,l,d,f,m,b,A[0],A[1])}},{key:"getPoint",value:function(s){var d=Nn(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),2),f=d[0],m=d[1],b=s,I=[Math.pow(1-b,3),3*b*Math.pow(1-b,2),3*Math.pow(b,2)*(1-b),Math.pow(b,3)];return{x:I[0]*this.fromPoint.x+I[1]*f.x+I[2]*m.x+I[3]*this.toPoint.x,y:I[0]*this.fromPoint.y+I[1]*f.y+I[2]*m.y+I[3]*this.toPoint.y}}}]),o}(function(u){_n(o,u);var r=function(u){var r=function(){if("undefined"==typeof Reflect||!pe||pe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pe(Boolean,[],function(){})),!0}catch(o){return!1}}();return function(){var o,s=qe(u);if(r){var l=qe(this).constructor;o=pe(s,arguments,l)}else o=s.apply(this,arguments);return xn(this,o)}}(o);function o(s,l,d){return ke(this,o),r.call(this,s,l,d)}return Te(o,[{key:"_getDistanceToBezierEdge2",value:function(s,l,d,f,m,b,I,A){for(var P=1e9,H=s,U=l,W=[0,0,0,0],K=1;K<10;K++){var oe=.1*K;W[0]=Math.pow(1-oe,3),W[1]=3*oe*Math.pow(1-oe,2),W[2]=3*Math.pow(oe,2)*(1-oe),W[3]=Math.pow(oe,3);var Z=W[0]*s+W[1]*I.x+W[2]*A.x+W[3]*d,ee=W[0]*l+W[1]*I.y+W[2]*A.y+W[3]*f;if(K>0){var ae=this._getDistanceToLine(H,U,Z,ee,m,b);P=ae<P?ae:P}H=Z,U=ee}return P}}]),o}(du));var u_=function(u){_n(o,u);var r=function(u){var r=function(){if("undefined"==typeof Reflect||!pe||pe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pe(Boolean,[],function(){})),!0}catch(o){return!1}}();return function(){var o,s=qe(u);if(r){var l=qe(this).constructor;o=pe(s,arguments,l)}else o=s.apply(this,arguments);return xn(this,o)}}(o);function o(s,l,d){return ke(this,o),r.call(this,s,l,d)}return Te(o,[{key:"_line",value:function(s,l){s.beginPath(),s.moveTo(this.fromPoint.x,this.fromPoint.y),s.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(s,l),s.stroke(),this.disableShadow(s,l)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(s){return{x:(1-s)*this.fromPoint.x+s*this.toPoint.x,y:(1-s)*this.fromPoint.y+s*this.toPoint.y}}},{key:"_findBorderPosition",value:function(s,l){var d=this.to,f=this.from;s.id===this.from.id&&(d=this.from,f=this.to);var m=Math.atan2(d.y-f.y,d.x-f.x),b=d.x-f.x,I=d.y-f.y,A=Math.sqrt(b*b+I*I),P=(A-s.distanceToBorder(l,m))/A;return{x:(1-P)*f.x+P*d.x,y:(1-P)*f.y+P*d.y,t:0}}},{key:"_getDistanceToEdge",value:function(s,l,d,f,m,b){return this._getDistanceToLine(s,l,d,f,m,b)}}]),o}(lb),Mg=function(){function u(r,o,s,l,d){if(ke(this,u),void 0===o)throw new Error("No body provided");this.options=_t(l),this.globalOptions=l,this.defaultOptions=d,this.body=o,this.imagelist=s,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new qy(this.body,this.options,!0),this.setOptions(r)}return Te(u,[{key:"setOptions",value:function(r){if(r){var o=void 0!==r.physics&&this.options.physics!==r.physics||void 0!==r.hidden&&(this.options.hidden||!1)!==(r.hidden||!1)||void 0!==r.from&&this.options.from!==r.from||void 0!==r.to&&this.options.to!==r.to;return u.parseOptions(this.options,r,!0,this.globalOptions),void 0!==r.id&&(this.id=r.id),void 0!==r.from&&(this.fromId=r.from),void 0!==r.to&&(this.toId=r.to),void 0!==r.title&&(this.title=r.title),void 0!==r.value&&(r.value=$y(r.value)),this.chooser=Uy("edge",[r,this.options,this.defaultOptions]),this.updateLabelModule(r),o=this.updateEdgeType()||o,this._setInteractionWidths(),this.connect(),o}}},{key:"getFormattingValues",value:function(){var l=this.options.color.inherit,d={toArrow:!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:l?void 0:this.options.color.color,inheritsColor:l,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(!0===this.chooser){if(this.selected){var f=this.options.selectionWidth;"function"==typeof f?d.width=f(d.width):"number"==typeof f&&(d.width+=f),d.width=Math.max(d.width,.3/this.body.view.scale),d.color=this.options.color.highlight,d.shadow=this.options.shadow.enabled}else if(this.hover){var m=this.options.hoverWidth;"function"==typeof m?d.width=m(d.width):"number"==typeof m&&(d.width+=m),d.width=Math.max(d.width,.3/this.body.view.scale),d.color=this.options.color.hover,d.shadow=this.options.shadow.enabled}}else"function"==typeof this.chooser&&(this.chooser(d,this.options.id,this.selected,this.hover),void 0!==d.color&&(d.inheritsColor=!1),!1===d.shadow&&(d.shadowColor===this.options.shadow.color&&d.shadowSize===this.options.shadow.size&&d.shadowX===this.options.shadow.x&&d.shadowY===this.options.shadow.y||(d.shadow=!0)));else d.shadow=this.options.shadow.enabled,d.width=Math.max(d.width,.3/this.body.view.scale);return d}},{key:"updateLabelModule",value:function(r){this.labelModule.update(this.options,[r,this.options,this.globalOptions,this.defaultOptions]),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var r=this.options.smooth,o=!1,s=!0;return void 0!==this.edgeType&&((this.edgeType instanceof s_&&!0===r.enabled&&"dynamic"===r.type||this.edgeType instanceof db&&!0===r.enabled&&"cubicBezier"===r.type||this.edgeType instanceof hu&&!0===r.enabled&&"dynamic"!==r.type&&"cubicBezier"!==r.type||this.edgeType instanceof u_&&!1===r.type.enabled)&&(s=!1),!0===s&&(o=this.cleanup())),!0===s?!0===r.enabled?"dynamic"===r.type?(o=!0,this.edgeType=new s_(this.options,this.body,this.labelModule)):this.edgeType="cubicBezier"===r.type?new db(this.options,this.body,this.labelModule):new hu(this.options,this.body,this.labelModule):this.edgeType=new u_(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),o}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(r,o,s){if(void 0!==this.options.value){var l=this.options.scaling.customScalingFunction(r,o,s,this.options.value),d=this.options.scaling.max-this.options.scaling.min;!0===this.options.scaling.label.enabled&&(this.options.font.size=this.options.scaling.label.min+l*(this.options.scaling.label.max-this.options.scaling.label.min)),this.options.width=this.options.scaling.min+l*d}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){this.edgeType.hoverWidth="function"==typeof this.options.hoverWidth?this.options.hoverWidth(this.options.width):this.options.hoverWidth+this.options.width,this.edgeType.selectionWidth="function"==typeof this.options.selectionWidth?this.options.selectionWidth(this.options.width):this.options.selectionWidth+this.options.width}},{key:"draw",value:function(r){var o=this.getFormattingValues();if(!o.hidden){var s=this.edgeType.getViaNode();this.edgeType.drawLine(r,o,this.selected,this.hover,s),this.drawLabel(r,s)}}},{key:"drawArrows",value:function(r){var o=this.getFormattingValues();if(!o.hidden){var s=this.edgeType.getViaNode(),l={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,o.fromArrow&&(l.from=this.edgeType.getArrowData(r,"from",s,this.selected,this.hover,o),!1===o.arrowStrikethrough&&(this.edgeType.fromPoint=l.from.core),o.fromArrowSrc&&(l.from.image=this.imagelist.load(o.fromArrowSrc)),o.fromArrowImageWidth&&(l.from.imageWidth=o.fromArrowImageWidth),o.fromArrowImageHeight&&(l.from.imageHeight=o.fromArrowImageHeight)),o.toArrow&&(l.to=this.edgeType.getArrowData(r,"to",s,this.selected,this.hover,o),!1===o.arrowStrikethrough&&(this.edgeType.toPoint=l.to.core),o.toArrowSrc&&(l.to.image=this.imagelist.load(o.toArrowSrc)),o.toArrowImageWidth&&(l.to.imageWidth=o.toArrowImageWidth),o.toArrowImageHeight&&(l.to.imageHeight=o.toArrowImageHeight)),o.middleArrow&&(l.middle=this.edgeType.getArrowData(r,"middle",s,this.selected,this.hover,o),o.middleArrowSrc&&(l.middle.image=this.imagelist.load(o.middleArrowSrc)),o.middleArrowImageWidth&&(l.middle.imageWidth=o.middleArrowImageWidth),o.middleArrowImageHeight&&(l.middle.imageHeight=o.middleArrowImageHeight)),o.fromArrow&&this.edgeType.drawArrowHead(r,o,this.selected,this.hover,l.from),o.middleArrow&&this.edgeType.drawArrowHead(r,o,this.selected,this.hover,l.middle),o.toArrow&&this.edgeType.drawArrowHead(r,o,this.selected,this.hover,l.to)}}},{key:"drawLabel",value:function(r,o){if(void 0!==this.options.label){var s,l=this.from,d=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(r,this.selected,this.hover),l.id!=d.id){this.labelModule.pointToSelf=!1,s=this.edgeType.getPoint(.5,o),r.save();var f=this._getRotation(r);0!=f.angle&&(r.translate(f.x,f.y),r.rotate(f.angle)),this.labelModule.draw(r,s.x,s.y,this.selected,this.hover),r.restore()}else{this.labelModule.pointToSelf=!0;var m=Gy(r,this.options.selfReference.angle,this.options.selfReference.size,l);s=this._pointOnCircle(m.x,m.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(r,s.x,s.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(r){var o=[];if(this.labelModule.visible()){var s=this._getRotation();Wy(this.labelModule.getSize(),r,s)&&o.push({edgeId:this.id,labelId:0})}return this.isOverlappingWith({left:r.x,top:r.y})&&o.push({edgeId:this.id}),o}},{key:"isOverlappingWith",value:function(r){return!!this.connected&&this.edgeType.getDistanceToEdge(this.from.x,this.from.y,this.to.x,this.to.y,r.left,r.top)<10}},{key:"_getRotation",value:function(r){var o=this.edgeType.getViaNode(),s=this.edgeType.getPoint(.5,o);void 0!==r&&this.labelModule.calculateLabelSize(r,this.selected,this.hover,s.x,s.y);var l={x:s.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||"horizontal"===this.options.font.align)return l;var f=this.from.x-this.to.x,m=Math.atan2(this.from.y-this.to.y,f);return(m<-1&&f<0||m>0&&f<0)&&(m+=Math.PI),l.angle=m,l}},{key:"_pointOnCircle",value:function(r,o,s,l){return{x:r+s*Math.cos(l),y:o-s*Math.sin(l)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return void 0!==this.body.nodes[this.fromId]&&void 0!==this.body.nodes[this.toId]}}],[{key:"parseOptions",value:function(r,o){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},d=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(po(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],r,o,s),void 0!==o.endPointOffset&&void 0!==o.endPointOffset.from&&(cu(o.endPointOffset.from)?r.endPointOffset.from=o.endPointOffset.from:(r.endPointOffset.from=void 0!==l.endPointOffset.from?l.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),void 0!==o.endPointOffset&&void 0!==o.endPointOffset.to&&(cu(o.endPointOffset.to)?r.endPointOffset.to=o.endPointOffset.to:(r.endPointOffset.to=void 0!==l.endPointOffset.to?l.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),Lm(o.label)?r.label=o.label:Lm(r.label)||(r.label=void 0),je(r,o,"smooth",l),je(r,o,"shadow",l),je(r,o,"background",l),null!=o.dashes?r.dashes=o.dashes:!0===s&&null===o.dashes&&(r.dashes=tl(l.dashes)),null!=o.scaling?(void 0!==o.scaling.min&&(r.scaling.min=o.scaling.min),void 0!==o.scaling.max&&(r.scaling.max=o.scaling.max),je(r.scaling,o.scaling,"label",l.scaling)):!0===s&&null===o.scaling&&(r.scaling=tl(l.scaling)),null!=o.arrows)if("string"==typeof o.arrows){var m=o.arrows.toLowerCase();r.arrows.to.enabled=-1!=Qt(m).call(m,"to"),r.arrows.middle.enabled=-1!=Qt(m).call(m,"middle"),r.arrows.from.enabled=-1!=Qt(m).call(m,"from")}else{if("object"!==Xt(o.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+Vo(o.arrows));je(r.arrows,o.arrows,"to",l.arrows),je(r.arrows,o.arrows,"middle",l.arrows),je(r.arrows,o.arrows,"from",l.arrows)}else!0===s&&null===o.arrows&&(r.arrows=tl(l.arrows));if(null!=o.color){var b=Xl(o.color)?{color:o.color,highlight:o.color,hover:o.color,inherit:!1,opacity:1}:o.color,I=r.color;if(d)y(I,l.color,!1,s);else for(var A in I)Object.prototype.hasOwnProperty.call(I,A)&&delete I[A];if(Xl(I))I.color=I,I.highlight=I,I.hover=I,I.inherit=!1,void 0===b.opacity&&(I.opacity=1);else{var P=!1;void 0!==b.color&&(I.color=b.color,P=!0),void 0!==b.highlight&&(I.highlight=b.highlight,P=!0),void 0!==b.hover&&(I.hover=b.hover,P=!0),void 0!==b.inherit&&(I.inherit=b.inherit),void 0!==b.opacity&&(I.opacity=Math.min(1,Math.max(0,b.opacity))),!0===P?I.inherit=!1:void 0===I.inherit&&(I.inherit="from")}}else!0===s&&null===o.color&&(r.color=_t(l.color));!0===s&&null===o.font&&(r.font=_t(l.font)),Object.prototype.hasOwnProperty.call(o,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),r.selfReference.size=o.selfReferenceSize)}}]),u}(),qE=function(){function u(r,o,s){var l,d=this;ke(this,u),this.body=r,this.images=o,this.groups=s,this.body.functions.createEdge=he(l=this.create).call(l,this),this.edgesListeners={add:function(f,m){d.add(m.items)},update:function(f,m){d.update(m.items)},remove:function(f,m){d.remove(m.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(f,m,b,I){return m===f?.5:Math.max(0,1/(m-f)*(I-f))}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},y(this.options,this.defaultOptions),this.bindEventListeners()}return Te(u,[{key:"bindEventListeners",value:function(){var r,o,s=this;this.body.emitter.on("_forceDisableDynamicCurves",function(l){var d=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"dynamic"===l&&(l="continuous");var f=!1;for(var m in s.body.edges)if(Object.prototype.hasOwnProperty.call(s.body.edges,m)){var b=s.body.edges[m],I=s.body.data.edges.get(m);if(null!=I){var A=I.smooth;void 0!==A&&!0===A.enabled&&"dynamic"===A.type&&(b.setOptions(void 0===l?{smooth:!1}:{smooth:{type:l}}),f=!0)}}!0===d&&!0===f&&s.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){s.reconnectEdges()}),this.body.emitter.on("refreshEdges",he(r=this.refresh).call(r,this)),this.body.emitter.on("refresh",he(o=this.refresh).call(o,this)),this.body.emitter.on("destroy",function(){O(s.edgesListeners,function(l,d){s.body.data.edges&&s.body.data.edges.off(d,l)}),delete s.body.functions.createEdge,delete s.edgesListeners.add,delete s.edgesListeners.update,delete s.edgesListeners.remove,delete s.edgesListeners})}},{key:"setOptions",value:function(r){if(void 0!==r){Mg.parseOptions(this.options,r,!0,this.defaultOptions,!0);var o=!1;if(void 0!==r.smooth)for(var s in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,s)&&(o=this.body.edges[s].updateEdgeType()||o);if(void 0!==r.font)for(var l in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,l)&&this.body.edges[l].updateLabelModule();void 0===r.hidden&&void 0===r.physics&&!0!==o||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(r){var o=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=this.body.data.edges;if(tn.isDataViewLike("id",r))this.body.data.edges=r;else if(Rt(r))this.body.data.edges=new tn.DataSet,this.body.data.edges.add(r);else{if(r)throw new TypeError("Array or DataSet expected");this.body.data.edges=new tn.DataSet}if(l&&O(this.edgesListeners,function(f,m){l.off(m,f)}),this.body.edges={},this.body.data.edges){O(this.edgesListeners,function(f,m){o.body.data.edges.on(m,f)});var d=this.body.data.edges.getIds();this.add(d,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===s&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(r){for(var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=this.body.edges,l=this.body.data.edges,d=0;d<r.length;d++){var f=r[d],m=s[f];m&&m.disconnect();var b=l.get(f,{showInternalIds:!0});s[f]=this.create(b)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===o&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(r){for(var o=this.body.edges,s=this.body.data.edges,l=!1,d=0;d<r.length;d++){var f=r[d],m=s.get(f),b=o[f];void 0!==b?(b.disconnect(),l=b.setOptions(m)||l,b.connect()):(this.body.edges[f]=this.create(m),l=!0)}!0===l?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(r){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0!==r.length){var s=this.body.edges;O(r,function(l){var d=s[l];void 0!==d&&d.remove()}),o&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var r=this;O(this.body.edges,function(o,s){var l=r.body.data.edges.get(s);void 0!==l&&o.setOptions(l)})}},{key:"create",value:function(r){return new Mg(r,this.body,this.images,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var r,o=this.body.nodes,s=this.body.edges;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(o[r].edges=[]);for(r in s)if(Object.prototype.hasOwnProperty.call(s,r)){var l=s[r];l.from=null,l.to=null,l.connect()}}},{key:"getConnectedNodes",value:function(r){var o=[];if(void 0!==this.body.edges[r]){var s=this.body.edges[r];void 0!==s.fromId&&o.push(s.fromId),void 0!==s.toId&&o.push(s.toId)}return o}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var r=this,o=[];O(this.body.edges,function(s,l){var d=r.body.nodes[s.toId],f=r.body.nodes[s.fromId];void 0!==d&&!0===d.isCluster||void 0!==f&&!0===f.isCluster||void 0!==d&&void 0!==f||o.push(l)}),this.remove(o,!1)}},{key:"_addMissingEdges",value:function(){var r=this.body.data.edges;if(null!=r){var o=this.body.edges,s=[];en(r).call(r,function(l,d){void 0===o[d]&&s.push(d)}),this.add(s,!0)}}}]),u}(),zm=function(){function u(r,o,s){ke(this,u),this.body=r,this.physicsBody=o,this.setOptions(s),this._rng=kh("BARNES HUT SOLVER")}return Te(u,[{key:"setOptions",value:function(r){this.options=r,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){var r,o=this.body.nodes,s=this.physicsBody.physicsNodeIndices,l=s.length,d=this._formBarnesHutTree(o,s);this.barnesHutTree=d;for(var f=0;f<l;f++)(r=o[s[f]]).options.mass>0&&this._getForceContributions(d.root,r)}}},{key:"_getForceContributions",value:function(r,o){this._getForceContribution(r.children.NW,o),this._getForceContribution(r.children.NE,o),this._getForceContribution(r.children.SW,o),this._getForceContribution(r.children.SE,o)}},{key:"_getForceContribution",value:function(r,o){if(r.childrenCount>0){var s=r.centerOfMass.x-o.x,l=r.centerOfMass.y-o.y,d=Math.sqrt(s*s+l*l);d*r.calcSize>this.thetaInversed?this._calculateForces(d,s,l,o,r):4===r.childrenCount?this._getForceContributions(r,o):r.children.data.id!=o.id&&this._calculateForces(d,s,l,o,r)}}},{key:"_calculateForces",value:function(r,o,s,l,d){0===r&&(o=r=.1),this.overlapAvoidanceFactor<1&&l.shape.radius&&(r=Math.max(.1+this.overlapAvoidanceFactor*l.shape.radius,r-l.shape.radius));var f=this.options.gravitationalConstant*d.mass*l.options.mass/Math.pow(r,3),b=s*f;this.physicsBody.forces[l.id].x+=o*f,this.physicsBody.forces[l.id].y+=b}},{key:"_formBarnesHutTree",value:function(r,o){for(var s,l=o.length,d=r[o[0]].x,f=r[o[0]].y,m=r[o[0]].x,b=r[o[0]].y,I=1;I<l;I++){var A=r[o[I]],P=A.x,H=A.y;A.options.mass>0&&(P<d&&(d=P),P>m&&(m=P),H<f&&(f=H),H>b&&(b=H))}var U=Math.abs(m-d)-Math.abs(b-f);U>0?(f-=.5*U,b+=.5*U):(d+=.5*U,m-=.5*U);var W=Math.max(1e-5,Math.abs(m-d)),K=.5*W,oe=.5*(d+m),Z=.5*(f+b),ee={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:oe-K,maxX:oe+K,minY:Z-K,maxY:Z+K},size:W,calcSize:1/W,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(ee.root);for(var ae=0;ae<l;ae++)(s=r[o[ae]]).options.mass>0&&this._placeInTree(ee.root,s);return ee}},{key:"_updateBranchMass",value:function(r,o){var s=r.centerOfMass,l=r.mass+o.options.mass,d=1/l;s.x=s.x*r.mass+o.x*o.options.mass,s.x*=d,s.y=s.y*r.mass+o.y*o.options.mass,s.y*=d,r.mass=l;var f=Math.max(Math.max(o.height,o.radius),o.width);r.maxWidth=r.maxWidth<f?f:r.maxWidth}},{key:"_placeInTree",value:function(r,o,s){1==s&&void 0!==s||this._updateBranchMass(r,o);var d=r.children.NW.range;this._placeInRegion(r,o,d.maxX>o.x?d.maxY>o.y?"NW":"SW":d.maxY>o.y?"NE":"SE")}},{key:"_placeInRegion",value:function(r,o,s){var l=r.children[s];switch(l.childrenCount){case 0:l.children.data=o,l.childrenCount=1,this._updateBranchMass(l,o);break;case 1:l.children.data.x===o.x&&l.children.data.y===o.y?(o.x+=this._rng(),o.y+=this._rng()):(this._splitBranch(l),this._placeInTree(l,o));break;case 4:this._placeInTree(l,o)}}},{key:"_splitBranch",value:function(r){var o=null;1===r.childrenCount&&(o=r.children.data,r.mass=0,r.centerOfMass.x=0,r.centerOfMass.y=0),r.childrenCount=4,r.children.data=null,this._insertRegion(r,"NW"),this._insertRegion(r,"NE"),this._insertRegion(r,"SW"),this._insertRegion(r,"SE"),null!=o&&this._placeInTree(r,o)}},{key:"_insertRegion",value:function(r,o){var s,l,d,f,m=.5*r.size;switch(o){case"NW":s=r.range.minX,l=r.range.minX+m,d=r.range.minY,f=r.range.minY+m;break;case"NE":s=r.range.minX+m,l=r.range.maxX,d=r.range.minY,f=r.range.minY+m;break;case"SW":s=r.range.minX,l=r.range.minX+m,d=r.range.minY+m,f=r.range.maxY;break;case"SE":s=r.range.minX+m,l=r.range.maxX,d=r.range.minY+m,f=r.range.maxY}r.children[o]={centerOfMass:{x:0,y:0},mass:0,range:{minX:s,maxX:l,minY:d,maxY:f},size:.5*r.size,calcSize:2*r.calcSize,children:{data:null},maxWidth:0,level:r.level+1,childrenCount:0}}},{key:"_debug",value:function(r,o){void 0!==this.barnesHutTree&&(r.lineWidth=1,this._drawBranch(this.barnesHutTree.root,r,o))}},{key:"_drawBranch",value:function(r,o,s){void 0===s&&(s="#FF0000"),4===r.childrenCount&&(this._drawBranch(r.children.NW,o),this._drawBranch(r.children.NE,o),this._drawBranch(r.children.SE,o),this._drawBranch(r.children.SW,o)),o.strokeStyle=s,o.beginPath(),o.moveTo(r.range.minX,r.range.minY),o.lineTo(r.range.maxX,r.range.minY),o.stroke(),o.beginPath(),o.moveTo(r.range.maxX,r.range.minY),o.lineTo(r.range.maxX,r.range.maxY),o.stroke(),o.beginPath(),o.moveTo(r.range.maxX,r.range.maxY),o.lineTo(r.range.minX,r.range.maxY),o.stroke(),o.beginPath(),o.moveTo(r.range.minX,r.range.maxY),o.lineTo(r.range.minX,r.range.minY),o.stroke()}}]),u}(),Hv=function(){function u(r,o,s){ke(this,u),this._rng=kh("REPULSION SOLVER"),this.body=r,this.physicsBody=o,this.setOptions(s)}return Te(u,[{key:"setOptions",value:function(r){this.options=r}},{key:"solve",value:function(){for(var r,o,s,l,d,f,m,b,I=this.body.nodes,A=this.physicsBody.physicsNodeIndices,P=this.physicsBody.forces,H=this.options.nodeDistance,U=-2/3/H,W=0;W<A.length-1;W++){m=I[A[W]];for(var K=W+1;K<A.length;K++)r=(b=I[A[K]]).x-m.x,o=b.y-m.y,0===(s=Math.sqrt(r*r+o*o))&&(r=s=.1*this._rng()),s<2*H&&(f=s<.5*H?1:U*s+1.3333333333333333,l=r*(f/=s),d=o*f,P[m.id].x-=l,P[m.id].y-=d,P[b.id].x+=l,P[b.id].y+=d)}}}]),u}(),YE=function(){function u(r,o,s){ke(this,u),this.body=r,this.physicsBody=o,this.setOptions(s)}return Te(u,[{key:"setOptions",value:function(r){this.options=r,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}},{key:"solve",value:function(){for(var r=this.body.nodes,o=this.physicsBody.physicsNodeIndices,s=this.physicsBody.forces,l=this.options.nodeDistance,d=0;d<o.length-1;d++)for(var f=r[o[d]],m=d+1;m<o.length;m++){var b=r[o[m]];if(f.level===b.level){var I=l+this.overlapAvoidanceFactor*((f.shape.radius||0)/2+(b.shape.radius||0)/2),A=b.x-f.x,P=b.y-f.y,H=Math.sqrt(A*A+P*P),U=void 0;U=H<I?-Math.pow(.05*H,2)+Math.pow(.05*I,2):0,0!==H&&(U/=H);var W=A*U,K=P*U;s[f.id].x-=W,s[f.id].y-=K,s[b.id].x+=W,s[b.id].y+=K}}}}]),u}(),$m=function(){function u(r,o,s){ke(this,u),this.body=r,this.physicsBody=o,this.setOptions(s)}return Te(u,[{key:"setOptions",value:function(r){this.options=r}},{key:"solve",value:function(){for(var r,o,l,d,f=this.physicsBody.physicsEdgeIndices,m=this.body.edges,b=0;b<f.length;b++)!0===(o=m[f[b]]).connected&&o.toId!==o.fromId&&void 0!==this.body.nodes[o.toId]&&void 0!==this.body.nodes[o.fromId]&&(void 0!==o.edgeType.via?(d=o.from,this._calculateSpringForce(o.to,l=o.edgeType.via,.5*(r=void 0===o.options.length?this.options.springLength:o.options.length)),this._calculateSpringForce(l,d,.5*r)):this._calculateSpringForce(o.from,o.to,r=void 0===o.options.length?1.5*this.options.springLength:o.options.length))}},{key:"_calculateSpringForce",value:function(r,o,s){var l=r.x-o.x,d=r.y-o.y,f=Math.max(Math.sqrt(l*l+d*d),.01),m=this.options.springConstant*(s-f)/f,b=l*m,I=d*m;void 0!==this.physicsBody.forces[r.id]&&(this.physicsBody.forces[r.id].x+=b,this.physicsBody.forces[r.id].y+=I),void 0!==this.physicsBody.forces[o.id]&&(this.physicsBody.forces[o.id].x-=b,this.physicsBody.forces[o.id].y-=I)}}]),u}(),QE=function(){function u(r,o,s){ke(this,u),this.body=r,this.physicsBody=o,this.setOptions(s)}return Te(u,[{key:"setOptions",value:function(r){this.options=r}},{key:"solve",value:function(){for(var r,o,s,l,d,f,m,b,I,A,P=this.body.edges,H=.5,U=this.physicsBody.physicsEdgeIndices,W=this.physicsBody.physicsNodeIndices,K=this.physicsBody.forces,oe=0;oe<W.length;oe++){var Z=W[oe];K[Z].springFx=0,K[Z].springFy=0}for(var ee=0;ee<U.length;ee++)!0===(o=P[U[ee]]).connected&&(r=void 0===o.options.length?this.options.springLength:o.options.length,s=o.from.x-o.to.x,l=o.from.y-o.to.y,b=0===(b=Math.sqrt(s*s+l*l))?.01:b,d=s*(m=this.options.springConstant*(r-b)/b),f=l*m,o.to.level!=o.from.level?(void 0!==K[o.toId]&&(K[o.toId].springFx-=d,K[o.toId].springFy-=f),void 0!==K[o.fromId]&&(K[o.fromId].springFx+=d,K[o.fromId].springFy+=f)):(void 0!==K[o.toId]&&(K[o.toId].x-=H*d,K[o.toId].y-=H*f),void 0!==K[o.fromId]&&(K[o.fromId].x+=H*d,K[o.fromId].y+=H*f)));m=1;for(var ae=0;ae<W.length;ae++){var ve=W[ae];I=Math.min(m,Math.max(-m,K[ve].springFx)),A=Math.min(m,Math.max(-m,K[ve].springFy)),K[ve].x+=I,K[ve].y+=A}for(var ce=0,Me=0,le=0;le<W.length;le++){var me=W[le];ce+=K[me].x,Me+=K[me].y}for(var te=ce/W.length,ct=Me/W.length,ht=0;ht<W.length;ht++){var Be=W[ht];K[Be].x-=te,K[Be].y-=ct}}}]),u}(),zv=function(){function u(r,o,s){ke(this,u),this.body=r,this.physicsBody=o,this.setOptions(s)}return Te(u,[{key:"setOptions",value:function(r){this.options=r}},{key:"solve",value:function(){for(var r,o,s,l,d=this.body.nodes,f=this.physicsBody.physicsNodeIndices,m=this.physicsBody.forces,b=0;b<f.length;b++)r=-(l=d[f[b]]).x,o=-l.y,s=Math.sqrt(r*r+o*o),this._calculateForces(s,r,o,m,l)}},{key:"_calculateForces",value:function(r,o,s,l,d){var f=0===r?0:this.options.centralGravity/r;l[d.id].x=o*f,l[d.id].y=s*f}}]),u}();var Um=function(u){_n(o,u);var r=function(u){var r=function(){if("undefined"==typeof Reflect||!pe||pe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pe(Boolean,[],function(){})),!0}catch(o){return!1}}();return function(){var o,s=qe(u);if(r){var l=qe(this).constructor;o=pe(s,arguments,l)}else o=s.apply(this,arguments);return xn(this,o)}}(o);function o(s,l,d){var f;return ke(this,o),(f=r.call(this,s,l,d))._rng=kh("FORCE ATLAS 2 BASED REPULSION SOLVER"),f}return Te(o,[{key:"_calculateForces",value:function(s,l,d,f,m){0===s&&(l=s=.1*this._rng()),this.overlapAvoidanceFactor<1&&f.shape.radius&&(s=Math.max(.1+this.overlapAvoidanceFactor*f.shape.radius,s-f.shape.radius));var I=this.options.gravitationalConstant*m.mass*f.options.mass*(f.edges.length+1)/Math.pow(s,2),P=d*I;this.physicsBody.forces[f.id].x+=l*I,this.physicsBody.forces[f.id].y+=P}}]),o}(zm);var Wm,Xf=function(u){_n(o,u);var r=function(u){var r=function(){if("undefined"==typeof Reflect||!pe||pe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pe(Boolean,[],function(){})),!0}catch(o){return!1}}();return function(){var o,s=qe(u);if(r){var l=qe(this).constructor;o=pe(s,arguments,l)}else o=s.apply(this,arguments);return xn(this,o)}}(o);function o(s,l,d){return ke(this,o),r.call(this,s,l,d)}return Te(o,[{key:"_calculateForces",value:function(s,l,d,f,m){if(s>0){var I=this.options.centralGravity*(m.edges.length+1)*m.options.mass;f[m.id].x=l*I,f[m.id].y=d*I}}}]),o}(zv),c_=function(){function u(r){ke(this,u),this.body=r,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},jn(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return Te(u,[{key:"bindEventListeners",value:function(){var r=this;this.body.emitter.on("initPhysics",function(){r.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){r.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){r.stopSimulation(),r.ready=!1}),this.body.emitter.on("disablePhysics",function(){r.physicsEnabled=!1,r.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){r.setOptions(r.options),!0===r.ready&&r.startSimulation()}),this.body.emitter.on("startSimulation",function(){!0===r.ready&&r.startSimulation()}),this.body.emitter.on("stopSimulation",function(){r.stopSimulation()}),this.body.emitter.on("destroy",function(){r.stopSimulation(!1),r.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){r.updatePhysicsData()})}},{key:"setOptions",value:function(r){if(void 0!==r)if(!1===r)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(!0===r)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,p(["stabilization"],this.options,r),je(this.options,r,"stabilization"),void 0===r.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation());var o=this.options.wind;o&&(("number"!=typeof o.x||Mh(o.x))&&(o.x=0),("number"!=typeof o.y||Mh(o.y))&&(o.y=0)),this.timestep=this.options.timestep}this.init()}},{key:"init",value:function(){var r;"forceAtlas2Based"===this.options.solver?(this.nodesSolver=new Um(this.body,this.physicsBody,r=this.options.forceAtlas2Based),this.edgesSolver=new $m(this.body,this.physicsBody,r),this.gravitySolver=new Xf(this.body,this.physicsBody,r)):"repulsion"===this.options.solver?(this.nodesSolver=new Hv(this.body,this.physicsBody,r=this.options.repulsion),this.edgesSolver=new $m(this.body,this.physicsBody,r),this.gravitySolver=new zv(this.body,this.physicsBody,r)):"hierarchicalRepulsion"===this.options.solver?(this.nodesSolver=new YE(this.body,this.physicsBody,r=this.options.hierarchicalRepulsion),this.edgesSolver=new QE(this.body,this.physicsBody,r),this.gravitySolver=new zv(this.body,this.physicsBody,r)):(this.nodesSolver=new zm(this.body,this.physicsBody,r=this.options.barnesHut),this.edgesSolver=new $m(this.body,this.physicsBody,r),this.gravitySolver=new zv(this.body,this.physicsBody,r)),this.modelOptions=r}},{key:"initPhysics",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){var r;!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=he(r=this.simulationStep).call(r,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.stabilized=!0,!0===r&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,!0===r&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var r=lo();this.physicsTick(),(lo()-r<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var r=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||!0===this.startedStabilization)&&is(function(){r.body.emitter.emit("stabilized",{iterations:o}),r.startedStabilization=!1,r.stabilizationIterations=0},0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){!0===this._evaluateStepQuality()?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}},{key:"physicsTick",value:function(){this._startStabilizing(),!0!==this.stabilized&&(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled?(this.adaptiveCounter%this.adaptiveInterval==0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),!0===this.stabilized&&this.revert(),this.stabilizationIterations++)}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var r=this.body.nodes,o=this.body.edges;for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&!0===r[s].options.physics&&this.physicsBody.physicsNodeIndices.push(r[s].id);for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&!0===o[l].options.physics&&this.physicsBody.physicsEdgeIndices.push(o[l].id);for(var d=0;d<this.physicsBody.physicsNodeIndices.length;d++){var f=this.physicsBody.physicsNodeIndices[d];this.physicsBody.forces[f]={x:0,y:0},void 0===this.physicsBody.velocities[f]&&(this.physicsBody.velocities[f]={x:0,y:0})}for(var m in this.physicsBody.velocities)void 0===r[m]&&delete this.physicsBody.velocities[m]}},{key:"revert",value:function(){var r=sn(this.previousStates),o=this.body.nodes,s=this.physicsBody.velocities;this.referenceState={};for(var l=0;l<r.length;l++){var d=r[l];void 0!==o[d]?!0===o[d].options.physics&&(this.referenceState[d]={positions:{x:o[d].x,y:o[d].y}},s[d].x=this.previousStates[d].vx,s[d].y=this.previousStates[d].vy,o[d].x=this.previousStates[d].x,o[d].y=this.previousStates[d].y):delete this.previousStates[d]}}},{key:"_evaluateStepQuality",value:function(){var o,s=this.body.nodes,l=this.referenceState;for(var d in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,d)&&void 0!==s[d]&&(o=s[d].y-l[d].positions.y,Math.sqrt(Math.pow(s[d].x-l[d].positions.x,2)+Math.pow(o,2))>.3))return!1;return!0}},{key:"moveNodes",value:function(){for(var r=this.physicsBody.physicsNodeIndices,o=0,s=0,l=0;l<r.length;l++){var f=this._performStep(r[l]);o=Math.max(o,f),s+=f}this.adaptiveTimestepEnabled=s/r.length<5,this.stabilized=o<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(r,o,s){r+=(o-this.modelOptions.damping*r)/s*this.timestep;var l=this.options.maxVelocity||1e9;return Math.abs(r)>l&&(r=r>0?l:-l),r}},{key:"_performStep",value:function(r){var o=this.body.nodes[r],s=this.physicsBody.forces[r];this.options.wind&&(s.x+=this.options.wind.x,s.y+=this.options.wind.y);var l=this.physicsBody.velocities[r];return this.previousStates[r]={x:o.x,y:o.y,vx:l.x,vy:l.y},!1===o.options.fixed.x?(l.x=this.calculateComponentVelocity(l.x,s.x,o.options.mass),o.x+=l.x*this.timestep):(s.x=0,l.x=0),!1===o.options.fixed.y?(l.y=this.calculateComponentVelocity(l.y,s.y,o.options.mass),o.y+=l.y*this.timestep):(s.y=0,l.y=0),Math.sqrt(Math.pow(l.x,2)+Math.pow(l.y,2))}},{key:"_freezeNodes",value:function(){var r=this.body.nodes;for(var o in r)if(Object.prototype.hasOwnProperty.call(r,o)&&r[o].x&&r[o].y){var s=r[o].options.fixed;this.freezeCache[o]={x:s.x,y:s.y},s.x=!0,s.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var r=this.body.nodes;for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&void 0!==this.freezeCache[o]&&(r[o].options.fixed.x=this.freezeCache[o].x,r[o].options.fixed.y=this.freezeCache[o].y);this.freezeCache={}}},{key:"stabilize",value:function(){var r=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;"number"!=typeof o&&(o=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",o)),0!==this.physicsBody.physicsNodeIndices.length?(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=o,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,is(function(){return r._stabilizationBatch()},0)):this.ready=!0}},{key:"_startStabilizing",value:function(){return!0!==this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var r=this,o=function(){return!1===r.stabilized&&r.stabilizationIterations<r.targetIterations},s=function(){r.body.emitter.emit("stabilizationProgress",{iterations:r.stabilizationIterations,total:r.targetIterations})};this._startStabilizing()&&s();for(var l,d=0;o()&&d<this.options.stabilization.updateInterval;)this.physicsTick(),d++;s(),o()?is(he(l=this._stabilizationBatch).call(l,this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(r){for(var o=0;o<this.physicsBody.physicsNodeIndices.length;o++){var s=this.physicsBody.physicsNodeIndices[o],l=this.body.nodes[s],d=this.physicsBody.forces[s],f=Math.sqrt(Math.pow(d.x,2)+Math.pow(d.x,2)),m=Math.min(Math.max(5,f),15),b=3*m,I=ie((180-180*Math.min(1,Math.max(0,.03*f)))/360,1,1),A={x:l.x+20*d.x,y:l.y+20*d.y};r.lineWidth=m,r.strokeStyle=I,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(A.x,A.y),r.stroke();var P=Math.atan2(d.y,d.x);r.fillStyle=I,i_.draw(r,{type:"arrow",point:A,angle:P,length:b}),Lf(r).call(r)}}}]),u}(),hb=new Uint8Array(16);function d_(){if(!Wm&&!(Wm="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Wm(hb)}var h_=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function f_(u){return"string"==typeof u&&h_.test(u)}for(var Hi=[],Gm=0;Gm<256;++Gm)Hi.push((Gm+256).toString(16).substr(1));function Ag(u,r,o){var s=(u=u||{}).random||(u.rng||d_)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,r){o=o||0;for(var l=0;l<16;++l)r[o+l]=s[l];return r}return function(d){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,m=(Hi[d[f+0]]+Hi[d[f+1]]+Hi[d[f+2]]+Hi[d[f+3]]+"-"+Hi[d[f+4]]+Hi[d[f+5]]+"-"+Hi[d[f+6]]+Hi[d[f+7]]+"-"+Hi[d[f+8]]+Hi[d[f+9]]+"-"+Hi[d[f+10]]+Hi[d[f+11]]+Hi[d[f+12]]+Hi[d[f+13]]+Hi[d[f+14]]+Hi[d[f+15]]).toLowerCase();if(!f_(m))throw TypeError("Stringified UUID is invalid");return m}(s)}var jo=function(){function u(){ke(this,u)}return Te(u,null,[{key:"getRange",value:function(r){var o,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=1e9,d=-1e9,f=1e9,m=-1e9;if(s.length>0)for(var b=0;b<s.length;b++)f>(o=r[s[b]]).shape.boundingBox.left&&(f=o.shape.boundingBox.left),m<o.shape.boundingBox.right&&(m=o.shape.boundingBox.right),l>o.shape.boundingBox.top&&(l=o.shape.boundingBox.top),d<o.shape.boundingBox.bottom&&(d=o.shape.boundingBox.bottom);return 1e9===f&&-1e9===m&&1e9===l&&-1e9===d&&(l=0,d=0,f=0,m=0),{minX:f,maxX:m,minY:l,maxY:d}}},{key:"getRangeCore",value:function(r){var o,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=1e9,d=-1e9,f=1e9,m=-1e9;if(s.length>0)for(var b=0;b<s.length;b++)f>(o=r[s[b]]).x&&(f=o.x),m<o.x&&(m=o.x),l>o.y&&(l=o.y),d<o.y&&(d=o.y);return 1e9===f&&-1e9===m&&1e9===l&&-1e9===d&&(l=0,d=0,f=0,m=0),{minX:f,maxX:m,minY:l,maxY:d}}},{key:"findCenter",value:function(r){return{x:.5*(r.maxX+r.minX),y:.5*(r.maxY+r.minY)}}},{key:"cloneOptions",value:function(r,o){var s={};return void 0===o||"node"===o?(y(s,r.options,!0),s.x=r.x,s.y=r.y,s.amountOfConnections=r.edges.length):y(s,r.options,!0),s}}]),u}();var XE=function(u){_n(o,u);var r=function(u){var r=function(){if("undefined"==typeof Reflect||!pe||pe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pe(Boolean,[],function(){})),!0}catch(o){return!1}}();return function(){var o,s=qe(u);if(r){var l=qe(this).constructor;o=pe(s,arguments,l)}else o=s.apply(this,arguments);return xn(this,o)}}(o);function o(s,l,d,f,m,b){var I;return ke(this,o),(I=r.call(this,s,l,d,f,m,b)).isCluster=!0,I.containedNodes={},I.containedEdges={},I}return Te(o,[{key:"_openChildCluster",value:function(s){var l=this,d=this.body.nodes[s];if(void 0===this.containedNodes[s])throw new Error("node with id: "+s+" not in current cluster");if(!d.isCluster)throw new Error("node with id: "+s+" is not a cluster");delete this.containedNodes[s],O(d.edges,function(f){delete l.containedEdges[f.id]}),O(d.containedNodes,function(f,m){l.containedNodes[m]=f}),d.containedNodes={},O(d.containedEdges,function(f,m){l.containedEdges[m]=f}),d.containedEdges={},O(d.edges,function(f){O(l.edges,function(m){var b,I,A=Qt(b=m.clusteringEdgeReplacingIds).call(b,f.id);-1!==A&&(O(f.clusteringEdgeReplacingIds,function(P){m.clusteringEdgeReplacingIds.push(P),l.body.edges[P].edgeReplacedById=m.id}),As(I=m.clusteringEdgeReplacingIds).call(I,A,1))})}),d.edges=[]}}]),o}(Bs),ZE=function(){function u(r){var o=this;ke(this,u),this.body=r,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},jn(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){o.clusteredNodes={},o.clusteredEdges={}})}return Te(u,[{key:"clusterByHubsize",value:function(r,o){void 0===r?r=this._getHubSize():"object"===Xt(r)&&(o=this._checkOptions(r),r=this._getHubSize());for(var s=[],l=0;l<this.body.nodeIndices.length;l++){var d=this.body.nodes[this.body.nodeIndices[l]];d.edges.length>=r&&s.push(d.id)}for(var f=0;f<s.length;f++)this.clusterByConnection(s[f],o,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var r=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0===o.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");o=this._checkOptions(o);var l={},d={};O(this.body.nodes,function(f,m){f.options&&!0===o.joinCondition(f.options)&&(l[m]=f,O(f.edges,function(b){void 0===r.clusteredEdges[b.id]&&(d[b.id]=b)}))}),this._cluster(l,d,o,s)}},{key:"clusterByEdgeCount",value:function(r,o){var s=this,l=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];o=this._checkOptions(o);for(var d,f,m,b=[],I={},A=function(U){var W={},K={},oe=s.body.nodeIndices[U],Z=s.body.nodes[oe];if(void 0===I[oe]){m=0,f=[];for(var ee=0;ee<Z.edges.length;ee++)void 0===s.clusteredEdges[(d=Z.edges[ee]).id]&&(d.toId!==d.fromId&&m++,f.push(d));if(m===r){for(var ae=function(ct){if(null==o.joinCondition)return!0;var ht=jo.cloneOptions(ct);return o.joinCondition(ht)},ve=!0,ce=0;ce<f.length;ce++){var Me=s._getConnectedId(d=f[ce],oe);if(!ae(Z)){ve=!1;break}K[d.id]=d,W[oe]=Z,W[Me]=s.body.nodes[Me],I[oe]=!0}if(sn(W).length>0&&sn(K).length>0&&!0===ve){var le=function(){for(var ct=0;ct<b.length;++ct)for(var ht in W)if(void 0!==b[ct].nodes[ht])return b[ct]}();if(void 0!==le){for(var me in W)void 0===le.nodes[me]&&(le.nodes[me]=W[me]);for(var te in K)void 0===le.edges[te]&&(le.edges[te]=K[te])}else b.push({nodes:W,edges:K})}}}},P=0;P<this.body.nodeIndices.length;P++)A(P);for(var H=0;H<b.length;H++)this._cluster(b[H].nodes,b[H].edges,o,!1);!0===l&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(r){this.clusterByEdgeCount(1,r,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}},{key:"clusterBridges",value:function(r){this.clusterByEdgeCount(2,r,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}},{key:"clusterByConnection",value:function(r,o){var s,l=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===r)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[r])throw new Error("The nodeId given to clusterByConnection does not exist!");var d=this.body.nodes[r];void 0===(o=this._checkOptions(o,d)).clusterNodeProperties.x&&(o.clusterNodeProperties.x=d.x),void 0===o.clusterNodeProperties.y&&(o.clusterNodeProperties.y=d.y),void 0===o.clusterNodeProperties.fixed&&(o.clusterNodeProperties.fixed={},o.clusterNodeProperties.fixed.x=d.options.fixed.x,o.clusterNodeProperties.fixed.y=d.options.fixed.y);var f={},m={},b=d.id,I=jo.cloneOptions(d);f[b]=d;for(var A=0;A<d.edges.length;A++){var P=d.edges[A];if(void 0===this.clusteredEdges[P.id]){var H=this._getConnectedId(P,b);if(void 0===this.clusteredNodes[H])if(H!==b)if(void 0===o.joinCondition)m[P.id]=P,f[H]=this.body.nodes[H];else{var U=jo.cloneOptions(this.body.nodes[H]);!0===o.joinCondition(I,U)&&(m[P.id]=P,f[H]=this.body.nodes[H])}else m[P.id]=P}}var W=Os(s=sn(f)).call(s,function(ae){return f[ae].id});for(var K in f)if(Object.prototype.hasOwnProperty.call(f,K))for(var oe=f[K],Z=0;Z<oe.edges.length;Z++){var ee=oe.edges[Z];Qt(W).call(W,this._getConnectedId(ee,oe.id))>-1&&(m[ee.id]=ee)}this._cluster(f,m,o,l)}},{key:"_createClusterEdges",value:function(r,o,s,l){for(var d,f,m,b,I,A,P=sn(r),H=[],U=0;U<P.length;U++){m=r[f=P[U]];for(var W=0;W<m.edges.length;W++)void 0===this.clusteredEdges[(d=m.edges[W]).id]&&(d.toId==d.fromId?o[d.id]=d:d.toId==f?(b=s.id,A=I=d.fromId):(I=s.id,A=b=d.toId),void 0===r[A]&&H.push({edge:d,fromId:I,toId:b}))}for(var K=[],oe=function(ce){for(var Me=0;Me<K.length;Me++){var le=K[Me];if(ce.fromId===le.fromId&&ce.toId===le.toId||ce.fromId===le.toId&&ce.toId===le.fromId)return le}return null},Z=0;Z<H.length;Z++){var ee=H[Z],ae=ee.edge,ve=oe(ee);null===ve?(ve=this._createClusteredEdge(ee.fromId,ee.toId,ae,l),K.push(ve)):ve.clusteringEdgeReplacingIds.push(ae.id),this.body.edges[ae.id].edgeReplacedById=ve.id,this._backupEdgeOptions(ae),ae.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0===r.clusterEdgeProperties&&(r.clusterEdgeProperties={}),void 0===r.clusterNodeProperties&&(r.clusterNodeProperties={}),r}},{key:"_cluster",value:function(r,o,s){var l=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],d=[];for(var f in r)Object.prototype.hasOwnProperty.call(r,f)&&void 0!==this.clusteredNodes[f]&&d.push(f);for(var m=0;m<d.length;++m)delete r[d[m]];if(0!=sn(r).length&&(1!=sn(r).length||1==s.clusterNodeProperties.allowSingleNodeCluster)){var b=y({},s.clusterNodeProperties);if(void 0!==s.processProperties){var I=[];for(var A in r)if(Object.prototype.hasOwnProperty.call(r,A)){var P=jo.cloneOptions(r[A]);I.push(P)}var H=[];for(var U in o)if(Object.prototype.hasOwnProperty.call(o,U)&&"clusterEdge:"!==U.substr(0,12)){var W=jo.cloneOptions(o[U],"edge");H.push(W)}if(!(b=s.processProperties(b,I,H)))throw new Error("The processProperties function does not return properties!")}void 0===b.id&&(b.id="cluster:"+Ag());var K=b.id;void 0===b.label&&(b.label="cluster");var oe=void 0;void 0===b.x&&(oe=this._getClusterPosition(r),b.x=oe.x),void 0===b.y&&(void 0===oe&&(oe=this._getClusterPosition(r)),b.y=oe.y),b.id=K;var Z=this.body.functions.createNode(b,XE);Z.containedNodes=r,Z.containedEdges=o,Z.clusterEdgeProperties=s.clusterEdgeProperties,this.body.nodes[b.id]=Z,this._clusterEdges(r,o,b,s.clusterEdgeProperties),b.id=void 0,!0===l&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(r){void 0===this.clusteredEdges[r.id]&&(this.clusteredEdges[r.id]={physics:r.options.physics})}},{key:"_restoreEdge",value:function(r){var o=this.clusteredEdges[r.id];void 0!==o&&(r.setOptions({physics:o.physics}),delete this.clusteredEdges[r.id])}},{key:"isCluster",value:function(r){return void 0!==this.body.nodes[r]?!0===this.body.nodes[r].isCluster:(console.error("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(r){for(var o,s=sn(r),l=r[s[0]].x,d=r[s[0]].x,f=r[s[0]].y,m=r[s[0]].y,b=1;b<s.length;b++)l=(o=r[s[b]]).x<l?o.x:l,d=o.x>d?o.x:d,f=o.y<f?o.y:f,m=o.y>m?o.y:m;return{x:.5*(l+d),y:.5*(f+m)}}},{key:"openCluster",value:function(r,o){var s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===r)throw new Error("No clusterNodeId supplied to openCluster.");var l=this.body.nodes[r];if(void 0===l)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(!0!==l.isCluster||void 0===l.containedNodes||void 0===l.containedEdges)throw new Error("The node:"+r+" is not a valid cluster.");var d=this.findNode(r),f=Qt(d).call(d,r)-1;if(f>=0)return this.body.nodes[d[f]]._openChildCluster(r),delete this.body.nodes[r],void(!0===s&&this.body.emitter.emit("_dataChanged"));var I=l.containedNodes,A=l.containedEdges;if(void 0!==o&&void 0!==o.releaseFunction&&"function"==typeof o.releaseFunction){var P={},H={x:l.x,y:l.y};for(var U in I)if(Object.prototype.hasOwnProperty.call(I,U)){var W=this.body.nodes[U];P[U]={x:W.x,y:W.y}}var K=o.releaseFunction(H,P);for(var oe in I)if(Object.prototype.hasOwnProperty.call(I,oe)){var Z=this.body.nodes[oe];void 0!==K[oe]&&(Z.x=void 0===K[oe].x?l.x:K[oe].x,Z.y=void 0===K[oe].y?l.y:K[oe].y)}}else O(I,function(Yn){!1===Yn.options.fixed.x&&(Yn.x=l.x),!1===Yn.options.fixed.y&&(Yn.y=l.y)});for(var ee in I)if(Object.prototype.hasOwnProperty.call(I,ee)){var ae=this.body.nodes[ee];ae.vx=l.vx,ae.vy=l.vy,ae.setOptions({physics:!0}),delete this.clusteredNodes[ee]}for(var ve=[],ce=0;ce<l.edges.length;ce++)ve.push(l.edges[ce]);for(var Me=0;Me<ve.length;Me++){for(var le=ve[Me],me=this._getConnectedId(le,r),te=this.clusteredNodes[me],ct=0;ct<le.clusteringEdgeReplacingIds.length;ct++){var Be=this.body.edges[le.clusteringEdgeReplacingIds[ct]];if(void 0!==Be)if(void 0!==te){var St=this.body.nodes[te.clusterId];St.containedEdges[Be.id]=Be,delete A[Be.id];var Nt=Be.fromId,jt=Be.toId;Be.toId==me?jt=te.clusterId:Nt=te.clusterId,this._createClusteredEdge(Nt,jt,Be,St.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(Be)}le.remove()}for(var un in A)Object.prototype.hasOwnProperty.call(A,un)&&this._restoreEdge(A[un]);delete this.body.nodes[r],!0===s&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(r){var o=[];if(!0===this.isCluster(r)){var s=this.body.nodes[r].containedNodes;for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&o.push(this.body.nodes[l].id)}return o}},{key:"findNode",value:function(r){for(var o,s=[],l=0;void 0!==this.clusteredNodes[r]&&l<100;){if(void 0===(o=this.body.nodes[r]))return[];s.push(o.id),r=this.clusteredNodes[r].clusterId,l++}return void 0===(o=this.body.nodes[r])?[]:(s.push(o.id),Dn(s).call(s),s)}},{key:"updateClusteredNode",value:function(r,o){if(void 0===r)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===o)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[r])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[r].setOptions(o),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(r,o){if(void 0===r)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===o)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[r])throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var s=this.getClusteredEdges(r),l=0;l<s.length;l++)this.body.edges[s[l]].setOptions(o);this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(r){for(var o=[],s=0;void 0!==r&&void 0!==this.body.edges[r]&&s<100;)o.push(this.body.edges[r].id),r=this.body.edges[r].edgeReplacedById,s++;return Dn(o).call(o),o}},{key:"getBaseEdge",value:function(r){return this.getBaseEdges(r)[0]}},{key:"getBaseEdges",value:function(r){for(var o=[r],s=[],l=[],d=0;o.length>0&&d<100;){var f=o.pop();if(void 0!==f){var m=this.body.edges[f];if(void 0!==m){d++;var b=m.clusteringEdgeReplacingIds;if(void 0===b)l.push(f);else for(var I=0;I<b.length;++I){var A=b[I];-1===Qt(o).call(o,b)&&-1===Qt(s).call(s,b)&&o.push(A)}s.push(f)}}}return l}},{key:"_getConnectedId",value:function(r,o){return r.toId!=o?r.toId:r.fromId}},{key:"_getHubSize",value:function(){for(var r=0,o=0,s=0,l=0,d=0;d<this.body.nodeIndices.length;d++){var f=this.body.nodes[this.body.nodeIndices[d]];f.edges.length>l&&(l=f.edges.length),r+=f.edges.length,o+=Math.pow(f.edges.length,2),s+=1}r/=s;var m=(o/=s)-Math.pow(r,2),b=Math.sqrt(m),I=Math.floor(r+2*b);return I>l&&(I=l),I}},{key:"_createClusteredEdge",value:function(r,o,s,l,d){var f=jo.cloneOptions(s,"edge");y(f,l),f.from=r,f.to=o,f.id="clusterEdge:"+Ag(),void 0!==d&&y(f,d);var m=this.body.functions.createEdge(f);return m.clusteringEdgeReplacingIds=[s.id],m.connect(),this.body.edges[m.id]=m,m}},{key:"_clusterEdges",value:function(r,o,s,l){if(o instanceof Mg){var f={};f[o.id]=o,o=f}if(r instanceof Bs){var b={};b[r.id]=r,r=b}if(null==s)throw new Error("_clusterEdges: parameter clusterNode required");for(var I in void 0===l&&(l=s.clusterEdgeProperties),this._createClusterEdges(r,o,s,l),o)if(Object.prototype.hasOwnProperty.call(o,I)&&void 0!==this.body.edges[I]){var A=this.body.edges[I];this._backupEdgeOptions(A),A.setOptions({physics:!1})}for(var P in r)Object.prototype.hasOwnProperty.call(r,P)&&(this.clusteredNodes[P]={clusterId:s.id,node:this.body.nodes[P]},this.body.nodes[P].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(r){if(void 0!==r){var o=this.clusteredNodes[r];if(void 0!==o){var s=o.clusterId;if(void 0!==s)return this.body.nodes[s]}}}},{key:"_filter",value:function(r,o){var s=[];return O(r,function(l){o(l)&&s.push(l)}),s}},{key:"_updateState",value:function(){var r,o=this,s=[],l={},d=function(A){O(o.body.nodes,function(P){!0===P.isCluster&&A(P)})};for(r in this.clusteredNodes)Object.prototype.hasOwnProperty.call(this.clusteredNodes,r)&&void 0===this.body.nodes[r]&&s.push(r);d(function(A){for(var P=0;P<s.length;P++)delete A.containedNodes[s[P]]});for(var f=0;f<s.length;f++)delete this.clusteredNodes[s[f]];O(this.clusteredEdges,function(A){var P=o.body.edges[A];void 0!==P&&P.endPointsValid()||(l[A]=A)}),d(function(A){O(A.containedEdges,function(P,H){P.endPointsValid()||l[H]||(l[H]=H)})}),O(this.body.edges,function(A,P){var H=!0,U=A.clusteringEdgeReplacingIds;if(void 0!==U){var W=0;O(U,function(K){var oe=o.body.edges[K];void 0!==oe&&oe.endPointsValid()&&(W+=1)}),H=W>0}A.endPointsValid()&&H||(l[P]=P)}),d(function(A){O(l,function(P){delete A.containedEdges[P],O(A.edges,function(H,U){H.id!==P?H.clusteringEdgeReplacingIds=o._filter(H.clusteringEdgeReplacingIds,function(W){return!l[W]}):A.edges[U]=null}),A.edges=o._filter(A.edges,function(H){return null!==H})})}),O(l,function(A){delete o.clusteredEdges[A]}),O(l,function(A){delete o.body.edges[A]}),O(sn(this.body.edges),function(A){var P=o.body.edges[A],H=o._isClusteredNode(P.fromId)||o._isClusteredNode(P.toId);if(H!==o._isClusteredEdge(P.id))if(H){var U=o._getClusterNodeForNode(P.fromId);void 0!==U&&o._clusterEdges(o.body.nodes[P.fromId],P,U);var W=o._getClusterNodeForNode(P.toId);void 0!==W&&o._clusterEdges(o.body.nodes[P.toId],P,W)}else delete o._clusterEdges[A],o._restoreEdge(P)});for(var m=!1,b=!0,I=function(){var A=[];d(function(H){var U=sn(H.containedNodes).length,W=!0===H.options.allowSingleNodeCluster;(W&&U<1||!W&&U<2)&&A.push(H.id)});for(var P=0;P<A.length;++P)o.openCluster(A[P],{},!1);b=A.length>0,m=m||b};b;)I();m&&this._updateState()}},{key:"_isClusteredNode",value:function(r){return void 0!==this.clusteredNodes[r]}},{key:"_isClusteredEdge",value:function(r){return void 0!==this.clusteredEdges[r]}}]),u}();function JE(u,r){var o=void 0!==No&&Zo(u)||u["@@iterator"];if(!o){if(Rt(u)||(o=function(b,I){var A;if(b){if("string"==typeof b)return g_(b,I);var P=qt(A=Object.prototype.toString.call(b)).call(A,8,-1);if("Object"===P&&b.constructor&&(P=b.constructor.name),"Map"===P||"Set"===P)return ju(b);if("Arguments"===P||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P))return g_(b,I)}}(u))||r&&u&&"number"==typeof u.length){o&&(u=o);var s=0,l=function(){};return{s:l,n:function(){return s>=u.length?{done:!0}:{done:!1,value:u[s++]}},e:function(b){throw b},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var d,f=!0,m=!1;return{s:function(){o=o.call(u)},n:function(){var b=o.next();return f=b.done,b},e:function(b){m=!0,d=b},f:function(){try{f||null==o.return||o.return()}finally{if(m)throw d}}}}function g_(u,r){(null==r||r>u.length)&&(r=u.length);for(var o=0,s=new Array(r);o<r;o++)s[o]=u[o];return s}var e1=function(){function u(r,o){var s;ke(this,u),void 0!==window&&(s=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),window.requestAnimationFrame=void 0===s?function(l){l()}:s,this.body=r,this.canvas=o,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},jn(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return Te(u,[{key:"bindEventListeners",value:function(){var r,o=this;this.body.emitter.on("dragStart",function(){o.dragging=!0}),this.body.emitter.on("dragEnd",function(){o.dragging=!1}),this.body.emitter.on("zoom",function(){o.zooming=!0,window.clearTimeout(o.zoomTimeoutId),o.zoomTimeoutId=is(function(){var s;o.zooming=!1,he(s=o._requestRedraw).call(s,o)()},250)}),this.body.emitter.on("_resizeNodes",function(){o._resizeNodes()}),this.body.emitter.on("_redraw",function(){!1===o.renderingActive&&o._redraw()}),this.body.emitter.on("_blockRedraw",function(){o.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){o.allowRedraw=!0,o.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",he(r=this._requestRedraw).call(r,this)),this.body.emitter.on("_startRendering",function(){o.renderRequests+=1,o.renderingActive=!0,o._startRendering()}),this.body.emitter.on("_stopRendering",function(){o.renderRequests-=1,o.renderingActive=o.renderRequests>0,o.renderTimer=void 0}),this.body.emitter.on("destroy",function(){o.renderRequests=0,o.allowRedraw=!1,o.renderingActive=!1,!0===o.requiresTimeout?clearTimeout(o.renderTimer):window.cancelAnimationFrame(o.renderTimer),o.body.emitter.off()})}},{key:"setOptions",value:function(r){void 0!==r&&po(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,r)}},{key:"_requestNextFrame",value:function(r,o){if("undefined"!=typeof window){var s,l=window;return!0===this.requiresTimeout?s=is(r,o):l.requestAnimationFrame&&(s=l.requestAnimationFrame(r)),s}}},{key:"_startRendering",value:function(){var r;!0===this.renderingActive&&void 0===this.renderTimer&&(this.renderTimer=this._requestNextFrame(he(r=this._renderStep).call(r,this),this.simulationInterval))}},{key:"_renderStep",value:function(){!0===this.renderingActive&&(this.renderTimer=void 0,!0===this.requiresTimeout&&this._startRendering(),this._redraw(),!1===this.requiresTimeout&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var r=this;!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&(this.redrawRequested=!0,this._requestNextFrame(function(){r._redraw(!1)},0))}},{key:"_redraw",value:function(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;var o={drawExternalLabels:null};0!==this.canvas.frame.canvas.width&&0!==this.canvas.frame.canvas.height||this.canvas.setSize(),this.canvas.setTransform();var s=this.canvas.getContext(),l=this.canvas.frame.canvas.clientWidth,d=this.canvas.frame.canvas.clientHeight;if(s.clearRect(0,0,l,d),0===this.canvas.frame.clientWidth)return;if(s.save(),s.translate(this.body.view.translation.x,this.body.view.translation.y),s.scale(this.body.view.scale,this.body.view.scale),s.beginPath(),this.body.emitter.emit("beforeDrawing",s),s.closePath(),!1===r&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawEdges(s),!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag){var f=this._drawNodes(s,r);o.drawExternalLabels=f.drawExternalLabels}!1===r&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawArrows(s),null!=o.drawExternalLabels&&o.drawExternalLabels(),!1===r&&this._drawSelectionBox(s),s.beginPath(),this.body.emitter.emit("afterDrawing",s),s.closePath(),s.restore(),!0===r&&s.clearRect(0,0,l,d)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var r=this.canvas.getContext();r.save(),r.translate(this.body.view.translation.x,this.body.view.translation.y),r.scale(this.body.view.scale,this.body.view.scale);var o,s=this.body.nodes;for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&((o=s[l]).resize(r),o.updateBoundingBox(r,o.selected));r.restore()}},{key:"_drawNodes",value:function(r){for(var o,s,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1],d=this.body.nodes,f=this.body.nodeIndices,m=[],b=[],I=20,A=this.canvas.DOMtoCanvas({x:-I,y:-I}),P=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+I,y:this.canvas.frame.canvas.clientHeight+I}),H={top:A.y,left:A.x,bottom:P.y,right:P.x},U=[],W=0;W<f.length;W++)if((o=d[f[W]]).hover)b.push(f[W]);else if(o.isSelected())m.push(f[W]);else if(!0===l){var K=o.draw(r);null!=K.drawExternalLabel&&U.push(K.drawExternalLabel)}else if(!0===o.isBoundingBoxOverlappingWith(H)){var oe=o.draw(r);null!=oe.drawExternalLabel&&U.push(oe.drawExternalLabel)}else o.updateBoundingBox(r,o.selected);var Z=m.length,ee=b.length;for(s=0;s<Z;s++){var ae=(o=d[m[s]]).draw(r);null!=ae.drawExternalLabel&&U.push(ae.drawExternalLabel)}for(s=0;s<ee;s++){var ve=(o=d[b[s]]).draw(r);null!=ve.drawExternalLabel&&U.push(ve.drawExternalLabel)}return{drawExternalLabels:function(){var ce,Me=JE(U);try{for(Me.s();!(ce=Me.n()).done;)(0,ce.value)()}catch(le){Me.e(le)}finally{Me.f()}}}}},{key:"_drawEdges",value:function(r){for(var o=this.body.edges,s=this.body.edgeIndices,l=0;l<s.length;l++){var d=o[s[l]];!0===d.connected&&d.draw(r)}}},{key:"_drawArrows",value:function(r){for(var o=this.body.edges,s=this.body.edgeIndices,l=0;l<s.length;l++){var d=o[s[l]];!0===d.connected&&d.drawArrows(r)}}},{key:"_determineBrowserMethod",value:function(){if("undefined"!=typeof window){var r=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,(-1!=Qt(r).call(r,"msie 9.0")||-1!=Qt(r).call(r,"safari")&&Qt(r).call(r,"chrome")<=-1)&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}},{key:"_drawSelectionBox",value:function(r){if(this.body.selectionBox.show){r.beginPath();var o=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,s=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;r.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,o,s),r.fillStyle="rgba(151, 194, 252, 0.2)",r.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,o,s),r.strokeStyle="rgba(151, 194, 252, 1)",r.stroke()}else r.closePath()}}]),u}(),t1=kt.setInterval;function qm(u,r){r.inputHandler=function(o){o.isFirst&&r(o)},u.on("hammer.input",r.inputHandler)}function v_(u,r){return r.inputHandler=function(o){o.isFinal&&r(o)},u.on("hammer.input",r.inputHandler)}var n1=function(){function u(r){ke(this,u),this.body=r,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},jn(this.options,this.defaultOptions),this.bindEventListeners()}return Te(u,[{key:"bindEventListeners",value:function(){var r,o=this;this.body.emitter.once("resize",function(s){0!==s.width&&(o.body.view.translation.x=.5*s.width),0!==s.height&&(o.body.view.translation.y=.5*s.height)}),this.body.emitter.on("setSize",he(r=this.setSize).call(r,this)),this.body.emitter.on("destroy",function(){o.hammerFrame.destroy(),o.hammer.destroy(),o._cleanUp()})}},{key:"setOptions",value:function(r){var o,s,l,d,f,m=this;if(void 0!==r&&po(["width","height","autoResize"],this.options,r),this._cleanUp(),!0===this.options.autoResize){var b;if(window.ResizeObserver){var I=new ResizeObserver(function(){!0===m.setSize()&&m.body.emitter.emit("_requestRedraw")}),A=this.frame;I.observe(A),this._cleanupCallbacks.push(function(){I.unobserve(A)})}else{var P=t1(function(){!0===m.setSize()&&m.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(function(){clearInterval(P)})}var H=he(b=this._onResize).call(b,this);o=window,s="resize",l=H,o.addEventListener?(void 0===d&&(d=!1),"mousewheel"===s&&re(f=navigator.userAgent).call(f,"Firefox")&&(s="DOMMouseScroll"),o.addEventListener(s,l,d)):o.attachEvent("on"+s,l),this._cleanupCallbacks.push(function(){var U,W,K,oe,Z;U=window,W="resize",K=H,U.removeEventListener?(void 0===oe&&(oe=!1),"mousewheel"===W&&re(Z=navigator.userAgent).call(Z,"Firefox")&&(W="DOMMouseScroll"),U.removeEventListener(W,K,oe)):U.detachEvent("on"+W,K)})}}},{key:"_cleanUp",value:function(){var r,o,s;en(r=Dn(o=As(s=this._cleanupCallbacks).call(s,0)).call(o)).call(r,function(l){try{l()}catch(d){console.error(d)}})}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/r,this.cameraState.previousHeight=this.frame.canvas.height/r,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/r,y:.5*this.frame.canvas.height/r}))}},{key:"_setCameraState",value:function(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){var r=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,o=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,s=this.cameraState.scale;1!=r&&1!=o?s=.5*this.cameraState.scale*(r+o):1!=r?s=this.cameraState.scale*r:1!=o&&(s=this.cameraState.scale*o),this.body.view.scale=s;var l=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),d={x:l.x-this.cameraState.position.x,y:l.y-this.cameraState.position.y};this.body.view.translation.x+=d.x*this.body.view.scale,this.body.view.translation.y+=d.y*this.body.view.scale}}},{key:"_prepareValue",value:function(r){if("number"==typeof r)return r+"px";if("string"==typeof r){if(-1!==Qt(r).call(r,"%")||-1!==Qt(r).call(r,"px"))return r;if(-1===Qt(r).call(r,"%"))return r+"px"}throw new Error("Could not use the value supplied for width or height:"+r)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var r=document.createElement("DIV");r.style.color="red",r.style.fontWeight="bold",r.style.padding="10px",r.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(r)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var r=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new ji(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:ji.DIRECTION_ALL}),qm(this.hammer,function(o){r.body.eventListeners.onTouch(o)}),this.hammer.on("tap",function(o){r.body.eventListeners.onTap(o)}),this.hammer.on("doubletap",function(o){r.body.eventListeners.onDoubleTap(o)}),this.hammer.on("press",function(o){r.body.eventListeners.onHold(o)}),this.hammer.on("panstart",function(o){r.body.eventListeners.onDragStart(o)}),this.hammer.on("panmove",function(o){r.body.eventListeners.onDrag(o)}),this.hammer.on("panend",function(o){r.body.eventListeners.onDragEnd(o)}),this.hammer.on("pinch",function(o){r.body.eventListeners.onPinch(o)}),this.frame.canvas.addEventListener("wheel",function(o){r.body.eventListeners.onMouseWheel(o)}),this.frame.canvas.addEventListener("mousemove",function(o){r.body.eventListeners.onMouseMove(o)}),this.frame.canvas.addEventListener("contextmenu",function(o){r.body.eventListeners.onContext(o)}),this.hammerFrame=new ji(this.frame),v_(this.hammerFrame,function(o){r.body.eventListeners.onRelease(o)})}},{key:"setSize",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.width,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.height;r=this._prepareValue(r),o=this._prepareValue(o);var s=!1,l=this.frame.canvas.width,d=this.frame.canvas.height,f=this.pixelRatio;if(this._setPixelRatio(),r!=this.options.width||o!=this.options.height||this.frame.style.width!=r||this.frame.style.height!=o)this._getCameraState(f),this.frame.style.width=r,this.frame.style.height=o,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=r,this.options.height=o,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},s=!0;else{var m=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),b=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);this.frame.canvas.width===m&&this.frame.canvas.height===b||this._getCameraState(f),this.frame.canvas.width!==m&&(this.frame.canvas.width=m,s=!0),this.frame.canvas.height!==b&&(this.frame.canvas.height=b,s=!0)}return!0===s&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(l/this.pixelRatio),oldHeight:Math.round(d/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,s}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var r=this.getContext();if(void 0===r)throw new Error("Could not get canvax context");var o=1;return"undefined"!=typeof window&&(o=window.devicePixelRatio||1),o/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1)}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var r=this.getContext();if(void 0===r)throw new Error("Could not get canvax context");r.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(r){return(r-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(r){return r*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(r){return(r-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(r){return r*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(r){return{x:this._XconvertCanvasToDOM(r.x),y:this._YconvertCanvasToDOM(r.y)}}},{key:"DOMtoCanvas",value:function(r){return{x:this._XconvertDOMtoCanvas(r.x),y:this._YconvertDOMtoCanvas(r.y)}}}]),u}();function r1(u,r){var o=jn({nodes:r,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},null!=u?u:{});if(!Rt(o.nodes))throw new TypeError("Nodes has to be an array of ids.");if(0===o.nodes.length&&(o.nodes=r),!("number"==typeof o.minZoomLevel&&o.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!("number"==typeof o.maxZoomLevel&&o.minZoomLevel<=o.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return o}var i1=function(){function u(r,o){var s,l,d=this;ke(this,u),this.body=r,this.canvas=o,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",he(s=this.fit).call(s,this)),this.body.emitter.on("animationFinished",function(){d.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",he(l=this.releaseNode).call(l,this))}return Te(u,[{key:"setOptions",value:function(){this.options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}},{key:"fit",value:function(r){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r=r1(r,this.body.nodeIndices);var s,l,d=this.canvas.frame.canvas.clientWidth,f=this.canvas.frame.canvas.clientHeight;if(0===d||0===f)l=1,s=jo.getRange(this.body.nodes,r.nodes);else if(!0===o){var m=0;for(var b in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,b)&&!0===this.body.nodes[b].predefinedPosition&&(m+=1);if(m>.5*this.body.nodeIndices.length)return void this.fit(r,!1);s=jo.getRange(this.body.nodes,r.nodes),l=12.662/(this.body.nodeIndices.length+7.4147)+.0964822,l*=Math.min(d/600,f/600)}else{this.body.emitter.emit("_resizeNodes"),s=jo.getRange(this.body.nodes,r.nodes);var W=d/(1.1*Math.abs(s.maxX-s.minX)),K=f/(1.1*Math.abs(s.maxY-s.minY));l=W<=K?W:K}l>r.maxZoomLevel?l=r.maxZoomLevel:l<r.minZoomLevel&&(l=r.minZoomLevel);var oe=jo.findCenter(s);this.moveTo({position:oe,scale:l,animation:r.animation})}},{key:"focus",value:function(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};void 0!==this.body.nodes[r]?(o.position={x:this.body.nodes[r].x,y:this.body.nodes[r].y},o.lockedOnNode=r,this.moveTo(o)):console.error("Node: "+r+" cannot be found.")}},{key:"moveTo",value:function(r){if(void 0!==r){if(null!=r.offset){if(null!=r.offset.x){if(r.offset.x=+r.offset.x,!cu(r.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else r.offset.x=0;if(null!=r.offset.y){if(r.offset.y=+r.offset.y,!cu(r.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else r.offset.x=0}else r.offset={x:0,y:0};if(null!=r.position){if(null!=r.position.x){if(r.position.x=+r.position.x,!cu(r.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else r.position.x=0;if(null!=r.position.y){if(r.position.y=+r.position.y,!cu(r.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else r.position.x=0}else r.position=this.getViewPosition();if(null!=r.scale){if(r.scale=+r.scale,!(r.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else r.scale=this.body.view.scale;void 0===r.animation&&(r.animation={duration:0}),!1===r.animation&&(r.animation={duration:0}),!0===r.animation&&(r.animation={}),void 0===r.animation.duration&&(r.animation.duration=1e3),void 0===r.animation.easingFunction&&(r.animation.easingFunction="easeInOutQuad"),this.animateView(r)}else r={}}},{key:"animateView",value:function(r){if(void 0!==r){this.animationEasingFunction=r.animation.easingFunction,this.releaseNode(),!0===r.locked&&(this.lockedOnNodeId=r.lockedOnNode,this.lockedOnNodeOffset=r.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=r.scale,this.body.view.scale=this.targetScale;var o,s,l=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight});this.targetTranslation={x:this.sourceTranslation.x+(l.x-r.position.x)*this.targetScale+r.offset.x,y:this.sourceTranslation.y+(l.y-r.position.y)*this.targetScale+r.offset.y},0===r.animation.duration?null!=this.lockedOnNodeId?(this.viewFunction=he(o=this._lockedRedraw).call(o,this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*r.animation.duration*.001)||1/60,this.animationEasingFunction=r.animation.easingFunction,this.viewFunction=he(s=this._transitionRedraw).call(s,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var r=this.body.nodes[this.lockedOnNodeId].x,o=this.body.nodes[this.lockedOnNodeId].y,s=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),f=this.body.view.translation;this.body.view.translation={x:f.x+(s.x-r)*this.body.view.scale+this.lockedOnNodeOffset.x,y:f.y+(s.y-o)*this.body.view.scale+this.lockedOnNodeOffset.y}}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=!0===r?1:this.easingTime;var s,o=bn[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*o,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*o,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*o},this.easingTime>=1&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,null!=this.lockedOnNodeId&&(this.viewFunction=he(s=this._lockedRedraw).call(s,this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),u}();var o1=function(){function u(r,o){var s=this;ke(this,u),this.body=r,this.canvas=o,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){s.activated=!0,s.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){s.activated=!1,s.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){void 0!==s.keycharm&&s.keycharm.destroy()}),this.options={}}return Te(u,[{key:"setOptions",value:function(r){void 0!==r&&(this.options=r,this.create())}},{key:"create",value:function(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var r=0;r<this.navigationHammers.length;r++)this.navigationHammers[r].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var r=this;this.cleanNavigation(),this.navigationDOM={};var o=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],s=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var l=0;l<o.length;l++){this.navigationDOM[o[l]]=document.createElement("div"),this.navigationDOM[o[l]].className="vis-button vis-"+o[l],this.navigationDOM.wrapper.appendChild(this.navigationDOM[o[l]]);var d,f,m=new ji(this.navigationDOM[o[l]]);qm(m,"_fit"===s[l]?he(d=this._fit).call(d,this):he(f=this.bindToRedraw).call(f,this,s[l])),this.navigationHammers.push(m)}var b=new ji(this.canvas.frame);v_(b,function(){r._stopMovement()}),this.navigationHammers.push(b),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(r){var o;void 0===this.boundFunctions[r]&&(this.boundFunctions[r]=he(o=this[r]).call(o,this),this.body.emitter.on("initRedraw",this.boundFunctions[r]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(r){void 0!==this.boundFunctions[r]&&(this.body.emitter.off("initRedraw",this.boundFunctions[r]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[r])}},{key:"_fit",value:function(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var r in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,r)&&(this.body.emitter.off("initRedraw",this.boundFunctions[r]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var o=this.body.view.scale*(1+this.options.keyboard.speed.zoom),s=this.body.view.translation,l=o/this.body.view.scale,d=(1-l)*this.canvas.canvasViewCenter.x+s.x*l,f=(1-l)*this.canvas.canvasViewCenter.y+s.y*l;this.body.view.scale=o,this.body.view.translation={x:d,y:f},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var o=this.body.view.scale/(1+this.options.keyboard.speed.zoom),s=this.body.view.translation,l=o/this.body.view.scale,d=(1-l)*this.canvas.canvasViewCenter.x+s.x*l,f=(1-l)*this.canvas.canvasViewCenter.y+s.y*l;this.body.view.scale=o,this.body.view.translation={x:d,y:f},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var r,o,s,l,d,f,m,b,I,A,P,H,U,W,K,oe,Z,ee,ae,ve,ce,Me,le,me,te=this;void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled&&(this.keycharm=function(u){var r,o=u&&u.preventDefault||!1,s=u&&u.container||window,l={},d={keydown:{},keyup:{}},f={};for(r=97;r<=122;r++)f[String.fromCharCode(r)]={code:r-97+65,shift:!1};for(r=65;r<=90;r++)f[String.fromCharCode(r)]={code:r,shift:!0};for(r=0;r<=9;r++)f[""+r]={code:48+r,shift:!1};for(r=1;r<=12;r++)f["F"+r]={code:111+r,shift:!1};for(r=0;r<=9;r++)f["num"+r]={code:96+r,shift:!1};f["num*"]={code:106,shift:!1},f["num+"]={code:107,shift:!1},f["num-"]={code:109,shift:!1},f["num/"]={code:111,shift:!1},f["num."]={code:110,shift:!1},f.left={code:37,shift:!1},f.up={code:38,shift:!1},f.right={code:39,shift:!1},f.down={code:40,shift:!1},f.space={code:32,shift:!1},f.enter={code:13,shift:!1},f.shift={code:16,shift:void 0},f.esc={code:27,shift:!1},f.backspace={code:8,shift:!1},f.tab={code:9,shift:!1},f.ctrl={code:17,shift:!1},f.alt={code:18,shift:!1},f.delete={code:46,shift:!1},f.pageup={code:33,shift:!1},f.pagedown={code:34,shift:!1},f["="]={code:187,shift:!1},f["-"]={code:189,shift:!1},f["]"]={code:221,shift:!1},f["["]={code:219,shift:!1};var m=function(A){I(A,"keydown")},b=function(A){I(A,"keyup")},I=function(A,P){if(void 0!==d[P][A.keyCode]){for(var H=d[P][A.keyCode],U=0;U<H.length;U++)(void 0===H[U].shift||1==H[U].shift&&1==A.shiftKey||0==H[U].shift&&0==A.shiftKey)&&H[U].fn(A);1==o&&A.preventDefault()}};return l.bind=function(A,P,H){if(void 0===H&&(H="keydown"),void 0===f[A])throw new Error("unsupported key: "+A);void 0===d[H][f[A].code]&&(d[H][f[A].code]=[]),d[H][f[A].code].push({fn:P,shift:f[A].shift})},l.bindAll=function(A,P){for(var H in void 0===P&&(P="keydown"),f)f.hasOwnProperty(H)&&l.bind(H,A,P)},l.getKey=function(A){for(var P in f)if(f.hasOwnProperty(P)&&(1==A.shiftKey&&1==f[P].shift&&A.keyCode==f[P].code||0==A.shiftKey&&0==f[P].shift&&A.keyCode==f[P].code||A.keyCode==f[P].code&&"shift"==P))return P;return"unknown key, currently not supported"},l.unbind=function(A,P,H){if(void 0===H&&(H="keydown"),void 0===f[A])throw new Error("unsupported key: "+A);if(void 0!==P){var U=[],W=d[H][f[A].code];if(void 0!==W)for(var K=0;K<W.length;K++)W[K].fn==P&&W[K].shift==f[A].shift||U.push(d[H][f[A].code][K]);d[H][f[A].code]=U}else d[H][f[A].code]=[]},l.reset=function(){d={keydown:{},keyup:{}}},l.destroy=function(){d={keydown:{},keyup:{}},s.removeEventListener("keydown",m,!0),s.removeEventListener("keyup",b,!0)},s.addEventListener("keydown",m,!0),s.addEventListener("keyup",b,!0),l}(!0===this.options.keyboard.bindToWindow?{container:window,preventDefault:!0}:{container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&(he(r=this.keycharm).call(r,"up",function(){te.bindToRedraw("_moveUp")},"keydown"),he(o=this.keycharm).call(o,"down",function(){te.bindToRedraw("_moveDown")},"keydown"),he(s=this.keycharm).call(s,"left",function(){te.bindToRedraw("_moveLeft")},"keydown"),he(l=this.keycharm).call(l,"right",function(){te.bindToRedraw("_moveRight")},"keydown"),he(d=this.keycharm).call(d,"=",function(){te.bindToRedraw("_zoomIn")},"keydown"),he(f=this.keycharm).call(f,"num+",function(){te.bindToRedraw("_zoomIn")},"keydown"),he(m=this.keycharm).call(m,"num-",function(){te.bindToRedraw("_zoomOut")},"keydown"),he(b=this.keycharm).call(b,"-",function(){te.bindToRedraw("_zoomOut")},"keydown"),he(I=this.keycharm).call(I,"[",function(){te.bindToRedraw("_zoomOut")},"keydown"),he(A=this.keycharm).call(A,"]",function(){te.bindToRedraw("_zoomIn")},"keydown"),he(P=this.keycharm).call(P,"pageup",function(){te.bindToRedraw("_zoomIn")},"keydown"),he(H=this.keycharm).call(H,"pagedown",function(){te.bindToRedraw("_zoomOut")},"keydown"),he(U=this.keycharm).call(U,"up",function(){te.unbindFromRedraw("_moveUp")},"keyup"),he(W=this.keycharm).call(W,"down",function(){te.unbindFromRedraw("_moveDown")},"keyup"),he(K=this.keycharm).call(K,"left",function(){te.unbindFromRedraw("_moveLeft")},"keyup"),he(oe=this.keycharm).call(oe,"right",function(){te.unbindFromRedraw("_moveRight")},"keyup"),he(Z=this.keycharm).call(Z,"=",function(){te.unbindFromRedraw("_zoomIn")},"keyup"),he(ee=this.keycharm).call(ee,"num+",function(){te.unbindFromRedraw("_zoomIn")},"keyup"),he(ae=this.keycharm).call(ae,"num-",function(){te.unbindFromRedraw("_zoomOut")},"keyup"),he(ve=this.keycharm).call(ve,"-",function(){te.unbindFromRedraw("_zoomOut")},"keyup"),he(ce=this.keycharm).call(ce,"[",function(){te.unbindFromRedraw("_zoomOut")},"keyup"),he(Me=this.keycharm).call(Me,"]",function(){te.unbindFromRedraw("_zoomIn")},"keyup"),he(le=this.keycharm).call(le,"pageup",function(){te.unbindFromRedraw("_zoomIn")},"keyup"),he(me=this.keycharm).call(me,"pagedown",function(){te.unbindFromRedraw("_zoomOut")},"keyup")))}}]),u}();function y_(u,r){(null==r||r>u.length)&&(r=u.length);for(var o=0,s=new Array(r);o<r;o++)s[o]=u[o];return s}var a1=function(){function u(r,o,s){var l,d,f,m,b,I,A,P,H,U,W,K,oe;ke(this,u),this.body=r,this.canvas=o,this.selectionHandler=s,this.navigationHandler=new o1(r,o),this.body.eventListeners.onTap=he(l=this.onTap).call(l,this),this.body.eventListeners.onTouch=he(d=this.onTouch).call(d,this),this.body.eventListeners.onDoubleTap=he(f=this.onDoubleTap).call(f,this),this.body.eventListeners.onHold=he(m=this.onHold).call(m,this),this.body.eventListeners.onDragStart=he(b=this.onDragStart).call(b,this),this.body.eventListeners.onDrag=he(I=this.onDrag).call(I,this),this.body.eventListeners.onDragEnd=he(A=this.onDragEnd).call(A,this),this.body.eventListeners.onMouseWheel=he(P=this.onMouseWheel).call(P,this),this.body.eventListeners.onPinch=he(H=this.onPinch).call(H,this),this.body.eventListeners.onMouseMove=he(U=this.onMouseMove).call(U,this),this.body.eventListeners.onRelease=he(W=this.onRelease).call(W,this),this.body.eventListeners.onContext=he(K=this.onContext).call(K,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=he(oe=this.getPointer).call(oe,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},jn(this.options,this.defaultOptions),this.bindEventListeners()}return Te(u,[{key:"bindEventListeners",value:function(){var r=this;this.body.emitter.on("destroy",function(){clearTimeout(r.popupTimer),delete r.body.functions.getPointer})}},{key:"setOptions",value:function(r){void 0!==r&&(p(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,r),je(this.options,r,"keyboard"),r.tooltip&&(jn(this.options.tooltip,r.tooltip),r.tooltip.color&&(this.options.tooltip.color=q(r.tooltip.color)))),this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(r){return{x:r.x-(o=this.canvas.frame.canvas,o.getBoundingClientRect().left),y:r.y-T(this.canvas.frame.canvas)};var o}},{key:"onTouch",value:function(r){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(r.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(r){var o=this.getPointer(r.center);this.checkSelectionChanges(o,this.selectionHandler.options.multiselect&&(r.changedPointers[0].ctrlKey||r.changedPointers[0].metaKey)),this.selectionHandler.commitAndEmit(o,r),this.selectionHandler.generateClickEvent("click",r,o)}},{key:"onDoubleTap",value:function(r){var o=this.getPointer(r.center);this.selectionHandler.generateClickEvent("doubleClick",r,o)}},{key:"onHold",value:function(r){var o=this.getPointer(r.center);this.checkSelectionChanges(o,this.selectionHandler.options.multiselect),this.selectionHandler.commitAndEmit(o,r),this.selectionHandler.generateClickEvent("click",r,o),this.selectionHandler.generateClickEvent("hold",r,o)}},{key:"onRelease",value:function(r){if((new Date).valueOf()-this.touchTime>10){var o=this.getPointer(r.center);this.selectionHandler.generateClickEvent("release",r,o),this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(r){var o=this.getPointer({x:r.clientX,y:r.clientY});this.selectionHandler.generateClickEvent("oncontext",r,o)}},{key:"checkSelectionChanges",value:function(r){!0===(arguments.length>1&&void 0!==arguments[1]&&arguments[1])?this.selectionHandler.selectAdditionalOnPoint(r):this.selectionHandler.selectOnPoint(r)}},{key:"_determineDifference",value:function(r,o){var s=function(l,d){for(var f=[],m=0;m<l.length;m++){var b=l[m];-1===Qt(d).call(d,b)&&f.push(b)}return f};return{nodes:s(r.nodes,o.nodes),edges:s(r.edges,o.edges)}}},{key:"onDragStart",value:function(r){if(!this.drag.dragging){void 0===this.drag.pointer&&this.onTouch(r);var o=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=jn({},this.body.view.translation),this.drag.nodeId=void 0,r.srcEvent.shiftKey){this.body.selectionBox.show=!0;var s=this.getPointer(r.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(s.x),y:this.canvas._YconvertDOMtoCanvas(s.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(s.x),y:this.canvas._YconvertDOMtoCanvas(s.y)}}if(void 0!==o&&!0===this.options.dragNodes){this.drag.nodeId=o.id,!1===o.isSelected()&&(this.selectionHandler.unselectAll(),this.selectionHandler.selectObject(o)),this.selectionHandler.generateClickEvent("dragStart",r,this.drag.pointer);var l,d=function(u,r){var o=void 0!==No&&Zo(u)||u["@@iterator"];if(!o){if(Rt(u)||(o=function(b,I){var A;if(b){if("string"==typeof b)return y_(b,I);var P=qt(A=Object.prototype.toString.call(b)).call(A,8,-1);if("Object"===P&&b.constructor&&(P=b.constructor.name),"Map"===P||"Set"===P)return ju(b);if("Arguments"===P||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P))return y_(b,I)}}(u))||r&&u&&"number"==typeof u.length){o&&(u=o);var s=0,l=function(){};return{s:l,n:function(){return s>=u.length?{done:!0}:{done:!1,value:u[s++]}},e:function(b){throw b},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var d,f=!0,m=!1;return{s:function(){o=o.call(u)},n:function(){var b=o.next();return f=b.done,b},e:function(b){m=!0,d=b},f:function(){try{f||null==o.return||o.return()}finally{if(m)throw d}}}}(this.selectionHandler.getSelectedNodes());try{for(d.s();!(l=d.n()).done;){var f=l.value,m={id:f.id,node:f,x:f.x,y:f.y,xFixed:f.options.fixed.x,yFixed:f.options.fixed.y};f.options.fixed.x=!0,f.options.fixed.y=!0,this.drag.selection.push(m)}}catch(b){d.e(b)}finally{d.f()}}else this.selectionHandler.generateClickEvent("dragStart",r,this.drag.pointer,void 0,!0)}}},{key:"onDrag",value:function(r){var o=this;if(!0!==this.drag.pinched){this.body.emitter.emit("unlockNode");var s=this.getPointer(r.center),l=this.drag.selection;if(l&&l.length&&!0===this.options.dragNodes){this.selectionHandler.generateClickEvent("dragging",r,s);var d=s.x-this.drag.pointer.x,f=s.y-this.drag.pointer.y;en(l).call(l,function(I){var A=I.node;!1===I.xFixed&&(A.x=o.canvas._XconvertDOMtoCanvas(o.canvas._XconvertCanvasToDOM(I.x)+d)),!1===I.yFixed&&(A.y=o.canvas._YconvertDOMtoCanvas(o.canvas._YconvertCanvasToDOM(I.y)+f))}),this.body.emitter.emit("startSimulation")}else{if(r.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",r,s,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(r);this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(s.x),y:this.canvas._YconvertDOMtoCanvas(s.y)},this.body.emitter.emit("_requestRedraw")}if(!0===this.options.dragView&&!r.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",r,s,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(r);this.body.view.translation={x:this.drag.translation.x+(s.x-this.drag.pointer.x),y:this.drag.translation.y+(s.y-this.drag.pointer.y)},this.body.emitter.emit("_requestRedraw")}}}}},{key:"onDragEnd",value:function(r){var o=this;if(this.drag.dragging=!1,this.body.selectionBox.show){var s;this.body.selectionBox.show=!1;var l=this.body.selectionBox.position,d={minX:Math.min(l.start.x,l.end.x),minY:Math.min(l.start.y,l.end.y),maxX:Math.max(l.start.x,l.end.x),maxY:Math.max(l.start.y,l.end.y)},f=it(s=this.body.nodeIndices).call(s,function(I){var A=o.body.nodes[I];return A.x>=d.minX&&A.x<=d.maxX&&A.y>=d.minY&&A.y<=d.maxY});en(f).call(f,function(I){return o.selectionHandler.selectObject(o.body.nodes[I])});var m=this.getPointer(r.center);this.selectionHandler.commitAndEmit(m,r),this.selectionHandler.generateClickEvent("dragEnd",r,this.getPointer(r.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{var b=this.drag.selection;b&&b.length?(en(b).call(b,function(I){I.node.options.fixed.x=I.xFixed,I.node.options.fixed.y=I.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",r,this.getPointer(r.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",r,this.getPointer(r.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}},{key:"onPinch",value:function(r){var o=this.getPointer(r.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1),this.zoom(this.pinch.scale*r.scale,o)}},{key:"zoom",value:function(r,o){if(!0===this.options.zoomView){var s=this.body.view.scale;r<1e-5&&(r=1e-5),r>10&&(r=10);var l=void 0;void 0!==this.drag&&!0===this.drag.dragging&&(l=this.canvas.DOMtoCanvas(this.drag.pointer));var d=this.body.view.translation,f=r/s,m=(1-f)*o.x+d.x*f,b=(1-f)*o.y+d.y*f;if(this.body.view.scale=r,this.body.view.translation={x:m,y:b},null!=l){var I=this.canvas.canvasToDOM(l);this.drag.pointer.x=I.x,this.drag.pointer.y=I.y}this.body.emitter.emit("_requestRedraw"),this.body.emitter.emit("zoom",s<r?{direction:"+",scale:this.body.view.scale,pointer:o}:{direction:"-",scale:this.body.view.scale,pointer:o})}}},{key:"onMouseWheel",value:function(r){if(!0===this.options.zoomView){if(0!==r.deltaY){var o=this.body.view.scale;o*=1+.1*this.options.zoomSpeed*(r.deltaY<0?1:-1);var s=this.getPointer({x:r.clientX,y:r.clientY});this.zoom(o,s)}r.preventDefault()}}},{key:"onMouseMove",value:function(r){var o=this,s=this.getPointer({x:r.clientX,y:r.clientY}),l=!1;void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(s),!1===this.popup.hidden&&(l=!0,this.popup.setPosition(s.x+3,s.y-5),this.popup.show())),this.options.keyboard.autoFocus&&!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===l&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=is(function(){return o._checkShowPopup(s)},this.options.tooltipDelay))),!0===this.options.hover&&this.selectionHandler.hoverObject(r,s)}},{key:"_checkShowPopup",value:function(r){var o=this.canvas._XconvertDOMtoCanvas(r.x),s=this.canvas._YconvertDOMtoCanvas(r.y),l={left:o,top:s,right:o,bottom:s},d=void 0===this.popupObj?void 0:this.popupObj.id,f=!1,m="node";if(void 0===this.popupObj){for(var b,I=this.body.nodeIndices,A=this.body.nodes,P=[],H=0;H<I.length;H++)!0===(b=A[I[H]]).isOverlappingWith(l)&&(f=!0,void 0!==b.getTitle()&&P.push(I[H]));P.length>0&&(this.popupObj=A[P[P.length-1]],f=!0)}if(void 0===this.popupObj&&!1===f){for(var U,W=this.body.edgeIndices,K=this.body.edges,oe=[],Z=0;Z<W.length;Z++)!0===(U=K[W[Z]]).isOverlappingWith(l)&&!0===U.connected&&void 0!==U.getTitle()&&oe.push(W[Z]);oe.length>0&&(this.popupObj=K[oe[oe.length-1]],m="edge")}void 0!==this.popupObj?this.popupObj.id!==d&&(void 0===this.popup&&(this.popup=new Nv(this.canvas.frame)),this.popup.popupTargetType=m,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(r.x+3,r.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(r){var o=this.selectionHandler._pointerToPositionObject(r),s=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&!0===(s=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(o))){var l=this.selectionHandler.getNodeAt(r);s=void 0!==l&&l.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(r)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(s=this.body.edges[this.popup.popupTargetId].isOverlappingWith(o));!1===s&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),u}();jy("Set",function(u){return function(){return u(this,arguments.length?arguments[0]:void 0)}},tc);var Zf=kt.Set,b_=By,$v=Eg.exports.getWeakData,__=Pn,Ym=Tn,w_=p0,E_=Nm,fb=fn,C_=ki.set,D_=ki.getterFor,x_=da.find,T_=da.findIndex,I_=0,rc=function(u){return u.frozen||(u.frozen=new k_)},k_=function(){this.entries=[]},pb=function(u,r){return x_(u.entries,function(o){return o[0]===r})};k_.prototype={get:function(u){var r=pb(this,u);if(r)return r[1]},has:function(u){return!!pb(this,u)},set:function(u,r){var o=pb(this,u);o?o[1]=r:this.entries.push([u,r])},delete:function(u){var r=T_(this.entries,function(o){return o[0]===u});return~r&&this.entries.splice(r,1),!!~r}};var ic,GD=By,S_=Eg.exports,u1={getConstructor:function(u,r,o,s){var l=u(function(m,b){w_(m,l,r),C_(m,{type:r,id:I_++,frozen:void 0}),null!=b&&E_(b,m[s],{that:m,AS_ENTRIES:o})}),d=D_(r),f=function(m,b,I){var A=d(m),P=$v(__(b),!0);return!0===P?rc(A).set(b,I):P[A.id]=I,m};return b_(l.prototype,{delete:function(m){var b=d(this);if(!Ym(m))return!1;var I=$v(m);return!0===I?rc(b).delete(m):I&&fb(I,b.id)&&delete I[b.id]},has:function(m){var b=d(this);if(!Ym(m))return!1;var I=$v(m);return!0===I?rc(b).has(m):I&&fb(I,b.id)}}),b_(l.prototype,o?{get:function(m){var b=d(this);if(Ym(m)){var I=$v(m);return!0===I?rc(b).get(m):I?I[b.id]:void 0}},set:function(m,b){return f(this,m,b)}}:{add:function(m){return f(this,m,!0)}}),l}},Fe=Tn,Qm=ki.enforce,l1=ci,c1=!Re.ActiveXObject&&"ActiveXObject"in Re,Jf=Object.isExtensible,M_=function(u){return function(){return u(this,arguments.length?arguments[0]:void 0)}},Km=jy("WeakMap",M_,u1);if(l1&&c1){ic=u1.getConstructor(M_,"WeakMap",!0),S_.enable();var Nh=Km.prototype,Ir=Nh.delete,gb=Nh.has,vb=Nh.get,Xm=Nh.set;GD(Nh,{delete:function(u){if(Fe(u)&&!Jf(u)){var r=Qm(this);return r.frozen||(r.frozen=new ic),Ir.call(this,u)||r.frozen.delete(u)}return Ir.call(this,u)},has:function(u){if(Fe(u)&&!Jf(u)){var r=Qm(this);return r.frozen||(r.frozen=new ic),gb.call(this,u)||r.frozen.has(u)}return gb.call(this,u)},get:function(u){if(Fe(u)&&!Jf(u)){var r=Qm(this);return r.frozen||(r.frozen=new ic),gb.call(this,u)?vb.call(this,u):r.frozen.get(u)}return vb.call(this,u)},set:function(u,r){if(Fe(u)&&!Jf(u)){var o=Qm(this);o.frozen||(o.frozen=new ic),gb.call(this,u)?Xm.call(this,u,r):o.frozen.set(u,r)}else Xm.call(this,u,r);return this}})}var ep,Da,gd,vd,Uv,Wv=kt.WeakMap;function qn(u,r,o,s){if("a"===o&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof r?u!==r||!s:!r.has(u))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===o?s:"a"===o?s.call(u):s?s.value:r.get(u)}function mb(u,r,o,s,l){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!l)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof r?u!==r||!l:!r.has(u))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?l.call(u,o):l?l.value=o:r.set(u,o),o}function tp(u,r){var o=void 0!==No&&Zo(u)||u["@@iterator"];if(!o){if(Rt(u)||(o=function(b,I){var A;if(b){if("string"==typeof b)return A_(b,I);var P=qt(A=Object.prototype.toString.call(b)).call(A,8,-1);if("Object"===P&&b.constructor&&(P=b.constructor.name),"Map"===P||"Set"===P)return ju(b);if("Arguments"===P||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P))return A_(b,I)}}(u))||r&&u&&"number"==typeof u.length){o&&(u=o);var s=0,l=function(){};return{s:l,n:function(){return s>=u.length?{done:!0}:{done:!1,value:u[s++]}},e:function(b){throw b},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var d,f=!0,m=!1;return{s:function(){o=o.call(u)},n:function(){var b=o.next();return f=b.done,b},e:function(b){m=!0,d=b},f:function(){try{f||null==o.return||o.return()}finally{if(m)throw d}}}}function A_(u,r){(null==r||r>u.length)&&(r=u.length);for(var o=0,s=new Array(r);o<r;o++)s[o]=u[o];return s}function P_(u,r){var o,s=new Zf,l=tp(r);try{for(l.s();!(o=l.n()).done;){var d=o.value;u.has(d)||s.add(d)}}catch(f){l.e(f)}finally{l.f()}return s}var N_=function(){function u(){ke(this,u),ep.set(this,new Zf),Da.set(this,new Zf)}return Te(u,[{key:"size",get:function(){return qn(this,Da,"f").size}},{key:"add",value:function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];for(var l=0,d=o;l<d.length;l++){var f=d[l];qn(this,Da,"f").add(f)}}},{key:"delete",value:function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];for(var l=0,d=o;l<d.length;l++){var f=d[l];qn(this,Da,"f").delete(f)}}},{key:"clear",value:function(){qn(this,Da,"f").clear()}},{key:"getSelection",value:function(){return Cr(qn(this,Da,"f"))}},{key:"getChanges",value:function(){return{added:Cr(P_(qn(this,ep,"f"),qn(this,Da,"f"))),deleted:Cr(P_(qn(this,Da,"f"),qn(this,ep,"f"))),previous:Cr(new Zf(qn(this,ep,"f"))),current:Cr(new Zf(qn(this,Da,"f")))}}},{key:"commit",value:function(){var r=this.getChanges();mb(this,ep,qn(this,Da,"f"),"f"),mb(this,Da,new Zf(qn(this,ep,"f")),"f");var o,s=tp(r.added);try{for(s.s();!(o=s.n()).done;)o.value.select()}catch(f){s.e(f)}finally{s.f()}var l,d=tp(r.deleted);try{for(d.s();!(l=d.n()).done;)l.value.unselect()}catch(f){d.e(f)}finally{d.f()}return r}}]),u}();ep=new Wv,Da=new Wv;var Zm=function(){function u(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};ke(this,u),gd.set(this,new N_),vd.set(this,new N_),Uv.set(this,void 0),mb(this,Uv,r,"f")}return Te(u,[{key:"sizeNodes",get:function(){return qn(this,gd,"f").size}},{key:"sizeEdges",get:function(){return qn(this,vd,"f").size}},{key:"getNodes",value:function(){return qn(this,gd,"f").getSelection()}},{key:"getEdges",value:function(){return qn(this,vd,"f").getSelection()}},{key:"addNodes",value:function(){var r;(r=qn(this,gd,"f")).add.apply(r,arguments)}},{key:"addEdges",value:function(){var r;(r=qn(this,vd,"f")).add.apply(r,arguments)}},{key:"deleteNodes",value:function(r){qn(this,gd,"f").delete(r)}},{key:"deleteEdges",value:function(r){qn(this,vd,"f").delete(r)}},{key:"clear",value:function(){qn(this,gd,"f").clear(),qn(this,vd,"f").clear()}},{key:"commit",value:function(){for(var r,o,s={nodes:qn(this,gd,"f").commit(),edges:qn(this,vd,"f").commit()},l=arguments.length,d=new Array(l),f=0;f<l;f++)d[f]=arguments[f];return(r=qn(this,Uv,"f")).call.apply(r,kf(o=[this,s]).call(o,d)),s}}]),u}();function yb(u,r){var o=void 0!==No&&Zo(u)||u["@@iterator"];if(!o){if(Rt(u)||(o=function(b,I){var A;if(b){if("string"==typeof b)return bb(b,I);var P=qt(A=Object.prototype.toString.call(b)).call(A,8,-1);if("Object"===P&&b.constructor&&(P=b.constructor.name),"Map"===P||"Set"===P)return ju(b);if("Arguments"===P||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P))return bb(b,I)}}(u))||r&&u&&"number"==typeof u.length){o&&(u=o);var s=0,l=function(){};return{s:l,n:function(){return s>=u.length?{done:!0}:{done:!1,value:u[s++]}},e:function(b){throw b},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var d,f=!0,m=!1;return{s:function(){o=o.call(u)},n:function(){var b=o.next();return f=b.done,b},e:function(b){m=!0,d=b},f:function(){try{f||null==o.return||o.return()}finally{if(m)throw d}}}}function bb(u,r){(null==r||r>u.length)&&(r=u.length);for(var o=0,s=new Array(r);o<r;o++)s[o]=u[o];return s}gd=new Wv,vd=new Wv,Uv=new Wv;var F_=function(){function u(r,o){var s=this;ke(this,u),this.body=r,this.canvas=o,this._selectionAccumulator=new Zm,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},jn(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){s.updateSelection()})}return Te(u,[{key:"setOptions",value:function(r){void 0!==r&&po(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,r)}},{key:"selectOnPoint",value:function(r){var o=!1;if(!0===this.options.selectable){var s=this.getNodeAt(r)||this.getEdgeAt(r);this.unselectAll(),void 0!==s&&(o=this.selectObject(s)),this.body.emitter.emit("_requestRedraw")}return o}},{key:"selectAdditionalOnPoint",value:function(r){var o=!1;if(!0===this.options.selectable){var s=this.getNodeAt(r)||this.getEdgeAt(r);void 0!==s&&(o=!0,!0===s.isSelected()?this.deselectObject(s):this.selectObject(s),this.body.emitter.emit("_requestRedraw"))}return o}},{key:"_initBaseEvent",value:function(r,o){var s={};return s.pointer={DOM:{x:o.x,y:o.y},canvas:this.canvas.DOMtoCanvas(o)},s.event=r,s}},{key:"generateClickEvent",value:function(r,o,s,l){var d=arguments.length>4&&void 0!==arguments[4]&&arguments[4],f=this._initBaseEvent(o,s);if(!0===d)f.nodes=[],f.edges=[];else{var m=this.getSelection();f.nodes=m.nodes,f.edges=m.edges}void 0!==l&&(f.previousSelection=l),"click"==r&&(f.items=this.getClickedItems(s)),void 0!==o.controlEdge&&(f.controlEdge=o.controlEdge),this.body.emitter.emit(r,f)}},{key:"selectObject",value:function(r){var s;return void 0!==r&&(r instanceof Bs?(!0===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges)&&(s=this._selectionAccumulator).addEdges.apply(s,Cr(r.edges)),this._selectionAccumulator.addNodes(r)):this._selectionAccumulator.addEdges(r),!0)}},{key:"deselectObject",value:function(r){!0===r.isSelected()&&(r.selected=!1,this._removeFromSelection(r))}},{key:"_getAllNodesOverlappingWith",value:function(r){for(var o=[],s=this.body.nodes,l=0;l<this.body.nodeIndices.length;l++){var d=this.body.nodeIndices[l];s[d].isOverlappingWith(r)&&o.push(d)}return o}},{key:"_pointerToPositionObject",value:function(r){var o=this.canvas.DOMtoCanvas(r);return{left:o.x-1,top:o.y+1,right:o.x+1,bottom:o.y-1}}},{key:"getNodeAt",value:function(r){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=this._pointerToPositionObject(r),l=this._getAllNodesOverlappingWith(s);return l.length>0?!0===o?this.body.nodes[l[l.length-1]]:l[l.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(r,o){for(var s=this.body.edges,l=0;l<this.body.edgeIndices.length;l++){var d=this.body.edgeIndices[l];s[d].isOverlappingWith(r)&&o.push(d)}}},{key:"_getAllEdgesOverlappingWith",value:function(r){var o=[];return this._getEdgesOverlappingWith(r,o),o}},{key:"getEdgeAt",value:function(r){for(var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=this.canvas.DOMtoCanvas(r),l=10,d=null,f=this.body.edges,m=0;m<this.body.edgeIndices.length;m++){var b=this.body.edgeIndices[m],I=f[b];if(I.connected){var W=I.edgeType.getDistanceToEdge(I.from.x,I.from.y,I.to.x,I.to.y,s.x,s.y);W<l&&(d=b,l=W)}}return null!==d?!0===o?this.body.edges[d]:d:void 0}},{key:"_addToHover",value:function(r){r instanceof Bs?this.hoverObj.nodes[r.id]=r:this.hoverObj.edges[r.id]=r}},{key:"_removeFromSelection",value:function(r){var o;r instanceof Bs?(this._selectionAccumulator.deleteNodes(r),(o=this._selectionAccumulator).deleteEdges.apply(o,Cr(r.edges))):this._selectionAccumulator.deleteEdges(r)}},{key:"unselectAll",value:function(){this._selectionAccumulator.clear()}},{key:"getSelectedNodeCount",value:function(){return this._selectionAccumulator.sizeNodes}},{key:"getSelectedEdgeCount",value:function(){return this._selectionAccumulator.sizeEdges}},{key:"_hoverConnectedEdges",value:function(r){for(var o=0;o<r.edges.length;o++){var s=r.edges[o];s.hover=!0,this._addToHover(s)}}},{key:"emitBlurEvent",value:function(r,o,s){var l=this._initBaseEvent(r,o);!0===s.hover&&(s.hover=!1,s instanceof Bs?(l.node=s.id,this.body.emitter.emit("blurNode",l)):(l.edge=s.id,this.body.emitter.emit("blurEdge",l)))}},{key:"emitHoverEvent",value:function(r,o,s){var l=this._initBaseEvent(r,o),d=!1;return!1===s.hover&&(s.hover=!0,this._addToHover(s),d=!0,s instanceof Bs?(l.node=s.id,this.body.emitter.emit("hoverNode",l)):(l.edge=s.id,this.body.emitter.emit("hoverEdge",l))),d}},{key:"hoverObject",value:function(r,o){var s=this.getNodeAt(o);void 0===s&&(s=this.getEdgeAt(o));var l=!1;for(var d in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,d)&&(void 0===s||s instanceof Bs&&s.id!=d||s instanceof Mg)&&(this.emitBlurEvent(r,o,this.hoverObj.nodes[d]),delete this.hoverObj.nodes[d],l=!0);for(var f in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,f)&&(!0===l?(this.hoverObj.edges[f].hover=!1,delete this.hoverObj.edges[f]):(void 0===s||s instanceof Mg&&s.id!=f||s instanceof Bs&&!s.hover)&&(this.emitBlurEvent(r,o,this.hoverObj.edges[f]),delete this.hoverObj.edges[f],l=!0));if(void 0!==s){var m=sn(this.hoverObj.edges).length,b=sn(this.hoverObj.nodes).length;(l||s instanceof Mg&&0===m&&0===b||s instanceof Bs&&0===m&&0===b)&&(l=this.emitHoverEvent(r,o,s)),s instanceof Bs&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(s)}!0===l&&this.body.emitter.emit("_requestRedraw")}},{key:"commitWithoutEmitting",value:function(){this._selectionAccumulator.commit()}},{key:"commitAndEmit",value:function(r,o){var s=!1,l=this._selectionAccumulator.commit(),d={nodes:l.nodes.previous,edges:l.edges.previous};l.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",o,r,d),s=!0),l.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",o,r,d),s=!0),l.nodes.added.length>0&&(this.generateClickEvent("selectNode",o,r),s=!0),l.edges.added.length>0&&(this.generateClickEvent("selectEdge",o,r),s=!0),!0===s&&this.generateClickEvent("select",o,r)}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}},{key:"getSelectedNodes",value:function(){return this._selectionAccumulator.getNodes()}},{key:"getSelectedEdges",value:function(){return this._selectionAccumulator.getEdges()}},{key:"getSelectedNodeIds",value:function(){var r;return Os(r=this._selectionAccumulator.getNodes()).call(r,function(o){return o.id})}},{key:"getSelectedEdgeIds",value:function(){var r;return Os(r=this._selectionAccumulator.getEdges()).call(r,function(o){return o.id})}},{key:"setSelection",value:function(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!r||!r.nodes&&!r.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((o.unselectAll||void 0===o.unselectAll)&&this.unselectAll(),r.nodes){var s,l=yb(r.nodes);try{for(l.s();!(s=l.n()).done;){var d=s.value,f=this.body.nodes[d];if(!f)throw new RangeError('Node with id "'+d+'" not found');this.selectObject(f,o.highlightEdges)}}catch(P){l.e(P)}finally{l.f()}}if(r.edges){var m,b=yb(r.edges);try{for(b.s();!(m=b.n()).done;){var I=m.value,A=this.body.edges[I];if(!A)throw new RangeError('Edge with id "'+I+'" not found');this.selectObject(A)}}catch(P){b.e(P)}finally{b.f()}}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}},{key:"selectNodes",value:function(r){if(!r||void 0===r.length)throw"Selection must be an array with ids";this.setSelection({nodes:r},{highlightEdges:!(arguments.length>1&&void 0!==arguments[1])||arguments[1]})}},{key:"selectEdges",value:function(r){if(!r||void 0===r.length)throw"Selection must be an array with ids";this.setSelection({edges:r})}},{key:"updateSelection",value:function(){for(var r in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,r.id)||this._selectionAccumulator.deleteNodes(r);for(var o in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,o.id)||this._selectionAccumulator.deleteEdges(o)}},{key:"getClickedItems",value:function(r){for(var o=this.canvas.DOMtoCanvas(r),s=[],l=this.body.nodeIndices,d=this.body.nodes,f=l.length-1;f>=0;f--){var m=d[l[f]].getItemsOnPoint(o);s.push.apply(s,m)}for(var b=this.body.edgeIndices,I=this.body.edges,A=b.length-1;A>=0;A--){var P=I[b[A]].getItemsOnPoint(o);s.push.apply(s,P)}return s}}]),u}(),d1=Math.floor,np=function(u,r){var o=u.length,s=d1(o/2);return o<8?Gv(u,r):h1(np(u.slice(0,s),r),np(u.slice(s),r),r)},Gv=function(u,r){for(var o,s,l=u.length,d=1;d<l;){for(s=d,o=u[d];s&&r(u[s-1],o)>0;)u[s]=u[--s];s!==d++&&(u[s]=o)}return u},h1=function(u,r,o){for(var s=u.length,l=r.length,d=0,f=0,m=[];d<s||f<l;)m.push(d<s&&f<l?o(u[d],r[f])<=0?u[d++]:r[f++]:d<s?u[d++]:r[f++]);return m},f1=np,R_=$o.match(/firefox\/(\d+)/i),L_=!!R_&&+R_[1],V_=/MSIE|Trident/.test($o),_b=$o.match(/AppleWebKit\/(\d+)\./),j_=dt,g1=vc,v1=An,qD=br,m1=Co,B_=dn,YD=f1,H_=er,qv=L_,y1=V_,z_=Uo,wb=!!_b&&+_b[1],hl=[],$_=hl.sort,b1=B_(function(){hl.sort(void 0)}),_1=B_(function(){hl.sort(null)}),w1=H_("sort"),U_=!B_(function(){if(z_)return z_<70;if(!(qv&&qv>3)){if(y1)return!0;if(wb)return wb<603;var u,r,o,s,l="";for(u=65;u<76;u++){switch(r=String.fromCharCode(u),u){case 66:case 69:case 70:case 72:o=3;break;case 68:case 71:o=4;break;default:o=2}for(s=0;s<47;s++)hl.push({k:r+s,v:o})}for(hl.sort(function(d,f){return f.v-d.v}),s=0;s<hl.length;s++)r=hl[s].k.charAt(0),l.charAt(l.length-1)!==r&&(l+=r);return"DGBEFHACIJK"!==l}});j_({target:"Array",proto:!0,forced:b1||!_1||!w1||!U_},{sort:function(u){void 0!==u&&g1(u);var r=v1(this);if(U_)return void 0===u?$_.call(r):$_.call(r,u);var o,s,l=[],d=qD(r.length);for(s=0;s<d;s++)s in r&&l.push(r[s]);for(o=(l=YD(l,function(f){return function(m,b){return void 0===b?-1:void 0===m?1:void 0!==f?+f(m,b)||0:m1(m)>m1(b)?1:-1}}(u))).length,s=0;s<o;)r[s]=l[s++];for(;s<d;)delete r[s++];return r}});var W_=Bn("Array").sort,G_=Array.prototype,Eb=function(u){var r=u.sort;return u===G_||u instanceof Array&&r===G_.sort?W_:r},Pg=vc,E1=An,q_=ft,C1=br,Cb=function(u){return function(r,o,s,l){Pg(o);var d=E1(r),f=q_(d),m=C1(d.length),b=u?m-1:0,I=u?-1:1;if(s<2)for(;;){if(b in f){l=f[b],b+=I;break}if(b+=I,u?b<0:m<=b)throw TypeError("Reduce of empty array with no initial value")}for(;u?b>=0:m>b;b+=I)b in f&&(l=o(l,f[b],b,d));return l}},D1={left:Cb(!1),right:Cb(!0)},Y_="process"==ln(Re.process),x1=D1.left,Jm=Uo,T1=Y_;dt({target:"Array",proto:!0,forced:!er("reduce")||!T1&&Jm>79&&Jm<83},{reduce:function(u){return x1(this,u,arguments.length,arguments.length>1?arguments[1]:void 0)}});var Q_=Bn("Array").reduce,Db=Array.prototype,K_=function(u){var r=u.reduce;return u===Db||u instanceof Array&&r===Db.reduce?Q_:r},X_={};!function(u){!function(r){r.__esModule=!0,r.sort=function(Z,ee,ae,ve){if(!Array.isArray(Z))throw new TypeError("Can only sort arrays");ee?"function"!=typeof ee&&(ve=ae,ae=ee,ee=b):ee=b,ae||(ae=0),ve||(ve=Z.length);var ce=ve-ae;if(!(ce<2)){var Me=0;if(ce<32)H(Z,ae,ve,ae+(Me=A(Z,ae,ve,ee)),ee);else{var le=new K(Z,ee),me=function(Z){for(var ee=0;Z>=32;)ee|=1&Z,Z>>=1;return Z+ee}(ce);do{if((Me=A(Z,ae,ve,ee))<me){var te=ce;te>me&&(te=me),H(Z,ae,ae+te,ae+Me,ee),Me=te}le.pushRun(ae,Me),le.mergeRuns(),ce-=Me,ae+=Me}while(0!==ce);le.forceMergeRuns()}}};var f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9];function m(Z){return Z<1e5?Z<100?Z<10?0:1:Z<1e4?Z<1e3?2:3:4:Z<1e7?Z<1e6?5:6:Z<1e9?Z<1e8?7:8:9}function b(Z,ee){if(Z===ee)return 0;if(~~Z===Z&&~~ee===ee){if(0===Z||0===ee)return Z<ee?-1:1;if(Z<0||ee<0){if(ee>=0)return-1;if(Z>=0)return 1;Z=-Z,ee=-ee}var ae=m(Z),ve=m(ee),ce=0;return ae<ve?(Z*=f[ve-ae-1],ee/=10,ce=-1):ae>ve&&(ee*=f[ae-ve-1],Z/=10,ce=1),Z===ee?ce:Z<ee?-1:1}var Me=String(Z),le=String(ee);return Me===le?0:Me<le?-1:1}function A(Z,ee,ae,ve){var ce=ee+1;if(ce===ae)return 1;if(ve(Z[ce++],Z[ee])<0){for(;ce<ae&&ve(Z[ce],Z[ce-1])<0;)ce++;!function(Z,ee,ae){for(ae--;ee<ae;){var ve=Z[ee];Z[ee++]=Z[ae],Z[ae--]=ve}}(Z,ee,ce)}else for(;ce<ae&&ve(Z[ce],Z[ce-1])>=0;)ce++;return ce-ee}function H(Z,ee,ae,ve,ce){for(ve===ee&&ve++;ve<ae;ve++){for(var Me=Z[ve],le=ee,me=ve;le<me;){var te=le+me>>>1;ce(Me,Z[te])<0?me=te:le=te+1}var ct=ve-le;switch(ct){case 3:Z[le+3]=Z[le+2];case 2:Z[le+2]=Z[le+1];case 1:Z[le+1]=Z[le];break;default:for(;ct>0;)Z[le+ct]=Z[le+ct-1],ct--}Z[le]=Me}}function U(Z,ee,ae,ve,ce,Me){var le=0,me=0,te=1;if(Me(Z,ee[ae+ce])>0){for(me=ve-ce;te<me&&Me(Z,ee[ae+ce+te])>0;)le=te,(te=1+(te<<1))<=0&&(te=me);te>me&&(te=me),le+=ce,te+=ce}else{for(me=ce+1;te<me&&Me(Z,ee[ae+ce-te])<=0;)le=te,(te=1+(te<<1))<=0&&(te=me);te>me&&(te=me);var ct=le;le=ce-te,te=ce-ct}for(le++;le<te;){var ht=le+(te-le>>>1);Me(Z,ee[ae+ht])>0?le=ht+1:te=ht}return te}function W(Z,ee,ae,ve,ce,Me){var le=0,me=0,te=1;if(Me(Z,ee[ae+ce])<0){for(me=ce+1;te<me&&Me(Z,ee[ae+ce-te])<0;)le=te,(te=1+(te<<1))<=0&&(te=me);te>me&&(te=me);var ct=le;le=ce-te,te=ce-ct}else{for(me=ve-ce;te<me&&Me(Z,ee[ae+ce+te])>=0;)le=te,(te=1+(te<<1))<=0&&(te=me);te>me&&(te=me),le+=ce,te+=ce}for(le++;le<te;){var ht=le+(te-le>>>1);Me(Z,ee[ae+ht])<0?te=ht:le=ht+1}return te}var K=function(){function Z(ee,ae){(function(Z,ee){if(!(Z instanceof ee))throw new TypeError("Cannot call a class as a function")})(this,Z),this.array=null,this.compare=null,this.minGallop=7,this.length=0,this.tmpStorageLength=256,this.stackLength=0,this.runStart=null,this.runLength=null,this.stackSize=0,this.array=ee,this.compare=ae,this.length=ee.length,this.length<512&&(this.tmpStorageLength=this.length>>>1),this.tmp=new Array(this.tmpStorageLength),this.stackLength=this.length<120?5:this.length<1542?10:this.length<119151?19:40,this.runStart=new Array(this.stackLength),this.runLength=new Array(this.stackLength)}return Z.prototype.pushRun=function(ee,ae){this.runStart[this.stackSize]=ee,this.runLength[this.stackSize]=ae,this.stackSize+=1},Z.prototype.mergeRuns=function(){for(;this.stackSize>1;){var ee=this.stackSize-2;if(ee>=1&&this.runLength[ee-1]<=this.runLength[ee]+this.runLength[ee+1]||ee>=2&&this.runLength[ee-2]<=this.runLength[ee]+this.runLength[ee-1])this.runLength[ee-1]<this.runLength[ee+1]&&ee--;else if(this.runLength[ee]>this.runLength[ee+1])break;this.mergeAt(ee)}},Z.prototype.forceMergeRuns=function(){for(;this.stackSize>1;){var ee=this.stackSize-2;ee>0&&this.runLength[ee-1]<this.runLength[ee+1]&&ee--,this.mergeAt(ee)}},Z.prototype.mergeAt=function(ee){var ae=this.compare,ve=this.array,ce=this.runStart[ee],Me=this.runLength[ee],le=this.runStart[ee+1],me=this.runLength[ee+1];this.runLength[ee]=Me+me,ee===this.stackSize-3&&(this.runStart[ee+1]=this.runStart[ee+2],this.runLength[ee+1]=this.runLength[ee+2]),this.stackSize--;var te=W(ve[le],ve,ce,Me,0,ae);ce+=te,0!=(Me-=te)&&0!==(me=U(ve[ce+Me-1],ve,le,me,me-1,ae))&&(Me<=me?this.mergeLow(ce,Me,le,me):this.mergeHigh(ce,Me,le,me))},Z.prototype.mergeLow=function(ee,ae,ve,ce){var Me=this.compare,le=this.array,me=this.tmp,te=0;for(te=0;te<ae;te++)me[te]=le[ee+te];var ct=0,ht=ve,Be=ee;if(le[Be++]=le[ht++],0!=--ce)if(1!==ae){for(var St=this.minGallop;;){var Nt=0,jt=0,un=!1;do{if(Me(le[ht],me[ct])<0){if(le[Be++]=le[ht++],jt++,Nt=0,0==--ce){un=!0;break}}else if(le[Be++]=me[ct++],Nt++,jt=0,1==--ae){un=!0;break}}while((Nt|jt)<St);if(un)break;do{if(0!==(Nt=W(le[ht],me,ct,ae,0,Me))){for(te=0;te<Nt;te++)le[Be+te]=me[ct+te];if(Be+=Nt,ct+=Nt,(ae-=Nt)<=1){un=!0;break}}if(le[Be++]=le[ht++],0==--ce){un=!0;break}if(0!==(jt=U(me[ct],le,ht,ce,0,Me))){for(te=0;te<jt;te++)le[Be+te]=le[ht+te];if(Be+=jt,ht+=jt,0==(ce-=jt)){un=!0;break}}if(le[Be++]=me[ct++],1==--ae){un=!0;break}St--}while(Nt>=7||jt>=7);if(un)break;St<0&&(St=0),St+=2}if(this.minGallop=St,St<1&&(this.minGallop=1),1===ae){for(te=0;te<ce;te++)le[Be+te]=le[ht+te];le[Be+ce]=me[ct]}else{if(0===ae)throw new Error("mergeLow preconditions were not respected");for(te=0;te<ae;te++)le[Be+te]=me[ct+te]}}else{for(te=0;te<ce;te++)le[Be+te]=le[ht+te];le[Be+ce]=me[ct]}else for(te=0;te<ae;te++)le[Be+te]=me[ct+te]},Z.prototype.mergeHigh=function(ee,ae,ve,ce){var Me=this.compare,le=this.array,me=this.tmp,te=0;for(te=0;te<ce;te++)me[te]=le[ve+te];var ct=ee+ae-1,ht=ce-1,Be=ve+ce-1,St=0,Nt=0;if(le[Be--]=le[ct--],0!=--ae)if(1!==ce){for(var jt=this.minGallop;;){var un=0,Yn=0,xa=!1;do{if(Me(me[ht],le[ct])<0){if(le[Be--]=le[ct--],un++,Yn=0,0==--ae){xa=!0;break}}else if(le[Be--]=me[ht--],Yn++,un=0,1==--ce){xa=!0;break}}while((un|Yn)<jt);if(xa)break;do{if(0!=(un=ae-W(me[ht],le,ee,ae,ae-1,Me))){for(ae-=un,Nt=1+(Be-=un),St=1+(ct-=un),te=un-1;te>=0;te--)le[Nt+te]=le[St+te];if(0===ae){xa=!0;break}}if(le[Be--]=me[ht--],1==--ce){xa=!0;break}if(0!=(Yn=ce-U(le[ct],me,0,ce,ce-1,Me))){for(ce-=Yn,Nt=1+(Be-=Yn),St=1+(ht-=Yn),te=0;te<Yn;te++)le[Nt+te]=me[St+te];if(ce<=1){xa=!0;break}}if(le[Be--]=le[ct--],0==--ae){xa=!0;break}jt--}while(un>=7||Yn>=7);if(xa)break;jt<0&&(jt=0),jt+=2}if(this.minGallop=jt,jt<1&&(this.minGallop=1),1===ce){for(Nt=1+(Be-=ae),St=1+(ct-=ae),te=ae-1;te>=0;te--)le[Nt+te]=le[St+te];le[Be]=me[ht]}else{if(0===ce)throw new Error("mergeHigh preconditions were not respected");for(St=Be-(ce-1),te=0;te<ce;te++)le[St+te]=me[te]}}else{for(Nt=1+(Be-=ae),St=1+(ct-=ae),te=ae-1;te>=0;te--)le[Nt+te]=le[St+te];le[Be]=me[ht]}else for(St=Be-(ce-1),te=0;te<ce;te++)le[St+te]=me[te]},Z}()}(u)}(X_);var ey=X_;function ty(u){var r=function(){if("undefined"==typeof Reflect||!pe||pe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pe(Boolean,[],function(){})),!0}catch(o){return!1}}();return function(){var o,s=qe(u);if(r){var l=qe(this).constructor;o=pe(s,arguments,l)}else o=s.apply(this,arguments);return xn(this,o)}}var Z_=function(){function u(){ke(this,u)}return Te(u,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(r){return this.fake_use(r),this.abstract()}},{key:"setPosition",value:function(r,o){this.fake_use(r,o,arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0),this.abstract()}},{key:"getTreeSize",value:function(r){return this.fake_use(r),this.abstract()}},{key:"sort",value:function(r){this.fake_use(r),this.abstract()}},{key:"fix",value:function(r,o){this.fake_use(r,o),this.abstract()}},{key:"shift",value:function(r,o){this.fake_use(r,o),this.abstract()}}]),u}(),J_=function(u){_n(o,u);var r=ty(o);function o(s){var l;return ke(this,o),(l=r.call(this)).layout=s,l}return Te(o,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(s){return s.x}},{key:"setPosition",value:function(s,l){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==d&&this.layout.hierarchical.addToOrdering(s,d),s.x=l}},{key:"getTreeSize",value:function(s){var l=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,s);return{min:l.min_x,max:l.max_x}}},{key:"sort",value:function(s){ey.sort(s,function(l,d){return l.x-d.x})}},{key:"fix",value:function(s,l){s.y=this.layout.options.hierarchical.levelSeparation*l,s.options.fixed.y=!0}},{key:"shift",value:function(s,l){this.layout.body.nodes[s].x+=l}}]),o}(Z_),I1=function(u){_n(o,u);var r=ty(o);function o(s){var l;return ke(this,o),(l=r.call(this)).layout=s,l}return Te(o,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(s){return s.y}},{key:"setPosition",value:function(s,l){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==d&&this.layout.hierarchical.addToOrdering(s,d),s.y=l}},{key:"getTreeSize",value:function(s){var l=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,s);return{min:l.min_y,max:l.max_y}}},{key:"sort",value:function(s){ey.sort(s,function(l,d){return l.y-d.y})}},{key:"fix",value:function(s,l){s.x=this.layout.options.hierarchical.levelSeparation*l,s.options.fixed.x=!0}},{key:"shift",value:function(s,l){this.layout.body.nodes[s].y+=l}}]),o}(Z_),k1=da.every;dt({target:"Array",proto:!0,forced:!er("every")},{every:function(u){return k1(this,u,arguments.length>1?arguments[1]:void 0)}});var S1=Bn("Array").every,ew=Array.prototype,tw=function(u){var r=u.every;return u===ew||u instanceof Array&&r===ew.every?S1:r};function nw(u,r){(null==r||r>u.length)&&(r=u.length);for(var o=0,s=new Array(r);o<r;o++)s[o]=u[o];return s}function M1(u,r){var o=new Zf;return en(u).call(u,function(s){var l;en(l=s.edges).call(l,function(d){d.connected&&o.add(d)})}),en(o).call(o,function(s){var l=s.from.id,d=s.to.id;null==r[l]&&(r[l]=0),(null==r[d]||r[l]>=r[d])&&(r[d]=r[l]+1)}),r}function xb(u,r,o,s){var l,d,f=tl(null),m=K_(l=Cr(k0(s).call(s))).call(l,function(U,W){return U+1+W.edges.length},0),b=o+"Id",I="to"===o?1:-1,A=function(u,r){var o=void 0!==No&&Zo(u)||u["@@iterator"];if(!o){if(Rt(u)||(o=function(b,I){var A;if(b){if("string"==typeof b)return nw(b,I);var P=qt(A=Object.prototype.toString.call(b)).call(A,8,-1);if("Object"===P&&b.constructor&&(P=b.constructor.name),"Map"===P||"Set"===P)return ju(b);if("Arguments"===P||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P))return nw(b,I)}}(u))||r&&u&&"number"==typeof u.length){o&&(u=o);var s=0,l=function(){};return{s:l,n:function(){return s>=u.length?{done:!0}:{done:!1,value:u[s++]}},e:function(b){throw b},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var d,f=!0,m=!1;return{s:function(){o=o.call(u)},n:function(){var b=o.next();return f=b.done,b},e:function(b){m=!0,d=b},f:function(){try{f||null==o.return||o.return()}finally{if(m)throw d}}}}(s);try{var P=function(){var U=Nn(d.value,2),W=U[0],K=U[1];if(!s.has(W)||!u(K))return"continue";f[W]=0;for(var oe=[K],Z=0,ee=void 0,ae=function(){var ce,Me;if(!s.has(W))return"continue";var le=f[ee.id]+I;if(en(ce=it(Me=ee.edges).call(Me,function(me){return me.connected&&me.to!==me.from&&me[o]!==ee&&s.has(me.toId)&&s.has(me.fromId)})).call(ce,function(me){var te=me[b],ct=f[te];(null==ct||r(le,ct))&&(f[te]=le,oe.push(me[o]))}),Z>m)return{v:{v:M1(s,f)}};++Z};ee=oe.pop();){var ve=ae();if("continue"!==ve&&"object"===Xt(ve))return ve.v}};for(A.s();!(d=A.n()).done;){var H=P();if("continue"!==H&&"object"===Xt(H))return H.v}}catch(U){A.e(U)}finally{A.f()}return f}var rw=function(){function u(){ke(this,u),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return Te(u,[{key:"addRelation",value:function(r,o){void 0===this.childrenReference[r]&&(this.childrenReference[r]=[]),this.childrenReference[r].push(o),void 0===this.parentReference[o]&&(this.parentReference[o]=[]),this.parentReference[o].push(r)}},{key:"checkIfTree",value:function(){for(var r in this.parentReference)if(this.parentReference[r].length>1)return void(this.isTree=!1);this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(r,o){void 0!==o&&void 0===this.trees[r.id]&&(this.trees[r.id]=o,this.treeIndex=Math.max(o,this.treeIndex))}},{key:"ensureLevel",value:function(r){void 0===this.levels[r]&&(this.levels[r]=0)}},{key:"getMaxLevel",value:function(r){var o=this,s={};return function l(d){if(void 0!==s[d])return s[d];var f=o.levels[d];if(o.childrenReference[d]){var m=o.childrenReference[d];if(m.length>0)for(var b=0;b<m.length;b++)f=Math.max(f,l(m[b]))}return s[d]=f,f}(r)}},{key:"levelDownstream",value:function(r,o){void 0===this.levels[o.id]&&(void 0===this.levels[r.id]&&(this.levels[r.id]=0),this.levels[o.id]=this.levels[r.id]+1)}},{key:"setMinLevelToZero",value:function(r){var o=1e9;for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&void 0!==this.levels[s]&&(o=Math.min(this.levels[s],o));for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&void 0!==this.levels[l]&&(this.levels[l]-=o)}},{key:"getTreeSize",value:function(r,o){var s=1e9,l=-1e9,d=1e9,f=-1e9;for(var m in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,m)&&this.trees[m]===o){var b=r[m];s=Math.min(b.x,s),l=Math.max(b.x,l),d=Math.min(b.y,d),f=Math.max(b.y,f)}return{min_x:s,max_x:l,min_y:d,max_y:f}}},{key:"hasSameParent",value:function(r,o){var s=this.parentReference[r.id],l=this.parentReference[o.id];if(void 0===s||void 0===l)return!1;for(var d=0;d<s.length;d++)for(var f=0;f<l.length;f++)if(s[d]==l[f])return!0;return!1}},{key:"inSameSubNetwork",value:function(r,o){return this.trees[r.id]===this.trees[o.id]}},{key:"getLevels",value:function(){return sn(this.distributionOrdering)}},{key:"addToOrdering",value:function(r,o){void 0===this.distributionOrdering[o]&&(this.distributionOrdering[o]=[]);var s=!1,l=this.distributionOrdering[o];for(var d in l)if(l[d]===r){s=!0;break}s||(this.distributionOrdering[o].push(r),this.distributionIndex[r.id]=this.distributionOrdering[o].length-1)}}]),u}(),A1=function(){function u(r){ke(this,u),this.body=r,this._resetRNG(Math.random()+":"+lo()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},jn(this.options,this.defaultOptions),this.bindEventListeners()}return Te(u,[{key:"bindEventListeners",value:function(){var r=this;this.body.emitter.on("_dataChanged",function(){r.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){r.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){r.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",function(){if(!0===r.options.hierarchical.enabled){var o=r.direction.curveType();r.body.emitter.emit("_forceDisableDynamicCurves",o,!1)}})}},{key:"setOptions",value:function(r,o){if(void 0!==r){var s=this.options.hierarchical,l=s.enabled;if(po(["randomSeed","improvedLayout","clusterThreshold"],this.options,r),je(this.options,r,"hierarchical"),void 0!==r.randomSeed&&this._resetRNG(r.randomSeed),!0===s.enabled)return!0===l&&this.body.emitter.emit("refresh",!0),"RL"===s.direction||"DU"===s.direction?s.levelSeparation>0&&(s.levelSeparation*=-1):s.levelSeparation<0&&(s.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(o);if(!0===l)return this.body.emitter.emit("refresh"),y(o,this.optionsBackup)}return o}},{key:"_resetRNG",value:function(r){this.initialRandomSeed=r,this._rng=kh(this.initialRandomSeed)}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(r){if(!0===this.options.hierarchical.enabled){var o=this.optionsBackup.physics;void 0===r.physics||!0===r.physics?(r.physics={enabled:void 0===o.enabled||o.enabled,solver:"hierarchicalRepulsion"},o.enabled=void 0===o.enabled||o.enabled,o.solver=o.solver||"barnesHut"):"object"===Xt(r.physics)?(o.enabled=void 0===r.physics.enabled||r.physics.enabled,o.solver=r.physics.solver||"barnesHut",r.physics.solver="hierarchicalRepulsion"):!1!==r.physics&&(o.solver="barnesHut",r.physics={solver:"hierarchicalRepulsion"});var s=this.direction.curveType();if(void 0===r.edges)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},r.edges={smooth:!1};else if(void 0===r.edges.smooth)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},r.edges.smooth=!1;else if("boolean"==typeof r.edges.smooth)this.optionsBackup.edges={smooth:r.edges.smooth},r.edges.smooth={enabled:r.edges.smooth,type:s};else{var l=r.edges.smooth;void 0!==l.type&&"dynamic"!==l.type&&(s=l.type),this.optionsBackup.edges={smooth:{enabled:void 0===l.enabled||l.enabled,type:void 0===l.type?"dynamic":l.type,roundness:void 0===l.roundness?.5:l.roundness,forceDirection:void 0!==l.forceDirection&&l.forceDirection}},r.edges.smooth={enabled:void 0===l.enabled||l.enabled,type:s,roundness:void 0===l.roundness?.5:l.roundness,forceDirection:void 0!==l.forceDirection&&l.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",s)}return r}},{key:"positionInitially",value:function(r){if(!0!==this.options.hierarchical.enabled){this._resetRNG(this.initialRandomSeed);for(var o=r.length+50,s=0;s<r.length;s++){var l=r[s],d=2*Math.PI*this._rng();void 0===l.x&&(l.x=o*Math.cos(d)),void 0===l.y&&(l.y=o*Math.sin(d))}}}},{key:"layoutNetwork",value:function(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){for(var r=this.body.nodeIndices,o=0,s=0;s<r.length;s++)!0===this.body.nodes[r[s]].predefinedPosition&&(o+=1);if(o<.5*r.length){var l=0,d=this.options.clusterThreshold,f={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(r.length>d){for(var m=r.length;r.length>d&&l<=10;){var b=r.length;if((l+=1)%3==0?this.body.modules.clustering.clusterBridges(f):this.body.modules.clustering.clusterOutliers(f),b==r.length&&l%3!=0)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*m)})}l>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(r,this.body.edgeIndices,!0),this._shiftToCenter();for(var I=0;I<r.length;I++){var A=this.body.nodes[r[I]];!1===A.predefinedPosition&&(A.x+=70*(.5-this._rng()),A.y+=70*(.5-this._rng()))}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var r=jo.getRangeCore(this.body.nodes,this.body.nodeIndices),o=jo.findCenter(r),s=0;s<this.body.nodeIndices.length;s++){var l=this.body.nodes[this.body.nodeIndices[s]];l.x-=o.x,l.y-=o.y}}},{key:"_declusterAll",value:function(){for(var r=!0;!0===r;){r=!1;for(var o=0;o<this.body.nodeIndices.length;o++)!0===this.body.nodes[this.body.nodeIndices[o]].isCluster&&(r=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[o],{},!1));!0===r&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(!0===this.options.hierarchical.enabled&&this.body.nodeIndices.length>0){var r,o,s=!1,l=!1;for(o in this.lastNodeOnLevel={},this.hierarchical=new rw,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,o)&&(void 0!==(r=this.body.nodes[o]).options.level?(s=!0,this.hierarchical.levels[o]=r.options.level):l=!0);if(!0===l&&!0===s)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(!0===l){var d=this.options.hierarchical.sortMethod;"hubsize"===d?this._determineLevelsByHubsize():"directed"===d?this._determineLevelsDirected():"custom"===d&&this._determineLevelsCustomCallback()}for(var f in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,f)&&this.hierarchical.ensureLevel(f);var m=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(m),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var r=this,o=!1,s={},l=function(H,U){var W=r.hierarchical.trees;for(var K in W)Object.prototype.hasOwnProperty.call(W,K)&&W[K]===H&&r.direction.shift(K,U)},f=function H(U,W){if(!W[U.id]&&(W[U.id]=!0,r.hierarchical.childrenReference[U.id])){var K=r.hierarchical.childrenReference[U.id];if(K.length>0)for(var oe=0;oe<K.length;oe++)H(r.body.nodes[K[oe]],W)}},m=function(H){var U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e9,W=1e9,K=1e9,oe=1e9,Z=-1e9;for(var ee in H)if(Object.prototype.hasOwnProperty.call(H,ee)){var ae=r.body.nodes[ee],ve=r.hierarchical.levels[ae.id],ce=r.direction.getPosition(ae),le=Nn(r._getSpaceAroundNode(ae,H),2),te=le[1];W=Math.min(le[0],W),K=Math.min(te,K),ve<=U&&(oe=Math.min(ce,oe),Z=Math.max(ce,Z))}return[oe,Z,W,K]},b=function(H,U){var W=r.hierarchical.getMaxLevel(H.id),K=r.hierarchical.getMaxLevel(U.id);return Math.min(W,K)},I=function(H,U,W){for(var K=r.hierarchical,oe=0;oe<U.length;oe++){var ee=K.distributionOrdering[U[oe]];if(ee.length>1)for(var ae=0;ae<ee.length-1;ae++){var ve=ee[ae],ce=ee[ae+1];K.hasSameParent(ve,ce)&&K.inSameSubNetwork(ve,ce)&&H(ve,ce,W)}}},A=function(H,U){var W=arguments.length>2&&void 0!==arguments[2]&&arguments[2],K=r.direction.getPosition(H),oe=r.direction.getPosition(U),Z=Math.abs(oe-K),ee=r.options.hierarchical.nodeSpacing;if(Z>ee){var ae={},ve={};f(H,ae),f(U,ve);var ce=b(H,U),Me=m(ae,ce),le=m(ve,ce),me=Me[1],te=le[0],ct=le[2];if(Math.abs(me-te)>ee){var Be=me-te+ee;Be<-ct+ee&&(Be=-ct+ee),Be<0&&(r._shiftBlock(U.id,Be),o=!0,!0===W&&r._centerParent(U))}}},P=function(H,U){for(var W=U.id,K=U.edges,oe=r.hierarchical.levels[U.id],Z=r.options.hierarchical.levelSeparation*r.options.hierarchical.levelSeparation,ee={},ae=[],ve=0;ve<K.length;ve++){var ce=K[ve];if(ce.toId!=ce.fromId){var Me=ce.toId==W?ce.from:ce.to;ee[K[ve].id]=Me,r.hierarchical.levels[Me.id]<oe&&ae.push(ce)}}var ht,Be,St,Nt,un,Yn,le=function(ht,Be){for(var St=0,Nt=0;Nt<Be.length;Nt++)if(void 0!==ee[Be[Nt].id]){var jt=r.direction.getPosition(ee[Be[Nt].id])-ht;St+=jt/Math.sqrt(jt*jt+Z)}return St},me=function(ht,Be){for(var St=0,Nt=0;Nt<Be.length;Nt++)if(void 0!==ee[Be[Nt].id]){var jt=r.direction.getPosition(ee[Be[Nt].id])-ht;St-=Z*Math.pow(jt*jt+Z,-1.5)}return St},te=function(ht,Be){for(var St=r.direction.getPosition(U),Nt={},jt=0;jt<ht;jt++){var un=le(St,Be),Yn=me(St,Be);if(void 0!==Nt[St-=Math.max(-40,Math.min(40,Math.round(un/Yn)))])break;Nt[St]=jt}return St},ct=te(H,ae);(function(ht){var Be=r.direction.getPosition(U);if(void 0===s[U.id]){var St={};f(U,St),s[U.id]=St}var Nt=m(s[U.id]),jt=Nt[2],Yn=ht-Be,xa=0;Yn>0?xa=Math.min(Yn,Nt[3]-r.options.hierarchical.nodeSpacing):Yn<0&&(xa=-Math.min(-Yn,jt-r.options.hierarchical.nodeSpacing)),0!=xa&&(r._shiftBlock(U.id,xa),o=!0)})(ct),ht=ct=te(H,K),Be=r.direction.getPosition(U),Nt=(St=Nn(r._getSpaceAroundNode(U),2))[0],Yn=Be,(un=ht-Be)>0?Yn=Math.min(Be+(St[1]-r.options.hierarchical.nodeSpacing),ht):un<0&&(Yn=Math.max(Be-(Nt-r.options.hierarchical.nodeSpacing),ht)),Yn!==Be&&(r.direction.setPosition(U,Yn),o=!0)};!0===this.options.hierarchical.blockShifting&&(function(H){var U=r.hierarchical.getLevels();U=Dn(U).call(U);for(var W=0;W<5&&(o=!1,I(A,U,!0),!0===o);W++);}(),function(){for(var H in r.body.nodes)Object.prototype.hasOwnProperty.call(r.body.nodes,H)&&r._centerParent(r.body.nodes[H])}()),!0===this.options.hierarchical.edgeMinimization&&function(H){var U=r.hierarchical.getLevels();U=Dn(U).call(U);for(var W=0;W<20;W++){o=!1;for(var K=0;K<U.length;K++)for(var Z=r.hierarchical.distributionOrdering[U[K]],ee=0;ee<Z.length;ee++)P(1e3,Z[ee]);if(!0!==o)break}}(),!0===this.options.hierarchical.parentCentralization&&function(){var H=r.hierarchical.getLevels();H=Dn(H).call(H);for(var U=0;U<H.length;U++)for(var K=r.hierarchical.distributionOrdering[H[U]],oe=0;oe<K.length;oe++)r._centerParent(K[oe])}(),function(){for(var H=function(){for(var H=[],U=0;U<r.hierarchical.numTrees();U++)H.push(r.direction.getTreeSize(U));return H}(),U=0,W=0;W<H.length-1;W++)l(W+1,U+=H[W].max-H[W+1].min+r.options.hierarchical.treeSpacing)}()}},{key:"_getSpaceAroundNode",value:function(r,o){var s=!0;void 0===o&&(s=!1);var l=this.hierarchical.levels[r.id];if(void 0!==l){var d=this.hierarchical.distributionIndex[r.id],f=this.direction.getPosition(r),m=this.hierarchical.distributionOrdering[l],b=1e9,I=1e9;if(0!==d){var A=m[d-1];(!0===s&&void 0===o[A.id]||!1===s)&&(b=f-this.direction.getPosition(A))}if(d!=m.length-1){var P=m[d+1];if(!0===s&&void 0===o[P.id]||!1===s){var H=this.direction.getPosition(P);I=Math.min(I,H-f)}}return[b,I]}return[0,0]}},{key:"_centerParent",value:function(r){if(this.hierarchical.parentReference[r.id])for(var o=this.hierarchical.parentReference[r.id],s=0;s<o.length;s++){var l=o[s],d=this.body.nodes[l],f=this.hierarchical.childrenReference[l];if(void 0!==f){var m=this._getCenterPosition(f),b=this.direction.getPosition(d),I=Nn(this._getSpaceAroundNode(d),2),A=I[0],P=I[1],H=b-m;(H<0&&Math.abs(H)<P-this.options.hierarchical.nodeSpacing||H>0&&Math.abs(H)<A-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(d,m)}}}},{key:"_placeNodesByHierarchy",value:function(r){for(var o in this.positionedNodes={},r)if(Object.prototype.hasOwnProperty.call(r,o)){var s,l=sn(r[o]);l=this._indexArrayToNodes(l),Eb(s=this.direction).call(s,l);for(var d=0,f=0;f<l.length;f++){var m=l[f];if(void 0===this.positionedNodes[m.id]){var b=this.options.hierarchical.nodeSpacing,I=b*d;d>0&&(I=this.direction.getPosition(l[f-1])+b),this.direction.setPosition(m,I,o),this._validatePositionAndContinue(m,o,I),d++}}}}},{key:"_placeBranchNodes",value:function(r,o){var s,l=this.hierarchical.childrenReference[r];if(void 0!==l){for(var d=[],f=0;f<l.length;f++)d.push(this.body.nodes[l[f]]);Eb(s=this.direction).call(s,d);for(var m=0;m<d.length;m++){var b=d[m],I=this.hierarchical.levels[b.id];if(!(I>o&&void 0===this.positionedNodes[b.id]))return;var P,A=this.options.hierarchical.nodeSpacing;P=0===m?this.direction.getPosition(this.body.nodes[r]):this.direction.getPosition(d[m-1])+A,this.direction.setPosition(b,P,I),this._validatePositionAndContinue(b,I,P)}var H=this._getCenterPosition(d);this.direction.setPosition(this.body.nodes[r],H,o)}}},{key:"_validatePositionAndContinue",value:function(r,o,s){if(this.hierarchical.isTree){if(void 0!==this.lastNodeOnLevel[o]){var l=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[o]]);if(s-l<this.options.hierarchical.nodeSpacing){var d=l+this.options.hierarchical.nodeSpacing-s,f=this._findCommonParent(this.lastNodeOnLevel[o],r.id);this._shiftBlock(f.withChild,d)}}this.lastNodeOnLevel[o]=r.id,this.positionedNodes[r.id]=!0,this._placeBranchNodes(r.id,o)}}},{key:"_indexArrayToNodes",value:function(r){for(var o=[],s=0;s<r.length;s++)o.push(this.body.nodes[r[s]]);return o}},{key:"_getDistribution",value:function(){var r,o,s={};for(r in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,r)){var l=void 0===this.hierarchical.levels[r]?0:this.hierarchical.levels[r];this.direction.fix(o=this.body.nodes[r],l),void 0===s[l]&&(s[l]={}),s[l][r]=o}return s}},{key:"_getActiveEdges",value:function(r){var o=this,s=[];return O(r.edges,function(l){var d;-1!==Qt(d=o.body.edgeIndices).call(d,l.id)&&s.push(l)}),s}},{key:"_getHubSizes",value:function(){var r=this,o={};O(this.body.nodeIndices,function(l){var f=r._getActiveEdges(r.body.nodes[l]).length;o[f]=!0});var s=[];return O(o,function(l){s.push(Number(l))}),Eb(ey).call(ey,s,function(l,d){return d-l}),s}},{key:"_determineLevelsByHubsize",value:function(){for(var r=this,o=function(f,m){r.hierarchical.levelDownstream(f,m)},s=this._getHubSizes(),l=function(f){var m=s[f];if(0===m)return"break";O(r.body.nodeIndices,function(b){m===r._getActiveEdges(r.body.nodes[b]).length&&r._crawlNetwork(o,b)})},d=0;d<s.length&&"break"!==l(d);++d);}},{key:"_determineLevelsCustomCallback",value:function(){var r=this;this._crawlNetwork(function(o,s,l){var d=r.hierarchical.levels[o.id];void 0===d&&(d=r.hierarchical.levels[o.id]=1e5);var f=(jo.cloneOptions(o,"node"),jo.cloneOptions(s,"node"),void jo.cloneOptions(l,"edge"));r.hierarchical.levels[s.id]=d+f}),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var r,l,o=this,s=K_(r=this.body.nodeIndices).call(r,function(l,d){return l.set(d,o.body.nodes[d]),l},new Yf);this.hierarchical.levels="roots"===this.options.hierarchical.shakeTowards?xb(function(d){var f,m;return tw(f=it(m=d.edges).call(m,function(b){return l.has(b.toId)})).call(f,function(b){return b.from===d})},function(d,f){return f<d},"to",l=s):function(l){return xb(function(d){var f,m;return tw(f=it(m=d.edges).call(m,function(b){return l.has(b.toId)})).call(f,function(b){return b.to===d})},function(d,f){return f>d},"from",l)}(s),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var r=this;this._crawlNetwork(function(o,s){r.hierarchical.levels[s.id]>r.hierarchical.levels[o.id]&&r.hierarchical.addRelation(o.id,s.id)}),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var r=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},s=arguments.length>1?arguments[1]:void 0,l={},d=function P(H,U){if(void 0===l[H.id]){var W;r.hierarchical.setTreeIndex(H,U),l[H.id]=!0;for(var K=r._getActiveEdges(H),oe=0;oe<K.length;oe++){var Z=K[oe];!0===Z.connected&&H.id!=(W=Z.toId==H.id?Z.from:Z.to).id&&(o(H,W,Z),P(W,U))}}};if(void 0===s)for(var f=0,m=0;m<this.body.nodeIndices.length;m++){var b=this.body.nodeIndices[m];void 0===l[b]&&(d(this.body.nodes[b],f),f+=1)}else{var A=this.body.nodes[s];if(void 0===A)return void console.error("Node not found:",s);d(A)}}},{key:"_shiftBlock",value:function(r,o){var s=this,l={};!function d(f){if(!l[f]){l[f]=!0,s.direction.shift(f,o);var m=s.hierarchical.childrenReference[f];if(void 0!==m)for(var b=0;b<m.length;b++)d(m[b])}}(r)}},{key:"_findCommonParent",value:function(r,o){var s=this,l={};return function d(f,m){var b=s.hierarchical.parentReference[m];if(void 0!==b)for(var I=0;I<b.length;I++){var A=b[I];f[A]=!0,d(f,A)}}(l,r),function d(f,m){var b=s.hierarchical.parentReference[m];if(void 0!==b)for(var I=0;I<b.length;I++){var A=b[I];if(void 0!==f[A])return{foundParent:A,withChild:m};var P=d(f,A);if(null!==P.foundParent)return P}return{foundParent:null,withChild:m}}(l,o)}},{key:"setDirectionStrategy",value:function(){this.direction="UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?new J_(this):new I1(this)}},{key:"_getCenterPosition",value:function(r){for(var o=1e9,s=-1e9,l=0;l<r.length;l++){var m=this.direction.getPosition(void 0!==r[l].id?r[l]:this.body.nodes[r[l]]);o=Math.min(o,m),s=Math.max(s,m)}return.5*(o+s)}}]),u}();function Tb(u,r){(null==r||r>u.length)&&(r=u.length);for(var o=0,s=new Array(r);o<r;o++)s[o]=u[o];return s}var N1=function(){function u(r,o,s,l){var d,f,m=this;ke(this,u),this.body=r,this.canvas=o,this.selectionHandler=s,this.interactionHandler=l,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},jn(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){m._clean()}),this.body.emitter.on("_dataChanged",he(d=this._restore).call(d,this)),this.body.emitter.on("_resetData",he(f=this._restore).call(f,this))}return Te(u,[{key:"_restore",value:function(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(r,o,s){void 0!==o&&(this.options.locale=void 0!==o.locale?o.locale:s.locale,this.options.locales=void 0!==o.locales?o.locales:s.locales),void 0!==r&&("boolean"==typeof r?this.options.enabled=r:(this.options.enabled=!0,y(this.options,r)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){var r,o;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var s=this.selectionHandler.getSelectedNodeCount(),l=this.selectionHandler.getSelectedEdgeCount(),d=s+l,f=this.options.locales[this.options.locale],m=!1;!1!==this.options.addNode&&(this._createAddNodeButton(f),m=!0),!1!==this.options.addEdge&&(!0===m?this._createSeperator(1):m=!0,this._createAddEdgeButton(f)),1===s&&"function"==typeof this.options.editNode?(!0===m?this._createSeperator(2):m=!0,this._createEditNodeButton(f)):1===l&&0===s&&!1!==this.options.editEdge&&(!0===m?this._createSeperator(3):m=!0,this._createEditEdgeButton(f)),0!==d&&(s>0&&!1!==this.options.deleteNode||0===s&&!1!==this.options.deleteEdge)&&(!0===m&&this._createSeperator(4),this._createDeleteButton(f)),this._bindElementEvents(this.closeDiv,he(r=this.toggleEditMode).call(r,this)),this._temporaryBindEvent("select",he(o=this.showManipulatorToolbar).call(o,this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){var r;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled){var o,s=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(s),this._createSeperator(),this._createDescription(s.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,he(o=this.toggleEditMode).call(o,this))}this._temporaryBindEvent("click",he(r=this._performAddNode).call(r,this))}},{key:"editNode",value:function(){var r=this;!0!==this.editMode&&this.enableEditMode(),this._clean();var o=this.selectionHandler.getSelectedNodes()[0];if(void 0!==o){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==o.isCluster){var s=y({},o.options,!1);if(s.x=o.x,s.y=o.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(s,function(l){null!=l&&"editNode"===r.inMode&&r.body.data.nodes.getDataSet().update(l),r.showManipulatorToolbar()})}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){var r,o,s,l,d;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled){var f,m=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(m),this._createSeperator(),this._createDescription(m.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,he(f=this.toggleEditMode).call(f,this))}this._temporaryBindUI("onTouch",he(r=this._handleConnect).call(r,this)),this._temporaryBindUI("onDragEnd",he(o=this._finishConnect).call(o,this)),this._temporaryBindUI("onDrag",he(s=this._dragControlNode).call(s,this)),this._temporaryBindUI("onRelease",he(l=this._finishConnect).call(l,this)),this._temporaryBindUI("onDragStart",he(d=this._dragStartEdge).call(d,this)),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"!==Xt(this.options.editEdge)||"function"!=typeof this.options.editEdge.editWithoutDrag||(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],void 0===this.edgeBeingEditedId)){if(!0===this.guiEnabled){var r,o=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(o),this._createSeperator(),this._createDescription(o.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,he(r=this.toggleEditMode).call(r,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],void 0!==this.edgeBeingEditedId){var s,l,d,f,m=this.body.edges[this.edgeBeingEditedId],b=this._getNewTargetNode(m.from.x,m.from.y),I=this._getNewTargetNode(m.to.x,m.to.y);this.temporaryIds.nodes.push(b.id),this.temporaryIds.nodes.push(I.id),this.body.nodes[b.id]=b,this.body.nodeIndices.push(b.id),this.body.nodes[I.id]=I,this.body.nodeIndices.push(I.id),this._temporaryBindUI("onTouch",he(s=this._controlNodeTouch).call(s,this)),this._temporaryBindUI("onTap",function(){}),this._temporaryBindUI("onHold",function(){}),this._temporaryBindUI("onDragStart",he(l=this._controlNodeDragStart).call(l,this)),this._temporaryBindUI("onDrag",he(d=this._controlNodeDrag).call(d,this)),this._temporaryBindUI("onDragEnd",he(f=this._controlNodeDragEnd).call(f,this)),this._temporaryBindUI("onMouseMove",function(){}),this._temporaryBindEvent("beforeDrawing",function(P){var H=m.edgeType.findBorderPositions(P);!1===b.selected&&(b.x=H.from.x,b.y=H.from.y),!1===I.selected&&(I.x=H.to.x,I.y=H.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}else{var A=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(A.from.id,A.to.id)}}},{key:"deleteSelected",value:function(){var r=this;!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete";var o=this.selectionHandler.getSelectedNodeIds(),s=this.selectionHandler.getSelectedEdgeIds(),l=void 0;if(o.length>0){for(var d=0;d<o.length;d++)if(!0===this.body.nodes[o[d]].isCluster)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(l=this.options.deleteNode)}else s.length>0&&"function"==typeof this.options.deleteEdge&&(l=this.options.deleteEdge);if("function"==typeof l){var f={nodes:o,edges:s};if(2!==l.length)throw new Error("The function for delete does not support two arguments (data, callback)");l(f,function(m){null!=m&&"delete"===r.inMode?(r.body.data.edges.getDataSet().remove(m.edges),r.body.data.nodes.getDataSet().remove(m.nodes),r.body.emitter.emit("startSimulation"),r.showManipulatorToolbar()):(r.body.emitter.emit("startSimulation"),r.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().remove(s),this.body.data.nodes.getDataSet().remove(o),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){var r,o;void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.manipulationDiv.style.display=!0===this.editMode?"block":"none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editModeDiv.style.display=!0===this.editMode?"none":"block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",null!==(r=null===(o=this.options.locales[this.options.locale])||void 0===o?void 0:o.close)&&void 0!==r?r:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(r,o){var s=y({},this.options.controlNodeStyle);s.id="targetNode"+Ag(),s.hidden=!1,s.physics=!1,s.x=r,s.y=o;var l=this.body.functions.createNode(s);return l.shape.boundingBox={left:r,right:r,top:o,bottom:o},l}},{key:"_createEditButton",value:function(){var r;this._clean(),this.manipulationDOM={},sl(this.editModeDiv);var s=this._createButton("editMode","vis-edit vis-edit-mode",this.options.locales[this.options.locale].edit||this.options.locales.en.edit);this.editModeDiv.appendChild(s),this._bindElementEvents(s,he(r=this.toggleEditMode).call(r,this))}},{key:"_clean",value:function(){this.inMode=!1,!0===this.guiEnabled&&(sl(this.editModeDiv),sl(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanupDOMEventListeners",value:function(){var r,o,s=function(u,r){var o=void 0!==No&&Zo(u)||u["@@iterator"];if(!o){if(Rt(u)||(o=function(b,I){var A;if(b){if("string"==typeof b)return Tb(b,I);var P=qt(A=Object.prototype.toString.call(b)).call(A,8,-1);if("Object"===P&&b.constructor&&(P=b.constructor.name),"Map"===P||"Set"===P)return ju(b);if("Arguments"===P||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P))return Tb(b,I)}}(u))||r&&u&&"number"==typeof u.length){o&&(u=o);var s=0,l=function(){};return{s:l,n:function(){return s>=u.length?{done:!0}:{done:!1,value:u[s++]}},e:function(b){throw b},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var d,f=!0,m=!1;return{s:function(){o=o.call(u)},n:function(){var b=o.next();return f=b.done,b},e:function(b){m=!0,d=b},f:function(){try{f||null==o.return||o.return()}finally{if(m)throw d}}}}(As(r=this._domEventListenerCleanupQueue).call(r,0));try{for(s.s();!(o=s.n()).done;)(0,o.value)()}catch(l){s.e(l)}finally{s.f()}}},{key:"_removeManipulationDOM",value:function(){this._clean(),sl(this.manipulationDiv),sl(this.editModeDiv),sl(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+r]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+r].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+r])}},{key:"_createAddNodeButton",value:function(r){var o,s=this._createButton("addNode","vis-add",r.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(s),this._bindElementEvents(s,he(o=this.addNodeMode).call(o,this))}},{key:"_createAddEdgeButton",value:function(r){var o,s=this._createButton("addEdge","vis-connect",r.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(s),this._bindElementEvents(s,he(o=this.addEdgeMode).call(o,this))}},{key:"_createEditNodeButton",value:function(r){var o,s=this._createButton("editNode","vis-edit",r.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(s),this._bindElementEvents(s,he(o=this.editNode).call(o,this))}},{key:"_createEditEdgeButton",value:function(r){var o,s=this._createButton("editEdge","vis-edit",r.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(s),this._bindElementEvents(s,he(o=this.editEdgeMode).call(o,this))}},{key:"_createDeleteButton",value:function(r){var o,l=this._createButton("delete",this.options.rtl?"vis-delete-rtl":"vis-delete",r.del||this.options.locales.en.del);this.manipulationDiv.appendChild(l),this._bindElementEvents(l,he(o=this.deleteSelected).call(o,this))}},{key:"_createBackButton",value:function(r){var o,s=this._createButton("back","vis-back",r.back||this.options.locales.en.back);this.manipulationDiv.appendChild(s),this._bindElementEvents(s,he(o=this.showManipulatorToolbar).call(o,this))}},{key:"_createButton",value:function(r,o,s){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[r+"Div"]=document.createElement("button"),this.manipulationDOM[r+"Div"].className="vis-button "+o,this.manipulationDOM[r+"Label"]=document.createElement("div"),this.manipulationDOM[r+"Label"].className=l,this.manipulationDOM[r+"Label"].innerText=s,this.manipulationDOM[r+"Div"].appendChild(this.manipulationDOM[r+"Label"]),this.manipulationDOM[r+"Div"]}},{key:"_createDescription",value:function(r){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=r,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}},{key:"_temporaryBindEvent",value:function(r,o){this.temporaryEventFunctions.push({event:r,boundFunction:o}),this.body.emitter.on(r,o)}},{key:"_temporaryBindUI",value:function(r,o){if(void 0===this.body.eventListeners[r])throw new Error("This UI function does not exist. Typo? You tried: "+r+" possible are: "+Vo(sn(this.body.eventListeners)));this.temporaryUIFunctions[r]=this.body.eventListeners[r],this.body.eventListeners[r]=o}},{key:"_unbindTemporaryUIs",value:function(){for(var r in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,r)&&(this.body.eventListeners[r]=this.temporaryUIFunctions[r],delete this.temporaryUIFunctions[r]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var r=0;r<this.temporaryEventFunctions.length;r++)this.body.emitter.off(this.temporaryEventFunctions[r].event,this.temporaryEventFunctions[r].boundFunction);this.temporaryEventFunctions=[]}},{key:"_bindElementEvents",value:function(r,o){var s=new ji(r,{});qm(s,o),this._domEventListenerCleanupQueue.push(function(){s.destroy()});var l=function(d){var f=d.keyCode,m=d.key;"Enter"!==m&&" "!==m&&13!==f&&32!==f||o()};r.addEventListener("keyup",l,!1),this._domEventListenerCleanupQueue.push(function(){r.removeEventListener("keyup",l,!1)})}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var r=0;r<this.temporaryIds.edges.length;r++){var o;this.body.edges[this.temporaryIds.edges[r]].disconnect(),delete this.body.edges[this.temporaryIds.edges[r]];var s,l=Qt(o=this.body.edgeIndices).call(o,this.temporaryIds.edges[r]);-1!==l&&As(s=this.body.edgeIndices).call(s,l,1)}for(var d=0;d<this.temporaryIds.nodes.length;d++){var f;delete this.body.nodes[this.temporaryIds.nodes[d]];var m,b=Qt(f=this.body.nodeIndices).call(f,this.temporaryIds.nodes[d]);-1!==b&&As(m=this.body.nodeIndices).call(m,b,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(r){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(r.center),this.lastTouch.translation=jn({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(){var o=this.selectionHandler._pointerToPositionObject(this.lastTouch),s=this.body.nodes[this.temporaryIds.nodes[0]],l=this.body.nodes[this.temporaryIds.nodes[1]],d=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var f=s.isOverlappingWith(o),m=l.isOverlappingWith(o);!0===f?(this.selectedControlNode=s,d.edgeType.from=s):!0===m&&(this.selectedControlNode=l,d.edgeType.to=l),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(r){this.body.emitter.emit("disablePhysics");var o=this.body.functions.getPointer(r.center),s=this.canvas.DOMtoCanvas(o);void 0!==this.selectedControlNode?(this.selectedControlNode.x=s.x,this.selectedControlNode.y=s.y):this.interactionHandler.onDrag(r),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(r){var o=this.body.functions.getPointer(r.center),s=this.selectionHandler._pointerToPositionObject(o),l=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var d=this.selectionHandler._getAllNodesOverlappingWith(s),f=void 0,m=d.length-1;m>=0;m--)if(d[m]!==this.selectedControlNode.id){f=this.body.nodes[d[m]];break}void 0!==f&&void 0!==this.selectedControlNode?!0===f.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.selectedControlNode.id===this.body.nodes[this.temporaryIds.nodes[0]].id?this._performEditEdge(f.id,l.to.id):this._performEditEdge(l.from.id,f.id):(l.updateEdgeType(),this.body.emitter.emit("restorePhysics")),this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(r){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(r.center),this.lastTouch.translation=jn({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;var s=this.selectionHandler.getNodeAt(this.lastTouch);if(void 0!==s)if(!0===s.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var l=this._getNewTargetNode(s.x,s.y);this.body.nodes[l.id]=l,this.body.nodeIndices.push(l.id);var d=this.body.functions.createEdge({id:"connectionEdge"+Ag(),from:s.id,to:l.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[d.id]=d,this.body.edgeIndices.push(d.id),this.temporaryIds.nodes.push(l.id),this.temporaryIds.edges.push(d.id)}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(r){var o=this.body.functions.getPointer(r.center),s=this.selectionHandler._pointerToPositionObject(o),l=void 0;void 0!==this.temporaryIds.edges[0]&&(l=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var d=this.selectionHandler._getAllNodesOverlappingWith(s),f=void 0,m=d.length-1;m>=0;m--){var b;if(-1===Qt(b=this.temporaryIds.nodes).call(b,d[m])){f=this.body.nodes[d[m]];break}}if(r.controlEdge={from:l,to:f?f.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",r,o),void 0!==this.temporaryIds.nodes[0]){var I=this.body.nodes[this.temporaryIds.nodes[0]];I.x=this.canvas._XconvertDOMtoCanvas(o.x),I.y=this.canvas._YconvertDOMtoCanvas(o.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(r)}},{key:"_finishConnect",value:function(r){var o=this.body.functions.getPointer(r.center),s=this.selectionHandler._pointerToPositionObject(o),l=void 0;void 0!==this.temporaryIds.edges[0]&&(l=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var d=this.selectionHandler._getAllNodesOverlappingWith(s),f=void 0,m=d.length-1;m>=0;m--){var b;if(-1===Qt(b=this.temporaryIds.nodes).call(b,d[m])){f=this.body.nodes[d[m]];break}}this._cleanupTemporaryNodesAndEdges(),void 0!==f&&(!0===f.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[l]&&void 0!==this.body.nodes[f.id]&&this._performAddEdge(l,f.id)),r.controlEdge={from:l,to:f?f.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",r,o),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(r){this.selectionHandler.generateClickEvent("dragStart",r,this.lastTouch,void 0,!0)}},{key:"_performAddNode",value:function(r){var o=this,s={id:Ag(),x:r.pointer.canvas.x,y:r.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(s,function(l){null!=l&&"addNode"===o.inMode&&o.body.data.nodes.getDataSet().add(l),o.showManipulatorToolbar()})}else this.body.data.nodes.getDataSet().add(s),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(r,o){var s=this,l={from:r,to:o};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(l,function(d){null!=d&&"addEdge"===s.inMode&&(s.body.data.edges.getDataSet().add(d),s.selectionHandler.unselectAll(),s.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().add(l),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(r,o){var s=this,l={id:this.edgeBeingEditedId,from:r,to:o,label:this.body.data.edges.get(this.edgeBeingEditedId).label},d=this.options.editEdge;if("object"===Xt(d)&&(d=d.editWithoutDrag),"function"==typeof d){if(2!==d.length)throw new Error("The function for edit does not support two arguments (data, callback)");d(l,function(f){null==f||"editEdge"!==s.inMode?(s.body.edges[l.id].updateEdgeType(),s.body.emitter.emit("_redraw"),s.showManipulatorToolbar()):(s.body.data.edges.getDataSet().update(f),s.selectionHandler.unselectAll(),s.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().update(l),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),u}(),Se="string",Ee="boolean",de="number",rp="array",Qe="object",Yv=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],Ib={borderWidth:{number:de},borderWidthSelected:{number:de,undefined:"undefined"},brokenImage:{string:Se,undefined:"undefined"},chosen:{label:{boolean:Ee,function:"function"},node:{boolean:Ee,function:"function"},__type__:{object:Qe,boolean:Ee}},color:{border:{string:Se},background:{string:Se},highlight:{border:{string:Se},background:{string:Se},__type__:{object:Qe,string:Se}},hover:{border:{string:Se},background:{string:Se},__type__:{object:Qe,string:Se}},__type__:{object:Qe,string:Se}},opacity:{number:de,undefined:"undefined"},fixed:{x:{boolean:Ee},y:{boolean:Ee},__type__:{object:Qe,boolean:Ee}},font:{align:{string:Se},color:{string:Se},size:{number:de},face:{string:Se},background:{string:Se},strokeWidth:{number:de},strokeColor:{string:Se},vadjust:{number:de},multi:{boolean:Ee,string:Se},bold:{color:{string:Se},size:{number:de},face:{string:Se},mod:{string:Se},vadjust:{number:de},__type__:{object:Qe,string:Se}},boldital:{color:{string:Se},size:{number:de},face:{string:Se},mod:{string:Se},vadjust:{number:de},__type__:{object:Qe,string:Se}},ital:{color:{string:Se},size:{number:de},face:{string:Se},mod:{string:Se},vadjust:{number:de},__type__:{object:Qe,string:Se}},mono:{color:{string:Se},size:{number:de},face:{string:Se},mod:{string:Se},vadjust:{number:de},__type__:{object:Qe,string:Se}},__type__:{object:Qe,string:Se}},group:{string:Se,number:de,undefined:"undefined"},heightConstraint:{minimum:{number:de},valign:{string:Se},__type__:{object:Qe,boolean:Ee,number:de}},hidden:{boolean:Ee},icon:{face:{string:Se},code:{string:Se},size:{number:de},color:{string:Se},weight:{string:Se,number:de},__type__:{object:Qe}},id:{string:Se,number:de},image:{selected:{string:Se,undefined:"undefined"},unselected:{string:Se,undefined:"undefined"},__type__:{object:Qe,string:Se}},imagePadding:{top:{number:de},right:{number:de},bottom:{number:de},left:{number:de},__type__:{object:Qe,number:de}},label:{string:Se,undefined:"undefined"},labelHighlightBold:{boolean:Ee},level:{number:de,undefined:"undefined"},margin:{top:{number:de},right:{number:de},bottom:{number:de},left:{number:de},__type__:{object:Qe,number:de}},mass:{number:de},physics:{boolean:Ee},scaling:{min:{number:de},max:{number:de},label:{enabled:{boolean:Ee},min:{number:de},max:{number:de},maxVisible:{number:de},drawThreshold:{number:de},__type__:{object:Qe,boolean:Ee}},customScalingFunction:{function:"function"},__type__:{object:Qe}},shadow:{enabled:{boolean:Ee},color:{string:Se},size:{number:de},x:{number:de},y:{number:de},__type__:{object:Qe,boolean:Ee}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:Ee,array:rp},borderRadius:{number:de},interpolation:{boolean:Ee},useImageSize:{boolean:Ee},useBorderWithImage:{boolean:Ee},coordinateOrigin:{string:["center","top-left"]},__type__:{object:Qe}},size:{number:de},title:{string:Se,dom:"dom",undefined:"undefined"},value:{number:de,undefined:"undefined"},widthConstraint:{minimum:{number:de},maximum:{number:de},__type__:{object:Qe,boolean:Ee,number:de}},x:{number:de},y:{number:de},__type__:{object:Qe}},iw={configure:{enabled:{boolean:Ee},filter:{boolean:Ee,string:Se,array:rp,function:"function"},container:{dom:"dom"},showButton:{boolean:Ee},__type__:{object:Qe,boolean:Ee,string:Se,array:rp,function:"function"}},edges:{arrows:{to:{enabled:{boolean:Ee},scaleFactor:{number:de},type:{string:Yv},imageHeight:{number:de},imageWidth:{number:de},src:{string:Se},__type__:{object:Qe,boolean:Ee}},middle:{enabled:{boolean:Ee},scaleFactor:{number:de},type:{string:Yv},imageWidth:{number:de},imageHeight:{number:de},src:{string:Se},__type__:{object:Qe,boolean:Ee}},from:{enabled:{boolean:Ee},scaleFactor:{number:de},type:{string:Yv},imageWidth:{number:de},imageHeight:{number:de},src:{string:Se},__type__:{object:Qe,boolean:Ee}},__type__:{string:["from","to","middle"],object:Qe}},endPointOffset:{from:{number:de},to:{number:de},__type__:{object:Qe,number:de}},arrowStrikethrough:{boolean:Ee},background:{enabled:{boolean:Ee},color:{string:Se},size:{number:de},dashes:{boolean:Ee,array:rp},__type__:{object:Qe,boolean:Ee}},chosen:{label:{boolean:Ee,function:"function"},edge:{boolean:Ee,function:"function"},__type__:{object:Qe,boolean:Ee}},color:{color:{string:Se},highlight:{string:Se},hover:{string:Se},inherit:{string:["from","to","both"],boolean:Ee},opacity:{number:de},__type__:{object:Qe,string:Se}},dashes:{boolean:Ee,array:rp},font:{color:{string:Se},size:{number:de},face:{string:Se},background:{string:Se},strokeWidth:{number:de},strokeColor:{string:Se},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:de},multi:{boolean:Ee,string:Se},bold:{color:{string:Se},size:{number:de},face:{string:Se},mod:{string:Se},vadjust:{number:de},__type__:{object:Qe,string:Se}},boldital:{color:{string:Se},size:{number:de},face:{string:Se},mod:{string:Se},vadjust:{number:de},__type__:{object:Qe,string:Se}},ital:{color:{string:Se},size:{number:de},face:{string:Se},mod:{string:Se},vadjust:{number:de},__type__:{object:Qe,string:Se}},mono:{color:{string:Se},size:{number:de},face:{string:Se},mod:{string:Se},vadjust:{number:de},__type__:{object:Qe,string:Se}},__type__:{object:Qe,string:Se}},hidden:{boolean:Ee},hoverWidth:{function:"function",number:de},label:{string:Se,undefined:"undefined"},labelHighlightBold:{boolean:Ee},length:{number:de,undefined:"undefined"},physics:{boolean:Ee},scaling:{min:{number:de},max:{number:de},label:{enabled:{boolean:Ee},min:{number:de},max:{number:de},maxVisible:{number:de},drawThreshold:{number:de},__type__:{object:Qe,boolean:Ee}},customScalingFunction:{function:"function"},__type__:{object:Qe}},selectionWidth:{function:"function",number:de},selfReferenceSize:{number:de},selfReference:{size:{number:de},angle:{number:de},renderBehindTheNode:{boolean:Ee},__type__:{object:Qe}},shadow:{enabled:{boolean:Ee},color:{string:Se},size:{number:de},x:{number:de},y:{number:de},__type__:{object:Qe,boolean:Ee}},smooth:{enabled:{boolean:Ee},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:de},forceDirection:{string:["horizontal","vertical","none"],boolean:Ee},__type__:{object:Qe,boolean:Ee}},title:{string:Se,undefined:"undefined"},width:{number:de},widthConstraint:{maximum:{number:de},__type__:{object:Qe,boolean:Ee,number:de}},value:{number:de,undefined:"undefined"},__type__:{object:Qe}},groups:{useDefaultGroups:{boolean:Ee},__any__:Ib,__type__:{object:Qe}},interaction:{dragNodes:{boolean:Ee},dragView:{boolean:Ee},hideEdgesOnDrag:{boolean:Ee},hideEdgesOnZoom:{boolean:Ee},hideNodesOnDrag:{boolean:Ee},hover:{boolean:Ee},keyboard:{enabled:{boolean:Ee},speed:{x:{number:de},y:{number:de},zoom:{number:de},__type__:{object:Qe}},bindToWindow:{boolean:Ee},autoFocus:{boolean:Ee},__type__:{object:Qe,boolean:Ee}},multiselect:{boolean:Ee},navigationButtons:{boolean:Ee},selectable:{boolean:Ee},selectConnectedEdges:{boolean:Ee},hoverConnectedEdges:{boolean:Ee},tooltipDelay:{number:de},zoomView:{boolean:Ee},zoomSpeed:{number:de},__type__:{object:Qe}},layout:{randomSeed:{undefined:"undefined",number:de,string:Se},improvedLayout:{boolean:Ee},clusterThreshold:{number:de},hierarchical:{enabled:{boolean:Ee},levelSeparation:{number:de},nodeSpacing:{number:de},treeSpacing:{number:de},blockShifting:{boolean:Ee},edgeMinimization:{boolean:Ee},parentCentralization:{boolean:Ee},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:Qe,boolean:Ee}},__type__:{object:Qe}},manipulation:{enabled:{boolean:Ee},initiallyActive:{boolean:Ee},addNode:{boolean:Ee,function:"function"},addEdge:{boolean:Ee,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:Qe,boolean:Ee,function:"function"}},deleteNode:{boolean:Ee,function:"function"},deleteEdge:{boolean:Ee,function:"function"},controlNodeStyle:Ib,__type__:{object:Qe,boolean:Ee}},nodes:Ib,physics:{enabled:{boolean:Ee},barnesHut:{theta:{number:de},gravitationalConstant:{number:de},centralGravity:{number:de},springLength:{number:de},springConstant:{number:de},damping:{number:de},avoidOverlap:{number:de},__type__:{object:Qe}},forceAtlas2Based:{theta:{number:de},gravitationalConstant:{number:de},centralGravity:{number:de},springLength:{number:de},springConstant:{number:de},damping:{number:de},avoidOverlap:{number:de},__type__:{object:Qe}},repulsion:{centralGravity:{number:de},springLength:{number:de},springConstant:{number:de},nodeDistance:{number:de},damping:{number:de},__type__:{object:Qe}},hierarchicalRepulsion:{centralGravity:{number:de},springLength:{number:de},springConstant:{number:de},nodeDistance:{number:de},damping:{number:de},avoidOverlap:{number:de},__type__:{object:Qe}},maxVelocity:{number:de},minVelocity:{number:de},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:Ee},iterations:{number:de},updateInterval:{number:de},onlyDynamicEdges:{boolean:Ee},fit:{boolean:Ee},__type__:{object:Qe,boolean:Ee}},timestep:{number:de},adaptiveTimestep:{boolean:Ee},wind:{x:{number:de},y:{number:de},__type__:{object:Qe}},__type__:{object:Qe,boolean:Ee}},autoResize:{boolean:Ee},clickToUse:{boolean:Ee},locale:{string:Se},locales:{__any__:{any:"any"},__type__:{object:Qe}},height:{string:Se},width:{string:Se},__type__:{object:Qe}},Qv={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},ow=function(u,r,o){var s;return!(!re(u).call(u,"physics")||!re(s=Qv.physics.solver).call(s,r)||o.physics.solver===r||"wind"===r)},gr=Object.freeze({__proto__:null,configuratorHideOption:ow,allOptions:iw,configureOptions:Qv}),F1=function(){function u(){ke(this,u)}return Te(u,[{key:"getDistances",value:function(r,o,s){for(var l={},d=r.edges,f=0;f<o.length;f++){var m={};l[o[f]]=m;for(var b=0;b<o.length;b++)m[o[b]]=f==b?0:1e9}for(var I=0;I<s.length;I++){var A=d[s[I]];!0===A.connected&&void 0!==l[A.fromId]&&void 0!==l[A.toId]&&(l[A.fromId][A.toId]=1,l[A.toId][A.fromId]=1)}for(var P=o.length,H=0;H<P;H++)for(var U=o[H],W=l[U],K=0;K<P-1;K++)for(var oe=o[K],Z=l[oe],ee=K+1;ee<P;ee++){var ae=o[ee],ve=l[ae],ce=Math.min(Z[ae],Z[U]+W[ae]);Z[ae]=ce,ve[oe]=ce}return l}}]),u}(),sw=function(){function u(r,o,s){ke(this,u),this.body=r,this.springLength=o,this.springConstant=s,this.distanceSolver=new F1}return Te(u,[{key:"setOptions",value:function(r){r&&(r.springLength&&(this.springLength=r.springLength),r.springConstant&&(this.springConstant=r.springConstant))}},{key:"solve",value:function(r,o){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=this.distanceSolver.getDistances(this.body,r,o);this._createL_matrix(l),this._createK_matrix(l),this._createE_matrix();for(var d=.01,f=1,m=0,b=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),I=5,A=1e9,P=0,H=0,U=0,W=0,K=0;A>d&&m<b;){m+=1;var Z=Nn(this._getHighestEnergyNode(s),4);for(P=Z[0],H=Z[2],U=Z[3],W=A=Z[1],K=0;W>f&&K<I;){K+=1,this._moveNode(P,H,U);var ae=Nn(this._getEnergy(P),3);W=ae[0],H=ae[1],U=ae[2]}}}},{key:"_getHighestEnergyNode",value:function(r){for(var o=this.body.nodeIndices,s=this.body.nodes,l=0,d=o[0],f=0,m=0,b=0;b<o.length;b++){var I=o[b];if(!0!==s[I].predefinedPosition||!0===s[I].isCluster&&!0===r||!0!==s[I].options.fixed.x||!0!==s[I].options.fixed.y){var A=Nn(this._getEnergy(I),3),P=A[0];l<P&&(l=P,d=I,f=A[1],m=A[2])}}return[d,l,f,m]}},{key:"_getEnergy",value:function(r){var o=Nn(this.E_sums[r],2),s=o[0],l=o[1];return[Math.sqrt(Math.pow(s,2)+Math.pow(l,2)),s,l]}},{key:"_moveNode",value:function(r,o,s){for(var l=this.body.nodeIndices,d=this.body.nodes,f=0,m=0,b=0,I=d[r].x,A=d[r].y,P=this.K_matrix[r],H=this.L_matrix[r],U=0;U<l.length;U++){var W=l[U];if(W!==r){var K=d[W].x,oe=d[W].y,Z=P[W],ee=H[W],ae=1/Math.pow(Math.pow(I-K,2)+Math.pow(A-oe,2),1.5);f+=Z*(1-ee*Math.pow(A-oe,2)*ae),m+=Z*(ee*(I-K)*(A-oe)*ae),b+=Z*(1-ee*Math.pow(I-K,2)*ae)}}var ve=(o/f+s/m)/(m/f-b/m);d[r].x+=-(m*ve+o)/f,d[r].y+=ve,this._updateE_matrix(r)}},{key:"_createL_matrix",value:function(r){var o=this.body.nodeIndices,s=this.springLength;this.L_matrix=[];for(var l=0;l<o.length;l++){this.L_matrix[o[l]]={};for(var d=0;d<o.length;d++)this.L_matrix[o[l]][o[d]]=s*r[o[l]][o[d]]}}},{key:"_createK_matrix",value:function(r){var o=this.body.nodeIndices,s=this.springConstant;this.K_matrix=[];for(var l=0;l<o.length;l++){this.K_matrix[o[l]]={};for(var d=0;d<o.length;d++)this.K_matrix[o[l]][o[d]]=s*Math.pow(r[o[l]][o[d]],-2)}}},{key:"_createE_matrix",value:function(){var r=this.body.nodeIndices,o=this.body.nodes;this.E_matrix={},this.E_sums={};for(var s=0;s<r.length;s++)this.E_matrix[r[s]]=[];for(var l=0;l<r.length;l++){for(var d=r[l],f=o[d].x,m=o[d].y,b=0,I=0,A=l;A<r.length;A++){var P=r[A];if(P!==d){var H=o[P].x,U=o[P].y,W=1/Math.sqrt(Math.pow(f-H,2)+Math.pow(m-U,2));this.E_matrix[d][A]=[this.K_matrix[d][P]*(f-H-this.L_matrix[d][P]*(f-H)*W),this.K_matrix[d][P]*(m-U-this.L_matrix[d][P]*(m-U)*W)],this.E_matrix[P][l]=this.E_matrix[d][A],b+=this.E_matrix[d][A][0],I+=this.E_matrix[d][A][1]}}this.E_sums[d]=[b,I]}}},{key:"_updateE_matrix",value:function(r){for(var o=this.body.nodeIndices,s=this.body.nodes,l=this.E_matrix[r],d=this.K_matrix[r],f=this.L_matrix[r],m=s[r].x,b=s[r].y,I=0,A=0,P=0;P<o.length;P++){var H=o[P];if(H!==r){var U=l[P],W=U[0],K=U[1],oe=s[H].x,Z=s[H].y,ee=1/Math.sqrt(Math.pow(m-oe,2)+Math.pow(b-Z,2)),ae=d[H]*(m-oe-f[H]*(m-oe)*ee),ve=d[H]*(b-Z-f[H]*(b-Z)*ee);l[P]=[ae,ve],I+=ae,A+=ve;var ce=this.E_sums[H];ce[0]+=ae-W,ce[1]+=ve-K}}this.E_sums[r]=[I,A]}}]),u}();function We(u,r,o){var s,l,d,f,m=this;if(!(this instanceof We))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:s0,clickToUse:!1},jn(this.options,this.defaultOptions),this.body={container:u,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:he(s=this.on).call(s,this),off:he(l=this.off).call(l,this),emit:he(d=this.emit).call(d,this),once:he(f=this.once).call(f,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new Ny(function(){return m.body.emitter.emit("_requestRedraw")}),this.groups=new xg,this.canvas=new n1(this.body),this.selectionHandler=new F_(this.body,this.canvas),this.interactionHandler=new a1(this.body,this.canvas,this.selectionHandler),this.view=new i1(this.body,this.canvas),this.renderer=new e1(this.body,this.canvas),this.physics=new c_(this.body),this.layoutEngine=new A1(this.body),this.clustering=new ZE(this.body),this.manipulation=new N1(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new RE(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new qE(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new sw(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(o),this.setData(r)}Ha(We.prototype),We.prototype.setOptions=function(u){var r=this;if(null===u&&(u=void 0),void 0!==u){if(!0===Om.validate(u,iw)&&console.error("%cErrors have been found in the supplied options object.",fd),po(["locale","locales","clickToUse"],this.options,u),void 0!==u.locale&&(u.locale=function(s,l){try{var d=Nn(l.split(/[-_ /]/,2),2),f=d[0],m=d[1],b=null!=f?f.toLowerCase():null,I=null!=m?m.toUpperCase():null;if(b&&I){var A,P=b+"-"+I;if(Object.prototype.hasOwnProperty.call(s,P))return P;console.warn(kf(A="Unknown variant ".concat(I," of language ")).call(A,b,"."))}if(b){var H=b;if(Object.prototype.hasOwnProperty.call(s,H))return H;console.warn("Unknown language ".concat(b))}return console.warn("Unknown locale ".concat(l,", falling back to English.")),"en"}catch(U){return console.error(U),console.warn("Unexpected error while normalizing locale ".concat(l,", falling back to English.")),"en"}}(u.locales||this.options.locales,u.locale)),u=this.layoutEngine.setOptions(u.layout,u),this.canvas.setOptions(u),this.groups.setOptions(u.groups),this.nodesHandler.setOptions(u.nodes),this.edgesHandler.setOptions(u.edges),this.physics.setOptions(u.physics),this.manipulation.setOptions(u.manipulation,u,this.options),this.interactionHandler.setOptions(u.interaction),this.renderer.setOptions(u.interaction),this.selectionHandler.setOptions(u.interaction),void 0!==u.groups&&this.body.emitter.emit("refreshNodes"),"configure"in u&&(this.configurator||(this.configurator=new go(this,this.body.container,Qv,this.canvas.pixelRatio,ow)),this.configurator.setOptions(u.configure)),this.configurator&&!0===this.configurator.options.enabled){var o={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};y(o.nodes,this.nodesHandler.options),y(o.edges,this.edgesHandler.options),y(o.layout,this.layoutEngine.options),y(o.interaction,this.selectionHandler.options),y(o.interaction,this.renderer.options),y(o.interaction,this.interactionHandler.options),y(o.manipulation,this.manipulation.options),y(o.physics,this.physics.options),y(o.global,this.canvas.options),y(o.global,this.options),this.configurator.setModuleOptions(o)}void 0!==u.clickToUse?!0===u.clickToUse?void 0===this.activator&&(this.activator=new lu(this.canvas.frame),this.activator.on("change",function(){r.body.emitter.emit("activate")})):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},We.prototype._updateVisibleIndices=function(){var u=this.body.nodes,r=this.body.edges;for(var o in this.body.nodeIndices=[],this.body.edgeIndices=[],u)Object.prototype.hasOwnProperty.call(u,o)&&(this.clustering._isClusteredNode(o)||!1!==u[o].options.hidden||this.body.nodeIndices.push(u[o].id));for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){var l=r[s],d=u[l.fromId],f=u[l.toId],m=void 0!==d&&void 0!==f;!this.clustering._isClusteredEdge(s)&&!1===l.options.hidden&&m&&!1===d.options.hidden&&!1===f.options.hidden&&this.body.edgeIndices.push(l.id)}},We.prototype.bindEventListeners=function(){var u=this;this.body.emitter.on("_dataChanged",function(){u.edgesHandler._updateState(),u.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){u.clustering._updateState(),u._updateVisibleIndices(),u._updateValueRange(u.body.nodes),u._updateValueRange(u.body.edges),u.body.emitter.emit("startSimulation"),u.body.emitter.emit("_requestRedraw")})},We.prototype.setData=function(u){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),u&&u.dot&&(u.nodes||u.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(u&&u.options),u&&u.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var r=Fv(u.dot);this.setData(r)}else if(u&&u.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var o=Py(u.gephi);this.setData(o)}else this.nodesHandler.setData(u&&u.nodes,!0),this.edgesHandler.setData(u&&u.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},We.prototype.destroy=function(){for(var u in this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,u)&&delete this.body.nodes[u];for(var r in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,r)&&delete this.body.edges[r];sl(this.body.container)},We.prototype._updateValueRange=function(u){var r,o=void 0,s=void 0,l=0;for(r in u)if(Object.prototype.hasOwnProperty.call(u,r)){var d=u[r].getValue();void 0!==d&&(o=void 0===o?d:Math.min(d,o),s=void 0===s?d:Math.max(d,s),l+=d)}if(void 0!==o&&void 0!==s)for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&u[r].setValueRange(o,s,l)},We.prototype.isActive=function(){return!this.activator||this.activator.active},We.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},We.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},We.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},We.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},We.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},We.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},We.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},We.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},We.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},We.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},We.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)},We.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)},We.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)},We.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)},We.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)},We.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},We.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},We.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},We.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},We.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},We.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},We.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},We.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},We.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},We.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},We.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},We.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)},We.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},We.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},We.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},We.prototype.getConnectedNodes=function(u){return void 0!==this.body.nodes[u]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},We.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},We.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},We.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},We.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},We.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},We.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},We.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)},We.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)},We.prototype.getNodeAt=function(){var u=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==u&&void 0!==u.id?u.id:u},We.prototype.getEdgeAt=function(){var u=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==u&&void 0!==u.id?u.id:u},We.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},We.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},We.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()},We.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},We.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},We.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},We.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},We.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},We.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},We.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},We.prototype.getOptionsFromConfigurator=function(){var u={};return this.configurator&&(u=this.configurator.getOptions.apply(this.configurator)),u};var aw=Fv;Rn.Network=We,Rn.NetworkImages=Ny,Rn.networkDOTParser=kD,Rn.networkGephiParser=rE,Rn.networkOptions=gr,Rn.parseDOTNetwork=aw,Rn.parseGephiNetwork=Py,Object.defineProperty(Rn,"__esModule",{value:!0})}(Oa,wn(579))},334:(ap,Oa,wn)=>{"use strict";function Rn(t){return"function"==typeof t}let tn=!1;const kr={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else tn&&console.log("RxJS: Back to a better error behavior. Thank you. <3");tn=t},get useDeprecatedSynchronousErrorHandling(){return tn}};function Xe(t){setTimeout(()=>{throw t},0)}const Re={closed:!0,next(t){},error(t){if(kr.useDeprecatedSynchronousErrorHandling)throw t;Xe(t)},complete(){}},Ve=Array.isArray||(t=>t&&"number"==typeof t.length);function dn(t){return null!==t&&"object"==typeof t}const bo=(()=>{function t(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((n,i)=>`${i+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t})();class nn{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:i,_unsubscribe:a,_subscriptions:c}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof nn)n.remove(this);else if(null!==n)for(let h=0;h<n.length;++h)n[h].remove(this);if(Rn(a)){i&&(this._unsubscribe=void 0);try{a.call(this)}catch(h){e=h instanceof bo?pu(h.errors):[h]}}if(Ve(c)){let h=-1,g=c.length;for(;++h<g;){const C=c[h];if(dn(C))try{C.unsubscribe()}catch(k){e=e||[],k instanceof bo?e=e.concat(pu(k.errors)):e.push(k)}}}if(e)throw new bo(e)}add(e){let n=e;if(!e)return nn.EMPTY;switch(typeof e){case"function":n=new nn(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof nn)){const c=n;n=new nn,n._subscriptions=[c]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:i}=n;if(null===i)n._parentOrParents=this;else if(i instanceof nn){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}const a=this._subscriptions;return null===a?this._subscriptions=[n]:a.push(n),n}remove(e){const n=this._subscriptions;if(n){const i=n.indexOf(e);-1!==i&&n.splice(i,1)}}}var t;function pu(t){return t.reduce((e,n)=>e.concat(n instanceof bo?n.errors:n),[])}nn.EMPTY=((t=new nn).closed=!0,t);const Rr="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class hn extends nn{constructor(e,n,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Re;break;case 1:if(!e){this.destination=Re;break}if("object"==typeof e){e instanceof hn?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new as(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new as(this,e,n,i)}}[Rr](){return this}static create(e,n,i){const a=new hn(e,n,i);return a.syncErrorThrowable=!1,a}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class as extends hn{constructor(e,n,i,a){super(),this._parentSubscriber=e;let c,h=this;Rn(n)?c=n:n&&(c=n.next,i=n.error,a=n.complete,n!==Re&&(h=Object.create(n),Rn(h.unsubscribe)&&this.add(h.unsubscribe.bind(h)),h.unsubscribe=this.unsubscribe.bind(this))),this._context=h,this._next=c,this._error=i,this._complete=a}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:n}=this;kr.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable?this.__tryOrSetError(n,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:n}=this,{useDeprecatedSynchronousErrorHandling:i}=kr;if(this._error)i&&n.syncErrorThrowable?(this.__tryOrSetError(n,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=e,n.syncErrorThrown=!0):Xe(e),this.unsubscribe();else{if(this.unsubscribe(),i)throw e;Xe(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const n=()=>this._complete.call(this._context);kr.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,n){try{e.call(this._context,n)}catch(i){if(this.unsubscribe(),kr.useDeprecatedSynchronousErrorHandling)throw i;Xe(i)}}__tryOrSetError(e,n,i){if(!kr.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(a){return kr.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=a,e.syncErrorThrown=!0,!0):(Xe(a),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const Ln="function"==typeof Symbol&&Symbol.observable||"@@observable";function ir(t){return t}let Je=(()=>{class t{constructor(n){this._isScalar=!1,n&&(this._subscribe=n)}lift(n){const i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,a){const{operator:c}=this,h=function(t,e,n){if(t){if(t instanceof hn)return t;if(t[Rr])return t[Rr]()}return t||e||n?new hn(t,e,n):new hn(Re)}(n,i,a);if(h.add(c?c.call(h,this.source):this.source||kr.useDeprecatedSynchronousErrorHandling&&!h.syncErrorThrowable?this._subscribe(h):this._trySubscribe(h)),kr.useDeprecatedSynchronousErrorHandling&&h.syncErrorThrowable&&(h.syncErrorThrowable=!1,h.syncErrorThrown))throw h.syncErrorValue;return h}_trySubscribe(n){try{return this._subscribe(n)}catch(i){kr.useDeprecatedSynchronousErrorHandling&&(n.syncErrorThrown=!0,n.syncErrorValue=i),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof hn?n:null}return!0}(n)?n.error(i):console.warn(i)}}forEach(n,i){return new(i=cc(i))((a,c)=>{let h;h=this.subscribe(g=>{try{n(g)}catch(C){c(C),h&&h.unsubscribe()}},c,a)})}_subscribe(n){const{source:i}=this;return i&&i.subscribe(n)}[Ln](){return this}pipe(...n){return 0===n.length?this:function(t){return 0===t.length?ir:1===t.length?t[0]:function(n){return t.reduce((i,a)=>a(i),n)}}(n)(this)}toPromise(n){return new(n=cc(n))((i,a)=>{let c;this.subscribe(h=>c=h,h=>a(h),()=>i(c))})}}return t.create=e=>new t(e),t})();function cc(t){if(t||(t=kr.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const Tn=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class kt extends nn{constructor(e,n){super(),this.subject=e,this.subscriber=n,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,n=e.observers;if(this.subject=null,!n||0===n.length||e.isStopped||e.closed)return;const i=n.indexOf(this.subscriber);-1!==i&&n.splice(i,1)}}class dc extends hn{constructor(e){super(e),this.destination=e}}let Ws=(()=>{class t extends Je{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Rr](){return new dc(this)}lift(n){const i=new gu(this,this);return i.operator=n,i}next(n){if(this.closed)throw new Tn;if(!this.isStopped){const{observers:i}=this,a=i.length,c=i.slice();for(let h=0;h<a;h++)c[h].next(n)}}error(n){if(this.closed)throw new Tn;this.hasError=!0,this.thrownError=n,this.isStopped=!0;const{observers:i}=this,a=i.length,c=i.slice();for(let h=0;h<a;h++)c[h].error(n);this.observers.length=0}complete(){if(this.closed)throw new Tn;this.isStopped=!0;const{observers:n}=this,i=n.length,a=n.slice();for(let c=0;c<i;c++)a[c].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(n){if(this.closed)throw new Tn;return super._trySubscribe(n)}_subscribe(n){if(this.closed)throw new Tn;return this.hasError?(n.error(this.thrownError),nn.EMPTY):this.isStopped?(n.complete(),nn.EMPTY):(this.observers.push(n),new kt(this,n))}asObservable(){const n=new Je;return n.source=this,n}}return t.create=(e,n)=>new gu(e,n),t})();class gu extends Ws{constructor(e,n){super(),this.destination=e,this.source=n}next(e){const{destination:n}=this;n&&n.next&&n.next(e)}error(e){const{destination:n}=this;n&&n.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:n}=this;return n?this.source.subscribe(e):nn.EMPTY}}class up{constructor(e,n){this.project=e,this.thisArg=n}call(e,n){return n.subscribe(new Lh(e,this.project,this.thisArg))}}class Lh extends hn{constructor(e,n,i){super(e),this.project=n,this.count=0,this.thisArg=i||this}_next(e){let n;try{n=this.project.call(this.thisArg,e,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(n)}}const Ft=t=>e=>{for(let n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.complete()},rt="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",hc=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Vh(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const Ze=t=>{if(t&&"function"==typeof t[Ln])return(t=>e=>{const n=t[Ln]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)})(t);if(hc(t))return Ft(t);if(Vh(t))return(t=>e=>(t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Xe),e))(t);if(t&&"function"==typeof t[rt])return(t=>e=>{const n=t[rt]();for(;;){let i;try{i=n.next()}catch(a){return e.error(a),e}if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e})(t);{const n=`You provided ${dn(t)?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(n)}};function fc(t,e){return new Je(n=>{const i=new nn;let a=0;return i.add(e.schedule(function(){a!==t.length?(n.next(t[a++]),n.closed||i.add(this.schedule())):n.complete()})),i})}function vu(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[Ln]}(t))return function(t,e){return new Je(n=>{const i=new nn;return i.add(e.schedule(()=>{const a=t[Ln]();i.add(a.subscribe({next(c){i.add(e.schedule(()=>n.next(c)))},error(c){i.add(e.schedule(()=>n.error(c)))},complete(){i.add(e.schedule(()=>n.complete()))}}))})),i})}(t,e);if(Vh(t))return function(t,e){return new Je(n=>{const i=new nn;return i.add(e.schedule(()=>t.then(a=>{i.add(e.schedule(()=>{n.next(a),i.add(e.schedule(()=>n.complete()))}))},a=>{i.add(e.schedule(()=>n.error(a)))}))),i})}(t,e);if(hc(t))return fc(t,e);if(function(t){return t&&"function"==typeof t[rt]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new Je(n=>{const i=new nn;let a;return i.add(()=>{a&&"function"==typeof a.return&&a.return()}),i.add(e.schedule(()=>{a=t[rt](),i.add(e.schedule(function(){if(n.closed)return;let c,h;try{const g=a.next();c=g.value,h=g.done}catch(g){return void n.error(g)}h?n.complete():(n.next(c),this.schedule())}))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof Je?t:new Je(Ze(t))}class Ci extends hn{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Fa extends hn{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function lp(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?i=>i.pipe(lp((a,c)=>vu(t(a,c)).pipe(function(t,e){return function(i){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new up(t,e))}}((h,g)=>e(a,h,c,g))),n)):("number"==typeof e&&(n=e),i=>i.lift(new gl(t,n)))}class gl{constructor(e,n=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=n}call(e,n){return n.subscribe(new wo(e,this.project,this.concurrent))}}class wo extends Fa{constructor(e,n,i=Number.POSITIVE_INFINITY){super(e),this.project=n,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let n;const i=this.index++;try{n=this.project(e,i)}catch(a){return void this.destination.error(a)}this.active++,this._innerSub(n)}_innerSub(e){const n=new Ci(this),i=this.destination;i.add(n);const a=function(t,e){if(e.closed)return;if(t instanceof Je)return t.subscribe(e);let n;try{n=Ze(t)(e)}catch(i){e.error(i)}return n}(e,n);a!==n&&i.add(a)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function zg(...t){let e=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return function(t){return t&&"function"==typeof t.schedule}(i)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof i&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof Je?t[0]:function(t=Number.POSITIVE_INFINITY){return lp(ir,t)}(e)(function(t,e){return e?fc(t,e):new Je(Ft(t))}(t,n))}function pn(){return function(e){return e.lift(new qs(e))}}class qs{constructor(e){this.connectable=e}call(e,n){const{connectable:i}=this;i._refCount++;const a=new Ys(e,i),c=n.subscribe(a);return a.closed||(a.connection=i.connect()),c}}class Ys extends hn{constructor(e,n){super(e),this.connectable=n}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const n=e._refCount;if(n<=0)return void(this.connection=null);if(e._refCount=n-1,n>1)return void(this.connection=null);const{connection:i}=this,a=e._connection;this.connection=null,a&&(!i||a===i)&&a.unsubscribe()}}class Ui extends Je{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new nn,e.add(this.source.subscribe(new Mt(this.getSubject(),this))),e.closed&&(this._connection=null,e=nn.EMPTY)),e}refCount(){return pn()(this)}}const Ra=(()=>{const t=Ui.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class Mt extends dc{constructor(e,n){super(e),this.connectable=n}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const n=e._connection;e._refCount=0,e._subject=null,e._connection=null,n&&n.unsubscribe()}}}function yu(){return new Ws}function Lt(t){for(let e in t)if(t[e]===Lt)return e;throw Error("Could not find renamed property on target object.")}function bt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(bt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Td(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const Qs=Lt({__forward_ref__:Lt});function Wt(t){return t.__forward_ref__=Wt,t.toString=function(){return bt(this())},t}function $e(t){return function(t){return"function"==typeof t&&t.hasOwnProperty(Qs)&&t.__forward_ref__===Wt}(t)?t():t}class Va extends Error{constructor(e,n){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(e,n)),this.code=e}}function Sr(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():function(t){return"string"==typeof t?t:null==t?"":String(t)}(t)}function Ks(t,e){const n=e?` in ${e}`:"";throw new Va("201",`No provider for ${Sr(t)} found${n}`)}function Di(t,e){null==t&&function(t,e,n,i){throw new Error(`ASSERTION ERROR: ${t}`+(null==i?"":` [Expected=> ${n} ${i} ${e} <=Actual]`))}(e,t,null,"!=")}function Ye(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Eo(t){return{providers:t.providers||[],imports:t.imports||[]}}function Wi(t){return ja(t,yc)||ja(t,ea)}function ja(t,e){return t.hasOwnProperty(e)?t[e]:null}function Sd(t){return t&&(t.hasOwnProperty(dt)||t.hasOwnProperty(qg))?t[dt]:null}const yc=Lt({\u0275prov:Lt}),dt=Lt({\u0275inj:Lt}),ea=Lt({ngInjectableDef:Lt}),qg=Lt({ngInjectorDef:Lt});var et=(()=>((et=et||{})[et.Default=0]="Default",et[et.Host=1]="Host",et[et.Self=2]="Self",et[et.SkipSelf=4]="SkipSelf",et[et.Optional=8]="Optional",et))();let bc;function br(t){const e=bc;return bc=t,e}function wu(t,e,n){const i=Wi(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&et.Optional?null:void 0!==e?e:void Ks(bt(t),"Injector")}function ds(t){return{toString:t}.toString()}var Qn=(()=>((Qn=Qn||{})[Qn.OnPush=0]="OnPush",Qn[Qn.Default=1]="Default",Qn))(),rn=(()=>((rn=rn||{})[rn.Emulated=0]="Emulated",rn[rn.None=2]="None",rn[rn.ShadowDom=3]="ShadowDom",rn))();const hs="undefined"!=typeof globalThis&&globalThis,fs="undefined"!=typeof window&&window,yl="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,$h="undefined"!=typeof global&&global,$t=hs||$h||fs||yl,_r={},Yt=[],wc=Lt({\u0275cmp:Lt}),Uh=Lt({\u0275dir:Lt}),ta=Lt({\u0275pipe:Lt}),Eu=Lt({\u0275mod:Lt}),hp=Lt({\u0275loc:Lt}),ps=Lt({\u0275fac:Lt}),li=Lt({__NG_ELEMENT_ID__:Lt});let Wh=0;function Cu(t){return ds(()=>{const n={},i={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Qn.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Yt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||rn.Emulated,id:"c",styles:t.styles||Yt,_:null,setInput:null,schemas:t.schemas||null,tView:null},a=t.directives,c=t.features,h=t.pipes;return i.id+=Wh++,i.inputs=Gh(t.inputs,n),i.outputs=Gh(t.outputs),c&&c.forEach(g=>g(i)),i.directiveDefs=a?()=>("function"==typeof a?a():a).map(Ec):null,i.pipeDefs=h?()=>("function"==typeof h?h():h).map(ti):null,i})}function Ec(t){return jr(t)||function(t){return t[Uh]||null}(t)}function ti(t){return function(t){return t[ta]||null}(t)}const xu={};function Or(t){return ds(()=>{const e={type:t.type,bootstrap:t.bootstrap||Yt,declarations:t.declarations||Yt,imports:t.imports||Yt,exports:t.exports||Yt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(xu[t.id]=t.type),e})}function Gh(t,e){if(null==t)return _r;const n={};for(const i in t)if(t.hasOwnProperty(i)){let a=t[i],c=a;Array.isArray(a)&&(c=a[1],a=a[0]),n[a]=i,e&&(e[a]=c)}return n}function jr(t){return t[wc]||null}function xi(t,e){const n=t[Eu]||null;if(!n&&!0===e)throw new Error(`Type ${bt(t)} does not have '\u0275mod' property.`);return n}function Hr(t){return Array.isArray(t)&&"object"==typeof t[1]}function Yi(t){return Array.isArray(t)&&!0===t[1]}function bl(t){return 0!=(8&t.flags)}function Qi(t){return null!==t.template}function Kn(t){return 0!=(512&t[2])}function gs(t,e){return t.hasOwnProperty(ps)?t[ps]:null}class Dc{constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}}function sa(t){return t.type.prototype.ngOnChanges&&(t.setInput=Pd),xo}function xo(){const t=Pu(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===_r)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function Pd(t,e,n,i){const a=Pu(t)||function(t,e){return t[Pr]=e}(t,{previous:_r,current:null}),c=a.current||(a.current={}),h=a.previous,g=this.declaredInputs[n],C=h[g];c[g]=new Dc(C&&C.currentValue,e,h===_r),t[i]=e}const Pr="__ngSimpleChanges__";function Pu(t){return t[Pr]||null}let Fu;function kn(t){return!!t.listen}const vs={createRenderer:(t,e)=>void 0!==Fu?Fu:"undefined"!=typeof document?document:void 0};function Sn(t){for(;Array.isArray(t);)t=t[0];return t}function zr(t,e){return Sn(e[t.index])}function Oi(t,e){const n=e[t];return Hr(n)?n:n[0]}function wp(t){return 4==(4&t[2])}function Nd(t){return 128==(128&t[2])}function ys(t,e){return null==e?null:t[e]}function Tc(t){t[18]=0}function Fd(t,e){t[5]+=e;let n=t,i=t[3];for(;null!==i&&(1===e&&1===n[5]||-1===e&&0===n[5]);)i[5]+=e,n=i,i=i[3]}const st={lFrame:Ip(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Jh(){return st.bindingsEnabled}function ge(){return st.lFrame.lView}function Vt(){return st.lFrame.tView}function $n(){let t=Rd();for(;null!==t&&64===t.type;)t=t.parent;return t}function Rd(){return st.lFrame.currentTNode}function bs(t,e){const n=st.lFrame;n.currentTNode=t,n.isParent=e}function ef(){return st.lFrame.isParent}function _s(){return st.isInCheckNoChangesMode}function ko(t){st.isInCheckNoChangesMode=t}function jd(t,e){const n=st.lFrame;n.bindingIndex=n.bindingRootIndex=t,xp(e)}function xp(t){st.lFrame.currentDirectiveIndex=t}function nf(){return st.lFrame.currentQueryIndex}function la(t){st.lFrame.currentQueryIndex=t}function Tp(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function Mc(t,e,n){if(n&et.SkipSelf){let a=e,c=t;for(;!(a=a.parent,null!==a||n&et.Host||(a=Tp(c),null===a||(c=c[15],10&a.type))););if(null===a)return!1;e=a,t=c}const i=st.lFrame=Hd();return i.currentTNode=e,i.lView=t,!0}function Ac(t){const e=Hd(),n=t[1];st.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Hd(){const t=st.lFrame,e=null===t?null:t.child;return null===e?Ip(t):e}function Ip(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function rf(){const t=st.lFrame;return st.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const kp=rf;function zd(){const t=rf();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function za(t){st.lFrame.selectedIndex=t}function Fc(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){const c=t.data[n].type.prototype,{ngAfterContentInit:h,ngAfterContentChecked:g,ngAfterViewInit:C,ngAfterViewChecked:k,ngOnDestroy:M}=c;h&&(t.contentHooks||(t.contentHooks=[])).push(-n,h),g&&((t.contentHooks||(t.contentHooks=[])).push(n,g),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,g)),C&&(t.viewHooks||(t.viewHooks=[])).push(-n,C),k&&((t.viewHooks||(t.viewHooks=[])).push(n,k),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,k)),null!=M&&(t.destroyHooks||(t.destroyHooks=[])).push(n,M)}}function Ud(t,e,n){Gd(t,e,3,n)}function Rc(t,e,n,i){(3&t[2])===n&&Gd(t,e,n,i)}function Wd(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Gd(t,e,n,i){const c=null!=i?i:-1,h=e.length-1;let g=0;for(let C=void 0!==i?65535&t[18]:0;C<h;C++)if("number"==typeof e[C+1]){if(g=e[C],null!=i&&g>=i)break}else e[C]<0&&(t[18]+=65536),(g<c||-1==c)&&(sf(t,n,e,C),t[18]=(4294901760&t[18])+C+2),C++}function sf(t,e,n,i){const a=n[i]<0,c=n[i+1],g=t[a?-n[i]:n[i]];if(a){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{c.call(g)}finally{}}}else try{c.call(g)}finally{}}class Vu{constructor(e,n,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}}function Lc(t,e,n){const i=kn(t);let a=0;for(;a<n.length;){const c=n[a];if("number"==typeof c){if(0!==c)break;a++;const h=n[a++],g=n[a++],C=n[a++];i?t.setAttribute(e,g,C,h):e.setAttributeNS(h,g,C)}else{const h=c,g=n[++a];Ji(h)?i&&t.setProperty(e,h,g):i?t.setAttribute(e,h,g):e.setAttribute(h,g),a++}}return a}function uf(t){return 3===t||4===t||6===t}function Ji(t){return 64===t.charCodeAt(0)}function Vc(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){const a=e[i];"number"==typeof a?n=a:0===n||Yd(t,n,a,null,-1===n||2===n?e[++i]:null)}}return t}function Yd(t,e,n,i,a){let c=0,h=t.length;if(-1===e)h=-1;else for(;c<t.length;){const g=t[c++];if("number"==typeof g){if(g===e){h=-1;break}if(g>e){h=c-1;break}}}for(;c<t.length;){const g=t[c];if("number"==typeof g)break;if(g===n){if(null===i)return void(null!==a&&(t[c+1]=a));if(i===t[c+1])return void(t[c+2]=a)}c++,null!==i&&c++,null!==a&&c++}-1!==h&&(t.splice(h,0,e),c=h+1),t.splice(c++,0,n),null!==i&&t.splice(c++,0,i),null!==a&&t.splice(c++,0,a)}function lf(t){return-1!==t}function wl(t){return 32767&t}function Bu(t,e){let n=function(t){return t>>16}(t),i=e;for(;n>0;)i=i[15],n--;return i}let jc=!0;function El(t){const e=jc;return jc=t,e}let Zo=0;function ii(t,e){const n=Dl(t,e);if(-1!==n)return n;const i=e[1];i.firstCreatePass&&(t.injectorIndex=e.length,So(i.data,t),So(e,null),So(i.blueprint,null));const a=Xd(t,e),c=t.injectorIndex;if(lf(a)){const h=wl(a),g=Bu(a,e),C=g[1].data;for(let k=0;k<8;k++)e[c+k]=g[h+k]|C[h+k]}return e[c+8]=a,c}function So(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Dl(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Xd(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,i=null,a=e;for(;null!==a;){const c=a[1],h=c.type;if(i=2===h?c.declTNode:1===h?a[6]:null,null===i)return-1;if(n++,a=a[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return-1}function Hu(t,e,n){!function(t,e,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(li)&&(i=n[li]),null==i&&(i=n[li]=Zo++);const a=255&i;e.data[t+(a>>5)]|=1<<a}(t,e,n)}function Zd(t,e,n){if(n&et.Optional)return t;Ks(e,"NodeInjector")}function df(t,e,n,i){if(n&et.Optional&&void 0===i&&(i=null),0==(n&(et.Self|et.Host))){const a=t[9],c=br(void 0);try{return a?a.get(e,i,n&et.Optional):wu(e,i,n&et.Optional)}finally{br(c)}}return Zd(i,e,n)}const xl={};function cm(){return new Xn($n(),ge())}function eh(t,e,n,i,a,c){const h=e[1],g=h.data[t+8],M=Tl(g,h,n,null==i?function(t){return 2==(2&t.flags)}(g)&&jc:i!=h&&0!=(3&g.type),a&et.Host&&c===g);return null!==M?Il(e,h,M,g):xl}function Tl(t,e,n,i,a){const c=t.providerIndexes,h=e.data,g=1048575&c,C=t.directiveStart,M=c>>20,z=a?g+M:t.directiveEnd;for(let G=i?g:g+M;G<z;G++){const X=h[G];if(G<C&&n===X||G>=C&&X.type===n)return G}if(a){const G=h[C];if(G&&Qi(G)&&G.type===n)return C}return null}function Il(t,e,n,i){let a=t[n];const c=e.data;if(function(t){return t instanceof Vu}(a)){const h=a;h.resolving&&function(t,e){throw new Va("200",`Circular dependency in DI detected for ${t}`)}(Sr(c[n]));const g=El(h.canSeeViewProviders);h.resolving=!0;const C=h.injectImpl?br(h.injectImpl):null;Mc(t,i,et.Default);try{a=t[n]=h.factory(void 0,c,t,i),e.firstCreatePass&&n>=i.directiveStart&&function(t,e,n){const{ngOnChanges:i,ngOnInit:a,ngDoCheck:c}=e.type.prototype;if(i){const h=sa(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,h),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,h)}a&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,a),c&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,c),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,c))}(n,c[n],e)}finally{null!==C&&br(C),El(g),h.resolving=!1,kp()}}return a}function Un(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function hf(t,e){return!(t&et.Self||t&et.Host&&e)}class Xn{constructor(e,n){this._tNode=e,this._lView=n}get(e,n){return function(t,e,n,i=et.Default,a){if(null!==t){const c=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(li)?t[li]:void 0;return"number"==typeof e?e>=0?255&e:cm:e}(n);if("function"==typeof c){if(!Mc(e,t,i))return i&et.Host?Zd(a,n,i):df(e,n,i,a);try{const h=c(i);if(null!=h||i&et.Optional)return h;Ks(n)}finally{kp()}}else if("number"==typeof c){let h=null,g=Dl(t,e),C=-1,k=i&et.Host?e[16][6]:null;for((-1===g||i&et.SkipSelf)&&(C=-1===g?Xd(t,e):e[g+8],-1!==C&&hf(i,!1)?(h=e[1],g=wl(C),e=Bu(C,e)):g=-1);-1!==g;){const M=e[1];if(Un(c,g,M.data)){const V=eh(g,e,n,h,i,k);if(V!==xl)return V}C=e[g+8],-1!==C&&hf(i,e[1].data[g+8]===k)&&Un(c,g,e)?(h=M,g=wl(C),e=Bu(C,e)):g=-1}}}return df(e,n,i,a)}(this._tNode,this._lView,e,void 0,n)}}const Es="__parameters__";function Zn(t,e,n){return ds(()=>{const i=function(t){return function(...n){if(t){const i=t(...n);for(const a in i)this[a]=i[a]}}}(e);function a(...c){if(this instanceof a)return i.apply(this,c),this;const h=new a(...c);return g.annotation=h,g;function g(C,k,M){const V=C.hasOwnProperty(Es)?C[Es]:Object.defineProperty(C,Es,{value:[]})[Es];for(;V.length<=M;)V.push(null);return(V[M]=V[M]||[]).push(h),C}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=t,a.annotationCls=a,a})}class gt{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Ye({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}function Ur(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let i=t[n];Array.isArray(i)?(e===t&&(e=t.slice(0,n)),Ur(i,e)):e!==t&&e.push(i)}return e}function Oo(t,e){t.forEach(n=>Array.isArray(n)?Oo(n,e):e(n))}function th(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function fa(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const Gr={},qa="__NG_DI_FLAG__",ro="ngTempTokenPath",Fp=/\n/gm,Yu="__source",Nl=Lt({provide:String,useValue:Lt});let Ao;function ga(t){const e=Ao;return Ao=t,e}function Rp(t,e=et.Default){if(void 0===Ao)throw new Error("inject() must be called from an injection context");return null===Ao?wu(t,void 0,e):Ao.get(t,e&et.Optional?null:void 0,e)}function At(t,e=et.Default){return(bc||Rp)($e(t),e)}function Pi(t){const e=[];for(let n=0;n<t.length;n++){const i=$e(t[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let a,c=et.Default;for(let h=0;h<i.length;h++){const g=i[h],C=rv(g);"number"==typeof C?-1===C?a=g.token:c|=C:a=g}e.push(At(a,c))}else e.push(At(i))}return e}function Fl(t,e){return t[qa]=e,t.prototype[qa]=e,t}function rv(t){return t[qa]}function Qc(t,e,n,i){const a=t[ro];throw e[Yu]&&a.unshift(e[Yu]),t.message=function(t,e,n,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let a=bt(e);if(Array.isArray(e))a=e.map(bt).join(" -> ");else if("object"==typeof e){let c=[];for(let h in e)if(e.hasOwnProperty(h)){let g=e[h];c.push(h+":"+("string"==typeof g?JSON.stringify(g):bt(g)))}a=`{${c.join(", ")}}`}return`${n}${i?"("+i+")":""}[${a}]: ${t.replace(Fp,"\n  ")}`}("\n"+t.message,a,n,i),t.ngTokenPath=a,t[ro]=null,t}const Rl=Fl(Zn("Inject",t=>({token:t})),-1),Jo=Fl(Zn("Optional"),8),Ni=Fl(Zn("SkipSelf"),4),ns="__ngContext__";function lr(t,e){t[ns]=e}function vh(t){const e=function(t){return t[ns]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function ba(t){return t.ngOriginalError}function tu(t,...e){t.error(...e)}class Ri{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),i=this._findContext(e),a=function(t){return t&&t.ngErrorLogger||tu}(e);a(this._console,"ERROR",e),n&&a(this._console,"ORIGINAL ERROR",n),i&&a(this._console,"ERROR CONTEXT",i)}_findContext(e){return e?function(t){return t.ngDebugContext}(e)||this._findContext(ba(e)):null}_findOriginalError(e){let n=e&&ba(e);for(;n&&ba(n);)n=ba(n);return n||null}}const N=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind($t))();function re(t){return t instanceof Function?t():t}var Ae=(()=>((Ae=Ae||{})[Ae.Important=1]="Important",Ae[Ae.DashCase=2]="DashCase",Ae))();function Pe(t,e){return undefined(t,e)}function Tt(t){const e=t[3];return Yi(e)?e[3]:e}function Li(t){return Yr(t[13])}function dr(t){return Yr(t[4])}function Yr(t){for(;null!==t&&!Yi(t);)t=t[4];return t}function co(t,e,n,i,a){if(null!=i){let c,h=!1;Yi(i)?c=i:Hr(i)&&(h=!0,i=i[0]);const g=Sn(i);0===t&&null!==n?null==a?wh(e,n,g):ru(e,n,g,a||null,!0):1===t&&null!==n?ru(e,n,g,a||null,!0):2===t?function(t,e,n){const i=Zp(t,e);i&&function(t,e,n,i){kn(t)?t.removeChild(e,n,i):e.removeChild(n)}(t,i,e,n)}(e,g,h):3===t&&e.destroyNode(g),null!=c&&function(t,e,n,i,a){const c=n[7];c!==Sn(n)&&co(e,t,i,c,a);for(let g=10;g<n.length;g++){const C=n[g];Rf(C[1],C,t,e,i,c)}}(e,t,c,n,a)}}function el(t,e,n){return kn(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Fr(t,e){const n=t[9],i=n.indexOf(e),a=e[3];1024&e[2]&&(e[2]&=-1025,Fd(a,-1)),n.splice(i,1)}function hr(t,e){if(t.length<=10)return;const n=10+e,i=t[n];if(i){const a=i[17];null!==a&&a!==t&&Fr(a,i),e>0&&(t[n-1][4]=i[4]);const c=fa(t,10+e);!function(t,e){Rf(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(i[1],i);const h=c[19];null!==h&&h.detachView(c[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function Fn(t,e){if(!(256&e[2])){const n=e[11];kn(n)&&n.destroyNode&&Rf(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return rs(t[1],t);for(;e;){let n=null;if(Hr(e))n=e[13];else{const i=e[10];i&&(n=i)}if(!n){for(;e&&!e[4]&&e!==t;)Hr(e)&&rs(e[1],e),e=e[3];null===e&&(e=t),Hr(e)&&rs(e[1],e),n=e&&e[4]}e=n}}(e)}}function rs(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let i=0;i<n.length;i+=2){const a=e[n[i]];if(!(a instanceof Vu)){const c=n[i+1];if(Array.isArray(c))for(let h=0;h<c.length;h+=2){const g=a[c[h]],C=c[h+1];try{C.call(g)}finally{}}else try{c.call(a)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,i=e[7];let a=-1;if(null!==n)for(let c=0;c<n.length-1;c+=2)if("string"==typeof n[c]){const h=n[c+1],g="function"==typeof h?h(e):Sn(e[h]),C=i[a=n[c+2]],k=n[c+3];"boolean"==typeof k?g.removeEventListener(n[c],C,k):k>=0?i[a=k]():i[a=-k].unsubscribe(),c+=2}else{const h=i[a=n[c+1]];n[c].call(h)}if(null!==i){for(let c=a+1;c<i.length;c++)i[c]();e[7]=null}}(t,e),1===e[1].type&&kn(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&Yi(e[3])){n!==e[3]&&Fr(n,e);const i=e[19];null!==i&&i.detachView(t)}}}function Lo(t,e,n){return function(t,e,n){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return n[0];if(2&i.flags){const a=t.data[i.directiveStart].encapsulation;if(a===rn.None||a===rn.Emulated)return null}return zr(i,n)}(t,e.parent,n)}function ru(t,e,n,i,a){kn(t)?t.insertBefore(e,n,i,a):e.insertBefore(n,i,a)}function wh(t,e,n){kn(t)?t.appendChild(e,n):e.appendChild(n)}function iu(t,e,n,i,a){null!==i?ru(t,e,n,i,a):wh(t,e,n)}function Zp(t,e){return kn(t)?t.parentNode(e):e.parentNode}let Jp=function(t,e,n){return 40&t.type?zr(t,n):null};function Eh(t,e,n,i){const a=Lo(t,i,e),c=e[11],g=function(t,e,n){return Jp(t,e,n)}(i.parent||e[6],i,e);if(null!=a)if(Array.isArray(n))for(let C=0;C<n.length;C++)iu(c,a,n[C],g,!1);else iu(c,a,n,g,!1)}function od(t,e){if(null!==e){const n=e.type;if(3&n)return zr(e,t);if(4&n)return sd(-1,t[e.index]);if(8&n){const i=e.child;if(null!==i)return od(t,i);{const a=t[e.index];return Yi(a)?sd(-1,a):Sn(a)}}if(32&n)return Pe(e,t)()||Sn(t[e.index]);{const i=uv(t,e);return null!==i?Array.isArray(i)?i[0]:od(Tt(t[16]),i):od(t,e.next)}}return null}function uv(t,e){return null!==e?t[16][6].projection[e.projection]:null}function sd(t,e){const n=10+t+1;if(n<e.length){const i=e[n],a=i[1].firstChild;if(null!==a)return od(i,a)}return e[7]}function tg(t,e,n,i,a,c,h){for(;null!=n;){const g=i[n.index],C=n.type;if(h&&0===e&&(g&&lr(Sn(g),i),n.flags|=4),64!=(64&n.flags))if(8&C)tg(t,e,n.child,i,a,c,!1),co(e,t,a,g,c);else if(32&C){const k=Pe(n,i);let M;for(;M=k();)co(e,t,a,M,c);co(e,t,a,g,c)}else 16&C?Vo(t,e,i,n,a,c):co(e,t,a,g,c);n=h?n.projectionNext:n.next}}function Rf(t,e,n,i,a,c){tg(n,i,t.firstChild,e,a,c,!1)}function Vo(t,e,n,i,a,c){const h=n[16],C=h[6].projection[i.projection];if(Array.isArray(C))for(let k=0;k<C.length;k++)co(e,t,a,C[k],c);else tg(t,e,C,h[3],a,c,!0)}function ng(t,e,n){kn(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function is(t,e,n){kn(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function dv(t,e,n){let i=t.length;for(;;){const a=t.indexOf(e,n);if(-1===a)return a;if(0===a||t.charCodeAt(a-1)<=32){const c=e.length;if(a+c===i||t.charCodeAt(a+c)<=32)return a}n=a+1}}const vm="ng-template";function Yl(t,e,n){let i=0;for(;i<t.length;){let a=t[i++];if(n&&"class"===a){if(a=t[i],-1!==dv(a.toLowerCase(),e,0))return!0}else if(1===a){for(;i<t.length&&"string"==typeof(a=t[i++]);)if(a.toLowerCase()===e)return!0;return!1}}return!1}function hv(t){return 4===t.type&&t.value!==vm}function Lf(t,e,n){return e===(4!==t.type||n?t.value:vm)}function _a(t,e,n){let i=4;const a=t.attrs||[],c=function(t){for(let e=0;e<t.length;e++)if(uf(t[e]))return e;return t.length}(a);let h=!1;for(let g=0;g<e.length;g++){const C=e[g];if("number"!=typeof C){if(!h)if(4&i){if(i=2|1&i,""!==C&&!Lf(t,C,n)||""===C&&1===e.length){if(fr(i))return!1;h=!0}}else{const k=8&i?C:e[++g];if(8&i&&null!==t.attrs){if(!Yl(t.attrs,k,n)){if(fr(i))return!1;h=!0}continue}const V=rg(8&i?"class":C,a,hv(t),n);if(-1===V){if(fr(i))return!1;h=!0;continue}if(""!==k){let z;z=V>c?"":a[V+1].toLowerCase();const G=8&i?z:null;if(G&&-1!==dv(G,k,0)||2&i&&k!==z){if(fr(i))return!1;h=!0}}}}else{if(!h&&!fr(i)&&!fr(C))return!1;if(h&&fr(C))continue;h=!1,i=C|1&i}}return fr(i)||h}function fr(t){return 0==(1&t)}function rg(t,e,n,i){if(null===e)return-1;let a=0;if(i||!n){let c=!1;for(;a<e.length;){const h=e[a];if(h===t)return a;if(3===h||6===h)c=!0;else{if(1===h||2===h){let g=e[++a];for(;"string"==typeof g;)g=e[++a];continue}if(4===h)break;if(0===h){a+=4;continue}}a+=c?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const i=t[n];if("number"==typeof i)return-1;if(i===e)return n;n++}return-1}(e,t)}function nl(t,e,n=!1){for(let i=0;i<e.length;i++)if(_a(t,e[i],n))return!0;return!1}function Ql(t,e){return t?":not("+e.trim()+")":e}function fv(t){let e=t[0],n=1,i=2,a="",c=!1;for(;n<t.length;){let h=t[n];if("string"==typeof h)if(2&i){const g=t[++n];a+="["+h+(g.length>0?'="'+g+'"':"")+"]"}else 8&i?a+="."+h:4&i&&(a+=" "+h);else""!==a&&!fr(h)&&(e+=Ql(c,a),a=""),i=h,c=c||!fr(i);n++}return""!==a&&(e+=Ql(c,a)),e}const Ct={};function Cv(t,e){const n=t.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const a=n[i],c=n[i+1];if(-1!==c){const h=t.data[c];la(a),h.contentQueries(2,e[c],c)}}}function Uf(t,e,n,i,a,c,h,g,C,k){const M=e.blueprint.slice();return M[0]=a,M[2]=140|i,Tc(M),M[3]=M[15]=t,M[8]=n,M[10]=h||t&&t[10],M[11]=g||t&&t[11],M[12]=C||t&&t[12]||null,M[9]=k||t&&t[9]||null,M[6]=c,M[16]=2==e.type?t[16]:M,M}function su(t,e,n,i,a){let c=t.data[e];if(null===c)c=function(t,e,n,i,a){const c=Rd(),h=ef(),C=t.data[e]=function(t,e,n,i,a,c){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:a,attrs:c,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,h?c:c&&c.parent,n,e,i,a);return null===t.firstChild&&(t.firstChild=C),null!==c&&(h?null==c.child&&null!==C.parent&&(c.child=C):null===c.next&&(c.next=C)),C}(t,e,n,i,a),st.lFrame.inI18n&&(c.flags|=64);else if(64&c.type){c.type=n,c.value=i,c.attrs=a;const h=function(){const t=st.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();c.injectorIndex=null===h?-1:h.injectorIndex}return bs(c,!0),c}function Ea(t,e,n,i){if(0===n)return-1;const a=e.length;for(let c=0;c<n;c++)e.push(i),t.blueprint.push(i),t.data.push(null);return a}function dd(t,e,n){Ac(e);try{const i=t.viewQuery;null!==i&&On(1,i,n);const a=t.template;null!==a&&hd(t,e,a,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Cv(t,e),t.staticViewQueries&&On(2,t.viewQuery,n);const c=t.components;null!==c&&function(t,e){for(let n=0;n<e.length;n++)q(t,e[n])}(e,c)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[2]&=-5,zd()}}function Rs(t,e,n,i){const a=e[2];if(256==(256&a))return;Ac(e);const c=_s();try{Tc(e),function(t){st.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&hd(t,e,n,2,i);const h=3==(3&a);if(!c)if(h){const k=t.preOrderCheckHooks;null!==k&&Ud(e,k,null)}else{const k=t.preOrderHooks;null!==k&&Rc(e,k,0,null),Wd(e,0)}if(function(t){for(let e=Li(t);null!==e;e=dr(e)){if(!e[2])continue;const n=e[9];for(let i=0;i<n.length;i++){const a=n[i],c=a[3];0==(1024&a[2])&&Fd(c,1),a[2]|=1024}}}(e),function(t){for(let e=Li(t);null!==e;e=dr(e))for(let n=10;n<e.length;n++){const i=e[n],a=i[1];Nd(i)&&Rs(a,i,a.template,i[8])}}(e),null!==t.contentQueries&&Cv(t,e),!c)if(h){const k=t.contentCheckHooks;null!==k&&Ud(e,k)}else{const k=t.contentHooks;null!==k&&Rc(e,k,1),Wd(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let i=0;i<n.length;i++){const a=n[i];if(a<0)za(~a);else{const c=a,h=n[++i],g=n[++i];jd(h,c),g(2,e[c])}}}finally{za(-1)}}(t,e);const g=t.components;null!==g&&function(t,e){for(let n=0;n<e.length;n++)B(t,e[n])}(e,g);const C=t.viewQuery;if(null!==C&&On(2,C,i),!c)if(h){const k=t.viewCheckHooks;null!==k&&Ud(e,k)}else{const k=t.viewHooks;null!==k&&Rc(e,k,2),Wd(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),c||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Fd(e[3],-1))}finally{zd()}}function Wf(t,e,n,i){const a=e[10],c=!_s(),h=wp(e);try{c&&!h&&a.begin&&a.begin(),h&&dd(t,e,i),Rs(t,e,n,i)}finally{c&&!h&&a.end&&a.end()}}function hd(t,e,n,i,a){const c=st.lFrame.selectedIndex,h=2&i;try{za(-1),h&&e.length>20&&function(t,e,n,i){if(!i)if(3==(3&e[2])){const c=t.preOrderCheckHooks;null!==c&&Ud(e,c,n)}else{const c=t.preOrderHooks;null!==c&&Rc(e,c,0,n)}za(n)}(t,e,20,_s()),n(i,a)}finally{za(c)}}function xv(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Dr(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Dr(t,e,n,i,a,c,h,g,C,k){const M=20+i,V=M+a,z=function(t,e){const n=[];for(let i=0;i<e;i++)n.push(i<t?null:Ct);return n}(M,V),G="function"==typeof k?k():k;return z[1]={type:t,blueprint:z,template:n,queries:null,viewQuery:g,declTNode:e,data:z.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:V,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof c?c():c,pipeRegistry:"function"==typeof h?h():h,firstChild:null,schemas:C,consts:G,incompleteFirstPass:!1}}function Iv(t,e,n,i){const a=function(t){return t[7]||(t[7]=[])}(e);null===n?a.push(i):(a.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(i,a.length-1))}function Ty(t,e,n){for(let i in t)if(t.hasOwnProperty(i)){const a=t[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(e,a):n[i]=[e,a]}return n}function Sv(t,e,n,i,a,c){const h=c.hostBindings;if(h){let g=t.hostBindingOpCodes;null===g&&(g=t.hostBindingOpCodes=[]);const C=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(g)!=C&&g.push(C),g.push(i,a,h)}}function Mv(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Sm(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Xl(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;Qi(e)&&(n[""]=t)}}function Av(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Zl(t,e,n,i,a){t.data[i]=a;const c=a.factory||(a.factory=gs(a.type)),h=new Vu(c,Qi(a),null);t.blueprint[i]=h,n[i]=h,Sv(t,e,0,i,Ea(t,n,a.hostVars,Ct),a)}function Pv(t,e,n){const i=zr(e,t),a=xv(n),c=t[10],h=J(t,Uf(t,a,null,n.onPush?64:16,i,e,c,c.createRenderer(i,n),null,null));t[e.index]=h}function y(t,e,n,i,a,c){const h=c[e];if(null!==h){const g=i.setInput;for(let C=0;C<h.length;){const k=h[C++],M=h[C++],V=h[C++];null!==g?i.setInput(n,V,k,M):n[M]=V}}}function D(t,e){let n=null,i=0;for(;i<e.length;){const a=e[i];if(0!==a)if(5!==a){if("number"==typeof a)break;t.hasOwnProperty(a)&&(null===n&&(n=[]),n.push(a,t[a],e[i+1])),i+=2}else i+=2;else i+=4}return n}function B(t,e){const n=Oi(e,t);if(Nd(n)){const i=n[1];80&n[2]?Rs(i,n,i.template,n[8]):n[5]>0&&L(n)}}function L(t){for(let i=Li(t);null!==i;i=dr(i))for(let a=10;a<i.length;a++){const c=i[a];if(1024&c[2]){const h=c[1];Rs(h,c,h.template,c[8])}else c[5]>0&&L(c)}const n=t[1].components;if(null!==n)for(let i=0;i<n.length;i++){const a=Oi(n[i],t);Nd(a)&&a[5]>0&&L(a)}}function q(t,e){const n=Oi(e,t),i=n[1];(function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(i,n),dd(i,n,n[8])}function J(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function lt(t,e,n){const i=e[10];i.begin&&i.begin();try{Rs(t,e,t.template,n)}catch(a){throw function(t,e){const n=t[9],i=n?n.get(Ri,null):null;i&&i.handleError(e)}(e,a),a}finally{i.end&&i.end()}}function _t(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],i=vh(n),a=i[1];Wf(a,i,a.template,n)}}(t[8])}function On(t,e,n){la(0),e(t,n)}const bi=(()=>Promise.resolve(null))();function ji(t,e,n){let i=n?t.styles:null,a=n?t.classes:null,c=0;if(null!==e)for(let h=0;h<e.length;h++){const g=e[h];"number"==typeof g?c=g:1==c?a=Td(a,g):2==c&&(i=Td(i,g+": "+e[++h]+";"))}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=a:t.classesWithoutHost=a}const al=new gt("INJECTOR",-1);class wg{get(e,n=Gr){if(n===Gr){const i=new Error(`NullInjectorError: No provider for ${bt(e)}!`);throw i.name="NullInjectorError",i}return n}}const we=new gt("Set Injector scope."),ye={},Le={};let ot;function mt(){return void 0===ot&&(ot=new wg),ot}function pr(t,e=null,n=null,i){return new Kr(t,n,e||mt(),i)}class Kr{constructor(e,n,i,a=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const c=[];n&&Oo(n,g=>this.processProvider(g,e,n)),Oo([e],g=>this.processInjectorType(g,[],c)),this.records.set(al,_i(void 0,this));const h=this.records.get(we);this.scope=null!=h?h.value:null,this.source=a||("object"==typeof e?null:bt(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,n=Gr,i=et.Default){this.assertNotDestroyed();const a=ga(this),c=br(void 0);try{if(!(i&et.SkipSelf)){let g=this.records.get(e);if(void 0===g){const C=function(t){return"function"==typeof t||"object"==typeof t&&t instanceof gt}(e)&&Wi(e);g=C&&this.injectableDefInScope(C)?_i(at(e),ye):null,this.records.set(e,g)}if(null!=g)return this.hydrate(e,g)}return(i&et.Self?mt():this.parent).get(e,n=i&et.Optional&&n===Gr?null:n)}catch(h){if("NullInjectorError"===h.name){if((h[ro]=h[ro]||[]).unshift(bt(e)),a)throw h;return Qc(h,e,"R3InjectorError",this.source)}throw h}finally{br(c),ga(a)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((i,a)=>e.push(bt(a))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,n,i){if(!(e=$e(e)))return!1;let a=Sd(e);const c=null==a&&e.ngModule||void 0,h=void 0===c?e:c,g=-1!==i.indexOf(h);if(void 0!==c&&(a=Sd(c)),null==a)return!1;if(null!=a.imports&&!g){let M;i.push(h);try{Oo(a.imports,V=>{this.processInjectorType(V,n,i)&&(void 0===M&&(M=[]),M.push(V))})}finally{}if(void 0!==M)for(let V=0;V<M.length;V++){const{ngModule:z,providers:G}=M[V];Oo(G,X=>this.processProvider(X,z,G||Yt))}}this.injectorDefTypes.add(h);const C=gs(h)||(()=>new h);this.records.set(h,_i(C,ye));const k=a.providers;if(null!=k&&!g){const M=e;Oo(k,V=>this.processProvider(V,M,k))}return void 0!==c&&void 0!==e.providers}processProvider(e,n,i){let a=Gf(e=$e(e))?e:$e(e&&e.provide);const c=function(t,e,n){return My(t)?_i(void 0,t.useValue):_i(function(t,e,n){let i;if(Gf(t)){const a=$e(t);return gs(a)||at(a)}if(My(t))i=()=>$e(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))i=()=>t.useFactory(...Pi(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))i=()=>At($e(t.useExisting));else{const a=$e(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return gs(a)||at(a);i=()=>new a(...Pi(t.deps))}return i}(t),ye)}(e);if(Gf(e)||!0!==e.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=_i(void 0,ye,!0),h.factory=()=>Pi(h.multi),this.records.set(a,h)),a=e,h.multi.push(e)}this.records.set(a,c)}hydrate(e,n){return n.value===ye&&(n.value=Le,n.value=n.factory()),"object"==typeof n.value&&n.value&&function(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=$e(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function at(t){const e=Wi(t),n=null!==e?e.factory:gs(t);if(null!==n)return n;if(t instanceof gt)throw new Error(`Token ${bt(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const i=function(t,e){const n=[];for(let i=0;i<t;i++)n.push(e);return n}(e,"?");throw new Error(`Can't resolve all parameters for ${bt(t)}: (${i.join(", ")}).`)}const n=function(t){const e=t&&(t[yc]||t[ea]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function _i(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function My(t){return null!==t&&"object"==typeof t&&Nl in t}function Gf(t){return"function"==typeof t}const Ay=function(t,e,n){return function(t,e=null,n=null,i){const a=pr(t,e,n,i);return a._resolveInjectorDefTypes(),a}({name:n},e,t,n)};class Jt{static create(e,n){return Array.isArray(e)?Ay(e,n,""):Ay(e.providers,e.parent,e.name||"")}}function cE(t,e){Fc(vh(t)[1],$n())}Jt.THROW_IF_NOT_FOUND=Gr,Jt.NULL=new wg,Jt.\u0275prov=Ye({token:Jt,providedIn:"any",factory:()=>At(al)}),Jt.__NG_ELEMENT_ID__=-1;let Fm=null;function qf(){if(!Fm){const t=$t.Symbol;if(t&&t.iterator)Fm=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const i=e[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Fm=i)}}}return Fm}function Dg(t){return!!Hy(t)&&(Array.isArray(t)||!(t instanceof Map)&&qf()in t)}function Hy(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function eb(t,e,n,i,a){const h=a?"class":"style";!function(t,e,n,i,a){for(let c=0;c<n.length;){const h=n[c++],g=n[c++],C=e[h],k=t.data[h];null!==k.setInput?k.setInput(C,a,i,g):C[g]=a}}(t,n,e.inputs[h],h,i)}function Vs(t,e,n,i){const a=ge(),c=Vt(),h=20+t,g=a[11],C=a[h]=el(g,e,st.lFrame.currentNamespace),k=c.firstCreatePass?function(t,e,n,i,a,c,h){const g=e.consts,k=su(e,t,2,a,ys(g,c));return function(t,e,n,i){let a=!1;if(Jh()){const c=function(t,e,n){const i=t.directiveRegistry;let a=null;if(i)for(let c=0;c<i.length;c++){const h=i[c];nl(n,h.selectors,!1)&&(a||(a=[]),Hu(ii(n,e),t,h.type),Qi(h)?(Sm(t,n),a.unshift(h)):a.push(h))}return a}(t,e,n),h=null===i?null:{"":-1};if(null!==c){a=!0,Av(n,t.data.length,c.length);for(let M=0;M<c.length;M++){const V=c[M];V.providersResolver&&V.providersResolver(V)}let g=!1,C=!1,k=Ea(t,e,c.length,null);for(let M=0;M<c.length;M++){const V=c[M];n.mergedAttrs=Vc(n.mergedAttrs,V.hostAttrs),Zl(t,n,e,k,V),Xl(k,V,h),null!==V.contentQueries&&(n.flags|=8),(null!==V.hostBindings||null!==V.hostAttrs||0!==V.hostVars)&&(n.flags|=128);const z=V.type.prototype;!g&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),g=!0),!C&&(z.ngOnChanges||z.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),C=!0),k++}!function(t,e){const i=e.directiveEnd,a=t.data,c=e.attrs,h=[];let g=null,C=null;for(let k=e.directiveStart;k<i;k++){const M=a[k],V=M.inputs,z=null===c||hv(e)?null:D(V,c);h.push(z),g=Ty(V,k,g),C=Ty(M.outputs,k,C)}null!==g&&(g.hasOwnProperty("class")&&(e.flags|=16),g.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=h,e.inputs=g,e.outputs=C}(t,n)}h&&function(t,e,n){if(e){const i=t.localNames=[];for(let a=0;a<e.length;a+=2){const c=n[e[a+1]];if(null==c)throw new Va("301",`Export of name '${e[a+1]}' not found!`);i.push(e[a],c)}}}(n,i,h)}n.mergedAttrs=Vc(n.mergedAttrs,n.attrs)}(e,n,k,ys(g,h)),null!==k.attrs&&ji(k,k.attrs,!1),null!==k.mergedAttrs&&ji(k,k.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,k),k}(h,c,a,0,e,n,i):c.data[h];bs(k,!0);const M=k.mergedAttrs;null!==M&&Lc(g,C,M);const V=k.classes;null!==V&&is(g,C,V);const z=k.styles;null!==z&&ng(g,C,z),64!=(64&k.flags)&&Eh(c,a,C,k),0===st.lFrame.elementDepthCount&&lr(C,a),st.lFrame.elementDepthCount++,function(t){return 1==(1&t.flags)}(k)&&(function(t,e,n){!Jh()||(function(t,e,n,i){const a=n.directiveStart,c=n.directiveEnd;t.firstCreatePass||ii(n,e),lr(i,e);const h=n.initialInputs;for(let g=a;g<c;g++){const C=t.data[g],k=Qi(C);k&&Pv(e,n,C);const M=Il(e,t,g,n);lr(M,e),null!==h&&y(0,g-a,M,C,0,h),k&&(Oi(n.index,e)[8]=M)}}(t,e,n,zr(n,e)),128==(128&n.flags)&&function(t,e,n){const i=n.directiveStart,a=n.directiveEnd,h=n.index,g=st.lFrame.currentDirectiveIndex;try{za(h);for(let C=i;C<a;C++){const k=t.data[C],M=e[C];xp(C),(null!==k.hostBindings||0!==k.hostVars||null!==k.hostAttrs)&&Mv(k,M)}}finally{za(-1),xp(g)}}(t,e,n))}(c,a,k),function(t,e,n){if(bl(e)){const a=e.directiveEnd;for(let c=e.directiveStart;c<a;c++){const h=t.data[c];h.contentQueries&&h.contentQueries(1,n[c],c)}}}(c,k,a)),null!==i&&function(t,e,n=zr){const i=e.localNames;if(null!==i){let a=e.index+1;for(let c=0;c<i.length;c+=2){const h=i[c+1],g=-1===h?n(e,t):t[h];t[a++]=g}}}(a,k)}function js(){let t=$n();ef()?st.lFrame.isParent=!1:(t=t.parent,bs(t,!1));const e=t;st.lFrame.elementDepthCount--;const n=Vt();n.firstCreatePass&&(Fc(n,t),bl(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&eb(n,e,ge(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&eb(n,e,ge(),e.stylesWithoutHost,!1)}function Bm(t){return!!t&&"function"==typeof t.then}const tb=function(t){return!!t&&"function"==typeof t.subscribe};function Xf(t,e=""){const n=ge(),i=Vt(),a=t+20,c=i.firstCreatePass?su(i,a,1,e,null):i.data[a],h=n[a]=function(t,e){return kn(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Eh(i,n,h,c),bs(c,!1)}const rc=void 0;var pb=["en",[["a","p"],["AM","PM"],rc],[["AM","PM"],rc,rc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],rc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],rc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",rc,"{1} 'at' {0}",rc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let ic={};function O_(t){return t in ic||(ic[t]=$t.ng&&$t.ng.common&&$t.ng.common.locales&&$t.ng.common.locales[t]),ic[t]}var Fe=(()=>((Fe=Fe||{})[Fe.LocaleId=0]="LocaleId",Fe[Fe.DayPeriodsFormat=1]="DayPeriodsFormat",Fe[Fe.DayPeriodsStandalone=2]="DayPeriodsStandalone",Fe[Fe.DaysFormat=3]="DaysFormat",Fe[Fe.DaysStandalone=4]="DaysStandalone",Fe[Fe.MonthsFormat=5]="MonthsFormat",Fe[Fe.MonthsStandalone=6]="MonthsStandalone",Fe[Fe.Eras=7]="Eras",Fe[Fe.FirstDayOfWeek=8]="FirstDayOfWeek",Fe[Fe.WeekendRange=9]="WeekendRange",Fe[Fe.DateFormat=10]="DateFormat",Fe[Fe.TimeFormat=11]="TimeFormat",Fe[Fe.DateTimeFormat=12]="DateTimeFormat",Fe[Fe.NumberSymbols=13]="NumberSymbols",Fe[Fe.NumberFormats=14]="NumberFormats",Fe[Fe.CurrencyCode=15]="CurrencyCode",Fe[Fe.CurrencySymbol=16]="CurrencySymbol",Fe[Fe.CurrencyName=17]="CurrencyName",Fe[Fe.Currencies=18]="Currencies",Fe[Fe.Directionality=19]="Directionality",Fe[Fe.PluralCase=20]="PluralCase",Fe[Fe.ExtraData=21]="ExtraData",Fe))();const Jf="en-US";let vb=Jf;function Xm(t){Di(t,"Expected localeId to be defined"),"string"==typeof t&&(vb=t.toLowerCase().replace(/_/g,"-"))}class sw{}const aw="ngComponent";class r{resolveComponentFactory(e){throw function(t){const e=Error(`No component factory found for ${bt(t)}. Did you add it to @NgModule.entryComponents?`);return e[aw]=t,e}(e)}}class o{}function d(...t){}function m(t,e){return new P(zr(t,e))}o.NULL=new r;const A=function(){return m($n(),ge())};let P=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=A,t})();function H(t){return t instanceof P?t.nativeElement:t}class W{}let ce=(()=>{class t{}return t.\u0275prov=Ye({token:t,providedIn:"root",factory:()=>null}),t})();class Me{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const le=new Me("12.2.4");class me{constructor(){}supports(e){return Dg(e)}create(e){return new ht(e)}}const te=(t,e)=>e;class ht{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||te}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,a=0,c=null;for(;n||i;){const h=!i||n&&n.currentIndex<jt(i,a,c)?n:i,g=jt(h,a,c),C=h.currentIndex;if(h===i)a--,i=i._nextRemoved;else if(n=n._next,null==h.previousIndex)a++;else{c||(c=[]);const k=g-a,M=C-a;if(k!=M){for(let z=0;z<k;z++){const G=z<c.length?c[z]:c[z]=0,X=G+z;M<=X&&X<k&&(c[z]=G+1)}c[h.previousIndex]=M-k}}g!==C&&e(h,g,C)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Dg(e))throw new Error(`Error trying to diff '${bt(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let a,c,h,n=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let g=0;g<this.length;g++)c=e[g],h=this._trackByFn(g,c),null!==n&&Object.is(n.trackById,h)?(i&&(n=this._verifyReinsertion(n,c,h,g)),Object.is(n.item,c)||this._addIdentityChange(n,c)):(n=this._mismatch(n,c,h,g),i=!0),n=n._next}else a=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[qf()]();let i;for(;!(i=n.next()).done;)e(i.value)}}(e,g=>{h=this._trackByFn(a,g),null!==n&&Object.is(n.trackById,h)?(i&&(n=this._verifyReinsertion(n,g,h,a)),Object.is(n.item,g)||this._addIdentityChange(n,g)):(n=this._mismatch(n,g,h,a),i=!0),n=n._next,a++}),this.length=a;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,a){let c;return null===e?c=this._itTail:(c=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,c,a)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,a))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,c,a)):e=this._addAfter(new Be(n,i),c,a),e}_verifyReinsertion(e,n,i,a){let c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==c?e=this._reinsertAfter(c,e._prev,a):e.currentIndex!=a&&(e.currentIndex=a,this._addToMoves(e,a)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const a=e._prevRemoved,c=e._nextRemoved;return null===a?this._removalsHead=c:a._nextRemoved=c,null===c?this._removalsTail=a:c._prevRemoved=a,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){const a=null===n?this._itHead:n._next;return e._next=a,e._prev=n,null===a?this._itTail=e:a._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new Nt),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,i=e._next;return null===n?this._itHead=i:n._next=i,null===i?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Nt),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Be{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class St{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===n||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const n=e._prevDup,i=e._nextDup;return null===n?this._head=i:n._nextDup=i,null===i?this._tail=n:i._prevDup=n,null===this._head}}class Nt{constructor(){this.map=new Map}put(e){const n=e.trackById;let i=this.map.get(n);i||(i=new St,this.map.set(n,i)),i.add(e)}get(e,n){const a=this.map.get(e);return a?a.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function jt(t,e,n){const i=t.previousIndex;if(null===i)return i;let a=0;return n&&i<n.length&&(a=n[i]),i+e+a}class un{constructor(){}supports(e){return e instanceof Map||Hy(e)}create(){return new Yn}}class Yn{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||Hy(e)))throw new Error(`Error trying to diff '${bt(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,a)=>{if(n&&n.key===a)this._maybeAddToChanges(n,i),this._appendAfter=n,n=n._next;else{const c=this._getOrCreateRecordForKey(a,i);n=this._insertBeforeOrAppend(n,c)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const i=e._prev;return n._next=e,n._prev=i,e._prev=n,i&&(i._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const a=this._records.get(e);this._maybeAddToChanges(a,n);const c=a._prev,h=a._next;return c&&(c._next=h),h&&(h._prev=c),a._next=null,a._prev=null,a}const i=new xa(e);return this._records.set(e,i),i.currentValue=n,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(i=>n(e[i],i))}}class xa{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function QD(){return new kb([new me])}let kb=(()=>{class t{constructor(n){this.factories=n}static create(n,i){if(null!=i){const a=i.factories.slice();n=n.concat(a)}return new t(n)}static extend(n){return{provide:t,useFactory:i=>t.create(n,i||QD()),deps:[[t,new Ni,new Jo]]}}find(n){const i=this.factories.find(a=>a.supports(n));if(null!=i)return i;throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(t){return t.name||typeof t}(n)}'`)}}return t.\u0275prov=Ye({token:t,providedIn:"root",factory:QD}),t})();function KD(){return new ny([new un])}let ny=(()=>{class t{constructor(n){this.factories=n}static create(n,i){if(i){const a=i.factories.slice();n=n.concat(a)}return new t(n)}static extend(n){return{provide:t,useFactory:i=>t.create(n,i||KD()),deps:[[t,new Ni,new Jo]]}}find(n){const i=this.factories.find(a=>a.supports(n));if(i)return i;throw new Error(`Cannot find a differ supporting object '${n}'`)}}return t.\u0275prov=Ye({token:t,providedIn:"root",factory:KD}),t})();function uw(t,e,n,i,a=!1){for(;null!==n;){const c=e[n.index];if(null!==c&&i.push(Sn(c)),Yi(c))for(let g=10;g<c.length;g++){const C=c[g],k=C[1].firstChild;null!==k&&uw(C[1],C,k,i)}const h=n.type;if(8&h)uw(t,e,n.child,i);else if(32&h){const g=Pe(n,e);let C;for(;C=g();)i.push(C)}else if(16&h){const g=uv(e,n);if(Array.isArray(g))i.push(...g);else{const C=Tt(e[16]);uw(C[1],C,g,i,!0)}}n=a?n.projectionNext:n.next}return i}class Sb{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return uw(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Yi(e)){const n=e[8],i=n?n.indexOf(this):-1;i>-1&&(hr(e,i),fa(n,i))}this._attachedToViewContainer=!1}Fn(this._lView[1],this._lView)}onDestroy(e){Iv(this._lView[1],this._lView,null,e)}markForCheck(){!function(t){for(;t;){t[2]|=64;const e=Tt(t);if(Kn(t)&&!e)return t;t=e}}(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){lt(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){ko(!0);try{lt(t,e,n)}finally{ko(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(t,e){Rf(t,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class vk extends Sb{constructor(e){super(e),this._view=e}detectChanges(){_t(this._view)}checkNoChanges(){!function(t){ko(!0);try{_t(t)}finally{ko(!1)}}(this._view)}get context(){return null}}const Ek=[new un],Dk=new kb([new me]),xk=new ny(Ek),Ik=function(){return lw($n(),ge())};let ip=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ik,t})();const kk=ip,Sk=class extends kk{constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}createEmbeddedView(e){const n=this._declarationTContainer.tViews,i=Uf(this._declarationLView,n,e,16,null,n.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const c=this._declarationLView[19];return null!==c&&(i[19]=c.createEmbeddedView(n)),dd(n,i,e),new Sb(i)}};function lw(t,e){return 4&t.type?new Sk(e,t,m(t,e)):null}class Kv{}const Pk=function(){return JD($n(),ge())};let Fh=(()=>{class t{}return t.__NG_ELEMENT_ID__=Pk,t})();const Fk=Fh,XD=class extends Fk{constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return m(this._hostTNode,this._hostLView)}get injector(){return new Xn(this._hostTNode,this._hostLView)}get parentInjector(){const e=Xd(this._hostTNode,this._hostLView);if(lf(e)){const n=Bu(e,this._hostLView),i=wl(e);return new Xn(n[1].data[i+8],n)}return new Xn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=ZD(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,i){const a=e.createEmbeddedView(n||{});return this.insert(a,i),a}createComponent(e,n,i,a,c){const h=i||this.parentInjector;if(!c&&null==e.ngModule&&h){const C=h.get(Kv,null);C&&(c=C)}const g=e.create(h,a,void 0,c);return this.insert(g.hostView,n),g}insert(e,n){const i=e._lView,a=i[1];if(function(t){return Yi(t[3])}(i)){const M=this.indexOf(e);if(-1!==M)this.detach(M);else{const V=i[3],z=new XD(V,V[6],V[3]);z.detach(z.indexOf(e))}}const c=this._adjustIndex(n),h=this._lContainer;!function(t,e,n,i){const a=10+i,c=n.length;i>0&&(n[a-1][4]=e),i<c-10?(e[4]=n[a],th(n,10+i,e)):(n.push(e),e[4]=null),e[3]=n;const h=e[17];null!==h&&n!==h&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(h,e);const g=e[19];null!==g&&g.insertView(t),e[2]|=128}(a,i,h,c);const g=sd(c,h),C=i[11],k=Zp(C,h[7]);return null!==k&&function(t,e,n,i,a,c){i[0]=a,i[6]=e,Rf(t,i,n,1,a,c)}(a,h[6],C,i,k,g),e.attachToViewContainerRef(),th(R1(h),c,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=ZD(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),i=hr(this._lContainer,n);i&&(fa(R1(this._lContainer),n),Fn(i[1],i))}detach(e){const n=this._adjustIndex(e,-1),i=hr(this._lContainer,n);return i&&null!=fa(R1(this._lContainer),n)?new Sb(i):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function ZD(t){return t[8]}function R1(t){return t[8]||(t[8]=[])}function JD(t,e){let n;const i=e[t.index];if(Yi(i))n=i;else{let a;if(8&t.type)a=Sn(i);else{const c=e[11];a=c.createComment("");const h=zr(t,e);ru(c,Zp(c,h),a,function(t,e){return kn(t)?t.nextSibling(e):e.nextSibling}(c,h),!1)}e[t.index]=n=function(t,e,n,i){return new Array(t,!0,!1,e,null,0,i,n,null,null)}(i,e,a,t),J(e,n)}return new XD(n,t,e)}const sy={};class bx extends o{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=jr(e);return new wx(n,this.ngModule)}}function _x(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const MS=new gt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>N});class wx extends sw{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function(t){return t.map(fv).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return _x(this.componentDef.inputs)}get outputs(){return _x(this.componentDef.outputs)}create(e,n,i,a){const c=(a=a||this.ngModule)?function(t,e){return{get:(n,i,a)=>{const c=t.get(n,sy,a);return c!==sy||i===sy?c:e.get(n,i,a)}}}(e,a.injector):e,h=c.get(W,vs),g=c.get(ce,null),C=h.createRenderer(null,this.componentDef),k=this.componentDef.selectors[0][0]||"div",M=i?function(t,e,n){if(kn(t))return t.selectRootElement(e,n===rn.ShadowDom);let i="string"==typeof e?t.querySelector(e):e;return i.textContent="",i}(C,i,this.componentDef.encapsulation):el(h.createRenderer(null,this.componentDef),k,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(k)),V=this.componentDef.onPush?576:528,z=function(t,e){return{components:[],scheduler:t||N,clean:bi,playerHandler:e||null,flags:0}}(),G=Dr(0,null,null,1,0,null,null,null,null,null),X=Uf(null,G,z,V,null,null,h,C,g,c);let ue,ne;Ac(X);try{const be=function(t,e,n,i,a,c){const h=n[1];n[20]=t;const C=su(h,20,2,"#host",null),k=C.mergedAttrs=e.hostAttrs;null!==k&&(ji(C,k,!0),null!==t&&(Lc(a,t,k),null!==C.classes&&is(a,t,C.classes),null!==C.styles&&ng(a,t,C.styles)));const M=i.createRenderer(t,e),V=Uf(n,xv(e),null,e.onPush?64:16,n[20],C,i,M,c||null,null);return h.firstCreatePass&&(Hu(ii(C,n),h,e.type),Sm(h,C),Av(C,n.length,1)),J(n,V),n[20]=V}(M,this.componentDef,X,h,C);if(M)if(i)Lc(C,M,["ng-version",le.full]);else{const{attrs:fe,classes:Ke}=function(t){const e=[],n=[];let i=1,a=2;for(;i<t.length;){let c=t[i];if("string"==typeof c)2===a?""!==c&&e.push(c,t[++i]):8===a&&n.push(c);else{if(!fr(a))break;a=c}i++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);fe&&Lc(C,M,fe),Ke&&Ke.length>0&&is(C,M,Ke.join(" "))}if(ne=function(t,e){return t.data[e]}(G,20),void 0!==n){const fe=ne.projection=[];for(let Ke=0;Ke<this.ngContentSelectors.length;Ke++){const yt=n[Ke];fe.push(null!=yt?Array.from(yt):null)}}ue=function(t,e,n,i,a){const c=n[1],h=function(t,e,n){const i=$n();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Zl(t,i,e,Ea(t,e,1,null),n));const a=Il(e,t,i.directiveStart,i);lr(a,e);const c=zr(i,e);return c&&lr(c,e),a}(c,n,e);if(i.components.push(h),t[8]=h,a&&a.forEach(C=>C(h,e)),e.contentQueries){const C=$n();e.contentQueries(1,h,C.directiveStart)}const g=$n();return!c.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(za(g.index),Sv(n[1],g,0,g.directiveStart,g.directiveEnd,e),Mv(e,h)),h}(be,this.componentDef,X,z,[cE]),dd(G,X,null)}finally{zd()}return new NS(this.componentType,ue,m(ne,X),X,ne)}}class NS extends class{}{constructor(e,n,i,a,c){super(),this.location=i,this._rootLView=a,this._tNode=c,this.instance=n,this.hostView=this.changeDetectorRef=new vk(a),this.componentType=e}get injector(){return new Xn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const ay=new Map;class LS extends Kv{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new bx(this);const i=xi(e),a=function(t){return t[hp]||null}(e);a&&Xm(a),this._bootstrapComponents=re(i.bootstrap),this._r3Injector=pr(e,n,[{provide:Kv,useValue:this},{provide:o,useValue:this.componentFactoryResolver}],bt(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,n=Jt.THROW_IF_NOT_FOUND,i=et.Default){return e===Jt||e===Kv||e===al?this:this._r3Injector.get(e,n,i)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Q1 extends class{}{constructor(e){super(),this.moduleType=e,null!==xi(e)&&function(t){const e=new Set;!function n(i){const a=xi(i,!0),c=a.id;null!==c&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${bt(e)} vs ${bt(e.name)}`)}(c,ay.get(c),i),ay.set(c,i));const h=re(a.imports);for(const g of h)e.has(g)||(e.add(g),n(g))}(t)}(e)}create(e){return new LS(this.moduleType,e)}}function K1(t){return e=>{setTimeout(t,void 0,e)}}const $s=class extends Ws{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,i){var a,c,h;let g=e,C=n||(()=>null),k=i;if(e&&"object"==typeof e){const V=e;g=null===(a=V.next)||void 0===a?void 0:a.bind(V),C=null===(c=V.error)||void 0===c?void 0:c.bind(V),k=null===(h=V.complete)||void 0===h?void 0:h.bind(V)}this.__isAsync&&(C=K1(C),g&&(g=K1(g)),k&&(k=K1(k)));const M=super.subscribe({next:g,error:C,complete:k});return e instanceof nn&&e.add(M),M}};function nO(){return this._results[qf()]()}class pw{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=qf(),i=pw.prototype;i[n]||(i[n]=nO)}get changes(){return this._changes||(this._changes=new $s)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const i=this;i.dirty=!1;const a=Ur(e);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let a=t[i],c=e[i];if(n&&(a=n(a),c=n(c)),c!==a)return!1}return!0}(i._results,a,n))&&(i._results=a,i.length=a.length,i.last=a[this.length-1],i.first=a[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class X1{constructor(e){this.queryList=e,this.matches=null}clone(){return new X1(this.queryList)}setDirty(){this.queryList.setDirty()}}class Z1{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const i=null!==e.contentQueries?e.contentQueries[0]:n.length,a=[];for(let c=0;c<i;c++){const h=n.getByIndex(c);a.push(this.queries[h.indexInDeclarationView].clone())}return new Z1(a)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==Rx(e,n).matches&&this.queries[n].setDirty()}}class Sx{constructor(e,n,i=null){this.predicate=e,this.flags=n,this.read=i}}class J1{constructor(e=[]){this.queries=e}elementStart(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let i=0;i<this.length;i++){const a=null!==n?n.length:0,c=this.getByIndex(i).embeddedTView(e,a);c&&(c.indexInDeclarationView=i,null!==n?n.push(c):n=[c])}return null!==n?new J1(n):null}template(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class eC{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new eC(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==n;)i=i.parent;return n===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const i=this.metadata.predicate;if(Array.isArray(i))for(let a=0;a<i.length;a++){const c=i[a];this.matchTNodeWithReadOption(e,n,oO(n,c)),this.matchTNodeWithReadOption(e,n,Tl(n,e,c,!1,!1))}else i===ip?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Tl(n,e,i,!1,!1))}matchTNodeWithReadOption(e,n,i){if(null!==i){const a=this.metadata.read;if(null!==a)if(a===P||a===Fh||a===ip&&4&n.type)this.addMatch(n.index,-2);else{const c=Tl(n,e,a,!1,!1);null!==c&&this.addMatch(n.index,c)}else this.addMatch(n.index,i)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function oO(t,e){const n=t.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1];return null}function aO(t,e,n,i){return-1===n?function(t,e){return 11&t.type?m(t,e):4&t.type?lw(t,e):null}(e,t):-2===n?function(t,e,n){return n===P?m(e,t):n===ip?lw(e,t):n===Fh?JD(e,t):void 0}(t,e,i):Il(t,t[1],n,e)}function Ox(t,e,n,i){const a=e[19].queries[i];if(null===a.matches){const c=t.data,h=n.matches,g=[];for(let C=0;C<h.length;C+=2){const k=h[C];g.push(k<0?null:aO(e,c[k],h[C+1],n.metadata.read))}a.matches=g}return a.matches}function tC(t,e,n,i){const a=t.queries.getByIndex(n),c=a.matches;if(null!==c){const h=Ox(t,e,a,n);for(let g=0;g<c.length;g+=2){const C=c[g];if(C>0)i.push(h[g/2]);else{const k=c[g+1],M=e[-C];for(let V=10;V<M.length;V++){const z=M[V];z[17]===z[3]&&tC(z[1],z,k,i)}if(null!==M[9]){const V=M[9];for(let z=0;z<V.length;z++){const G=V[z];tC(G[1],G,k,i)}}}}}return i}function Mx(t){const e=ge(),n=Vt(),i=nf();la(i+1);const a=Rx(n,i);if(t.dirty&&wp(e)===(2==(2&a.metadata.flags))){if(null===a.matches)t.reset([]);else{const c=a.crossesNgTemplate?tC(n,e,i,[]):Ox(n,e,a,i);t.reset(c,H),t.notifyOnChanges()}return!0}return!1}function Ax(t,e,n){const i=Vt();i.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new J1),t.queries.track(new eC(e,n))}(i,new Sx(t,e,n),-1),2==(2&e)&&(i.staticViewQueries=!0)),function(t,e,n){const i=new pw(4==(4&n));Iv(t,e,i,i.destroy),null===e[19]&&(e[19]=new Z1),e[19].queries.push(new X1(i))}(i,ge(),e)}function Rx(t,e){return t.queries.getByIndex(e)}const mw=new gt("Application Initializer");let ly=(()=>{class t{constructor(n){this.appInits=n,this.resolve=d,this.reject=d,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,a)=>{this.resolve=i,this.reject=a})}runInitializers(){if(this.initialized)return;const n=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let a=0;a<this.appInits.length;a++){const c=this.appInits[a]();if(Bm(c))n.push(c);else if(tb(c)){const h=new Promise((g,C)=>{c.subscribe({complete:g,error:C})});n.push(h)}}Promise.all(n).then(()=>{i()}).catch(a=>{this.reject(a)}),0===n.length&&i(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(At(mw,8))},t.\u0275prov=Ye({token:t,factory:t.\u0275fac}),t})();const Hb=new gt("AppId"),jO={provide:Hb,useFactory:function(){return`${aC()}${aC()}${aC()}`},deps:[]};function aC(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const eT=new gt("Platform Initializer"),uC=new gt("Platform ID"),BO=new gt("appBootstrapListener");let lC=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Ye({token:t,factory:t.\u0275fac}),t})();const Fg=new gt("LocaleId"),tT=new gt("DefaultCurrencyCode");class zO{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}const cC=function(t){return new Q1(t)},$O=cC,UO=function(t){return Promise.resolve(cC(t))},nT=function(t){const e=cC(t),i=re(xi(t).declarations).reduce((a,c)=>{const h=jr(c);return h&&a.push(new wx(h)),a},[]);return new zO(e,i)},WO=nT,GO=function(t){return Promise.resolve(nT(t))};let bw=(()=>{class t{constructor(){this.compileModuleSync=$O,this.compileModuleAsync=UO,this.compileModuleAndAllComponentsSync=WO,this.compileModuleAndAllComponentsAsync=GO}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Ye({token:t,factory:t.\u0275fac}),t})();const QO=(()=>Promise.resolve(0))();function dC(t){"undefined"==typeof Zone?QO.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class ss{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $s(!1),this.onMicrotaskEmpty=new $s(!1),this.onStable=new $s(!1),this.onError=new $s(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!i&&n,a.shouldCoalesceRunChangeDetection=i,a.lastRequestAnimationFrameId=-1,a.nativeRequestAnimationFrame=function(){let t=$t.requestAnimationFrame,e=$t.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call($t,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,fC(t),t.isCheckStableRunning=!0,hC(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),fC(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,a,c,h,g)=>{try{return rT(t),n.invokeTask(a,c,h,g)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===c.type||t.shouldCoalesceRunChangeDetection)&&e(),iT(t)}},onInvoke:(n,i,a,c,h,g,C)=>{try{return rT(t),n.invoke(a,c,h,g,C)}finally{t.shouldCoalesceRunChangeDetection&&e(),iT(t)}},onHasTask:(n,i,a,c)=>{n.hasTask(a,c),i===a&&("microTask"==c.change?(t._hasPendingMicrotasks=c.microTask,fC(t),hC(t)):"macroTask"==c.change&&(t.hasPendingMacrotasks=c.macroTask))},onHandleError:(n,i,a,c)=>(n.handleError(a,c),t.runOutsideAngular(()=>t.onError.emit(c)),!1)})}(a)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ss.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ss.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,a){const c=this._inner,h=c.scheduleEventTask("NgZoneEvent: "+a,e,XO,d,d);try{return c.runTask(h,n,i)}finally{c.cancelTask(h)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}}const XO={};function hC(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function fC(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function rT(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function iT(t){t._nesting--,hC(t)}class eM{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $s,this.onMicrotaskEmpty=new $s,this.onStable=new $s,this.onError=new $s}run(e,n,i){return e.apply(n,i)}runGuarded(e,n,i){return e.apply(n,i)}runOutsideAngular(e){return e()}runTask(e,n,i,a){return e.apply(n,i)}}let pC=(()=>{class t{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ss.assertNotInAngularZone(),dC(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())dC(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(n)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,a){let c=-1;i&&i>0&&(c=setTimeout(()=>{this._callbacks=this._callbacks.filter(h=>h.timeoutId!==c),n(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:n,timeoutId:c,updateCb:a})}whenStable(n,i,a){if(a&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,a),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,i,a){return[]}}return t.\u0275fac=function(n){return new(n||t)(At(ss))},t.\u0275prov=Ye({token:t,factory:t.\u0275fac}),t})(),oT=(()=>{class t{constructor(){this._applications=new Map,gC.addToWindow(this)}registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return gC.findTestabilityInTree(this,n,i)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Ye({token:t,factory:t.\u0275fac}),t})();class tM{addToWindow(e){}findTestabilityInTree(e,n,i){return null}}let gC=new tM,sT=!0,aT=!1;let bd;const lT=new gt("AllowMultipleToken");function cT(t,e,n=[]){const i=`Platform: ${e}`,a=new gt(i);return(c=[])=>{let h=dT();if(!h||h.injector.get(lT,!1))if(t)t(n.concat(c).concat({provide:a,useValue:!0}));else{const g=n.concat(c).concat({provide:a,useValue:!0},{provide:we,useValue:"platform"});!function(t){if(bd&&!bd.destroyed&&!bd.injector.get(lT,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");bd=t.get(hT);const e=t.get(eT,null);e&&e.forEach(n=>n())}(Jt.create({providers:g,name:i}))}return function(t){const e=dT();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(a)}}function dT(){return bd&&!bd.destroyed?bd:null}let hT=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,i){const g=function(t,e){let n;return n="noop"===t?new eM:("zone.js"===t?void 0:t)||new ss({enableLongStackTrace:(aT=!0,sT),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),C=[{provide:ss,useValue:g}];return g.run(()=>{const k=Jt.create({providers:C,parent:this.injector,name:n.moduleType.name}),M=n.create(k),V=M.injector.get(Ri,null);if(!V)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return g.runOutsideAngular(()=>{const z=g.onError.subscribe({next:G=>{V.handleError(G)}});M.onDestroy(()=>{vC(this._modules,M),z.unsubscribe()})}),function(t,e,n){try{const i=n();return Bm(i)?i.catch(a=>{throw e.runOutsideAngular(()=>t.handleError(a)),a}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}(V,g,()=>{const z=M.injector.get(ly);return z.runInitializers(),z.donePromise.then(()=>(Xm(M.injector.get(Fg,Jf)||Jf),this._moduleDoBootstrap(M),M))})})}bootstrapModule(n,i=[]){const a=fT({},i);return function(t,e,n){const i=new Q1(n);return Promise.resolve(i)}(0,0,n).then(c=>this.bootstrapModuleFactory(c,a))}_moduleDoBootstrap(n){const i=n.injector.get(zb);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(a=>i.bootstrap(a));else{if(!n.instance.ngDoBootstrap)throw new Error(`The module ${bt(n.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);n.instance.ngDoBootstrap(i)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(At(Jt))},t.\u0275prov=Ye({token:t,factory:t.\u0275fac}),t})();function fT(t,e){return Array.isArray(e)?e.reduce(fT,t):Object.assign(Object.assign({},t),e)}let zb=(()=>{class t{constructor(n,i,a,c,h){this._zone=n,this._injector=i,this._exceptionHandler=a,this._componentFactoryResolver=c,this._initStatus=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new Je(k=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{k.next(this._stable),k.complete()})}),C=new Je(k=>{let M;this._zone.runOutsideAngular(()=>{M=this._zone.onStable.subscribe(()=>{ss.assertNotInAngularZone(),dC(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,k.next(!0))})})});const V=this._zone.onUnstable.subscribe(()=>{ss.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{k.next(!1)}))});return()=>{M.unsubscribe(),V.unsubscribe()}});this.isStable=zg(g,C.pipe(t=>pn()(function(t,e){return function(i){let a;a="function"==typeof t?t:function(){return t};const c=Object.create(i,Ra);return c.source=i,c.subjectFactory=a,c}}(yu)(t))))}bootstrap(n,i){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let a;a=n instanceof sw?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(a.componentType);const c=function(t){return t.isBoundToModule}(a)?void 0:this._injector.get(Kv),g=a.create(Jt.NULL,[],i||a.selector,c),C=g.location.nativeElement,k=g.injector.get(pC,null),M=k&&g.injector.get(oT);return k&&M&&M.registerApplication(C,k),g.onDestroy(()=>{this.detachView(g.hostView),vC(this.components,g),M&&M.unregisterApplication(C)}),this._loadComponent(g),g}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){const i=n;vC(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(BO,[]).concat(this._bootstrapListeners).forEach(a=>a(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(n){return new(n||t)(At(ss),At(Jt),At(Ri),At(o),At(ly))},t.\u0275prov=Ye({token:t,factory:t.\u0275fac}),t})();function vC(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const kM=cT(null,"core",[{provide:uC,useValue:"unknown"},{provide:hT,deps:[Jt]},{provide:oT,deps:[]},{provide:lC,deps:[]}]),PM=[{provide:zb,useClass:zb,deps:[ss,Jt,Ri,o,ly]},{provide:MS,deps:[ss],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(n){e.push(n)}}},{provide:ly,useClass:ly,deps:[[new Jo,mw]]},{provide:bw,useClass:bw,deps:[]},jO,{provide:kb,useFactory:function(){return Dk},deps:[]},{provide:ny,useFactory:function(){return xk},deps:[]},{provide:Fg,useFactory:function(t){return Xm(t=t||"undefined"!=typeof $localize&&$localize.locale||Jf),t},deps:[[new Rl(Fg),new Jo,new Ni]]},{provide:tT,useValue:"USD"}];let FM=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(At(zb))},t.\u0275mod=Or({type:t}),t.\u0275inj=Eo({providers:PM}),t})(),Sw=null;function tm(){return Sw}const ka=new gt("DocumentToken");var zi=(()=>((zi=zi||{})[zi.Zero=0]="Zero",zi[zi.One=1]="One",zi[zi.Two=2]="Two",zi[zi.Few=3]="Few",zi[zi.Many=4]="Many",zi[zi.Other=5]="Other",zi))();const $A=function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=O_(e);if(n)return n;const i=e.split("-")[0];if(n=O_(i),n)return n;if("en"===i)return pb;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[Fe.PluralCase]};class jw{}let yP=(()=>{class t extends jw{constructor(n){super(),this.locale=n}getPluralCategory(n,i){switch($A(i||this.locale)(n)){case zi.Zero:return"zero";case zi.One:return"one";case zi.Two:return"two";case zi.Few:return"few";case zi.Many:return"many";default:return"other"}}}return t.\u0275fac=function(n){return new(n||t)(At(Fg))},t.\u0275prov=Ye({token:t,factory:t.\u0275fac}),t})(),ZP=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Or({type:t}),t.\u0275inj=Eo({providers:[{provide:jw,useClass:yP}]}),t})();class $C extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(t){Sw||(Sw=t)}(new $C)}onAndCancel(e,n,i){return e.addEventListener(n,i,!1),()=>{e.removeEventListener(n,i,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=(Qb=Qb||document.querySelector("base"),Qb?Qb.getAttribute("href"):null);return null==n?null:function(t){Bw=Bw||document.createElement("a"),Bw.setAttribute("href",t);const e=Bw.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Qb=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const i=n.indexOf("="),[a,c]=-1==i?[n,""]:[n.slice(0,i),n.slice(i+1)];if(a.trim()===e)return decodeURIComponent(c)}return null}(document.cookie,e)}}let Bw,Qb=null;const rI=new gt("TRANSITION_ID"),uN=[{provide:mw,useFactory:function(t,e,n){return()=>{n.get(ly).donePromise.then(()=>{const i=tm(),a=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let c=0;c<a.length;c++)i.remove(a[c])})}},deps:[rI,ka,Jt],multi:!0}];class UC{static init(){!function(t){gC=t}(new UC)}addToWindow(e){$t.getAngularTestability=(i,a=!0)=>{const c=e.findTestabilityInTree(i,a);if(null==c)throw new Error("Could not find testability for element.");return c},$t.getAllAngularTestabilities=()=>e.getAllTestabilities(),$t.getAllAngularRootElements=()=>e.getAllRootElements(),$t.frameworkStabilizers||($t.frameworkStabilizers=[]),$t.frameworkStabilizers.push(i=>{const a=$t.getAllAngularTestabilities();let c=a.length,h=!1;const g=function(C){h=h||C,c--,0==c&&i(h)};a.forEach(function(C){C.whenStable(g)})})}findTestabilityInTree(e,n,i){if(null==n)return null;const a=e.getTestability(n);return null!=a?a:i?tm().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}let lN=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Ye({token:t,factory:t.\u0275fac}),t})();const Kb=new gt("EventManagerPlugins");let zw=(()=>{class t{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(a=>a.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,i,a){return this._findPluginFor(i).addEventListener(n,i,a)}addGlobalEventListener(n,i,a){return this._findPluginFor(i).addGlobalEventListener(n,i,a)}getZone(){return this._zone}_findPluginFor(n){const i=this._eventNameToPlugin.get(n);if(i)return i;const a=this._plugins;for(let c=0;c<a.length;c++){const h=a[c];if(h.supports(n))return this._eventNameToPlugin.set(n,h),h}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(At(Kb),At(ss))},t.\u0275prov=Ye({token:t,factory:t.\u0275fac}),t})();class WC{constructor(e){this._doc=e}addGlobalEventListener(e,n,i){const a=tm().getGlobalEventTarget(this._doc,e);if(!a)throw new Error(`Unsupported event target ${a} for event ${n}`);return this.addEventListener(a,n,i)}}let oI=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const i=new Set;n.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),i.add(a))}),this.onStylesAdded(i)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Ye({token:t,factory:t.\u0275fac}),t})(),Xb=(()=>{class t extends oI{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,i,a){n.forEach(c=>{const h=this._doc.createElement("style");h.textContent=c,a.push(i.appendChild(h))})}addHost(n){const i=[];this._addStylesToHost(this._stylesSet,n,i),this._hostNodes.set(n,i)}removeHost(n){const i=this._hostNodes.get(n);i&&i.forEach(sI),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((i,a)=>{this._addStylesToHost(n,a,i)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(sI))}}return t.\u0275fac=function(n){return new(n||t)(At(ka))},t.\u0275prov=Ye({token:t,factory:t.\u0275fac}),t})();function sI(t){tm().remove(t)}const GC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},qC=/%COMP%/g;function $w(t,e,n){for(let i=0;i<e.length;i++){let a=e[i];Array.isArray(a)?$w(t,a,n):(a=a.replace(qC,t),n.push(a))}return n}function lI(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let YC=(()=>{class t{constructor(n,i,a){this.eventManager=n,this.sharedStylesHost=i,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new QC(n)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;switch(i.encapsulation){case rn.Emulated:{let a=this.rendererByCompId.get(i.id);return a||(a=new DN(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,a)),a.applyToHost(n),a}case 1:case rn.ShadowDom:return new xN(this.eventManager,this.sharedStylesHost,n,i);default:if(!this.rendererByCompId.has(i.id)){const a=$w(i.id,i.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(At(zw),At(Xb),At(Hb))},t.\u0275prov=Ye({token:t,factory:t.\u0275fac}),t})();class QC{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,n){return n?document.createElementNS(GC[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){e.appendChild(n)}insertBefore(e,n,i){e&&e.insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,a){if(a){n=a+":"+n;const c=GC[a];c?e.setAttributeNS(c,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){const a=GC[i];a?e.removeAttributeNS(a,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,a){a&(Ae.DashCase|Ae.Important)?e.style.setProperty(n,i,a&Ae.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&Ae.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e[n]=i}setValue(e,n){e.nodeValue=n}listen(e,n,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,lI(i)):this.eventManager.addEventListener(e,n,lI(i))}}class DN extends QC{constructor(e,n,i,a){super(e),this.component=i;const c=$w(a+"-"+i.id,i.styles,[]);n.addStyles(c),this.contentAttr=function(t){return"_ngcontent-%COMP%".replace(qC,t)}(a+"-"+i.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(qC,t)}(a+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}}class xN extends QC{constructor(e,n,i,a){super(e),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=$w(a.id,a.styles,[]);for(let h=0;h<c.length;h++){const g=document.createElement("style");g.textContent=c[h],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let TN=(()=>{class t extends WC{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,a){return n.addEventListener(i,a,!1),()=>this.removeEventListener(n,i,a)}removeEventListener(n,i,a){return n.removeEventListener(i,a)}}return t.\u0275fac=function(n){return new(n||t)(At(ka))},t.\u0275prov=Ye({token:t,factory:t.\u0275fac}),t})();const hI=["alt","control","meta","shift"],PN={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fI={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},NN={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let FN=(()=>{class t extends WC{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,i,a){const c=t.parseEventName(i),h=t.eventCallback(c.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>tm().onAndCancel(n,c.domEventName,h))}static parseEventName(n){const i=n.toLowerCase().split("."),a=i.shift();if(0===i.length||"keydown"!==a&&"keyup"!==a)return null;const c=t._normalizeKey(i.pop());let h="";if(hI.forEach(C=>{const k=i.indexOf(C);k>-1&&(i.splice(k,1),h+=C+".")}),h+=c,0!=i.length||0===c.length)return null;const g={};return g.domEventName=a,g.fullKey=h,g}static getEventFullKey(n){let i="",a=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&fI.hasOwnProperty(e)&&(e=fI[e]))}return PN[e]||e}(n);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),hI.forEach(c=>{c!=a&&NN[c](n)&&(i+=c+".")}),i+=a,i}static eventCallback(n,i,a){return c=>{t.getEventFullKey(c)===n&&a.runGuarded(()=>i(c))}}static _normalizeKey(n){switch(n){case"esc":return"escape";default:return n}}}return t.\u0275fac=function(n){return new(n||t)(At(ka))},t.\u0275prov=Ye({token:t,factory:t.\u0275fac}),t})();const $N=cT(kM,"browser",[{provide:uC,useValue:"browser"},{provide:eT,useValue:function(){$C.makeCurrent(),UC.init()},multi:!0},{provide:ka,useFactory:function(){return function(t){Fu=t}(document),document},deps:[]}]),UN=[[],{provide:we,useValue:"root"},{provide:Ri,useFactory:function(){return new Ri},deps:[]},{provide:Kb,useClass:TN,multi:!0,deps:[ka,ss,uC]},{provide:Kb,useClass:FN,multi:!0,deps:[ka]},[],{provide:YC,useClass:YC,deps:[zw,Xb,Hb]},{provide:W,useExisting:YC},{provide:oI,useExisting:Xb},{provide:Xb,useClass:Xb,deps:[ka]},{provide:pC,useClass:pC,deps:[ss]},{provide:zw,useClass:zw,deps:[Kb,ss]},{provide:class{},useClass:lN,deps:[]},[]];let WN=(()=>{class t{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:t,providers:[{provide:Hb,useValue:n.appId},{provide:rI,useExisting:Hb},uN]}}}return t.\u0275fac=function(n){return new(n||t)(At(t,12))},t.\u0275mod=Or({type:t}),t.\u0275inj=Eo({providers:UN,imports:[ZP,FM]}),t})();"undefined"!=typeof window&&window;let KI=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Or({type:t}),t.\u0275inj=Eo({}),t})(),fk=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Or({type:t}),t.\u0275inj=Eo({imports:[[KI]]}),t})(),qF=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Or({type:t}),t.\u0275inj=Eo({imports:[fk]}),t})();var YF=wn(38),pk=wn(991);const QF=["network"];let KF=(()=>{class t{ngAfterViewInit(){const n=this.el.nativeElement,i=new pk.DataSet([{id:1,label:"Node 1"},{id:2,label:"Node 2"},{id:3,label:"Node 3"},{id:4,label:"Node 4"},{id:5,label:"Node 5"}]),c=new pk.DataSet([{from:1,to:3},{from:1,to:2},{from:2,to:4},{from:2,to:5}]);this.networkInstance=new YF.Network(n,{nodes:i,edges:c},{height:"99%"})}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Cu({type:t,selectors:[["ag-dashboard"]],viewQuery:function(n,i){if(1&n&&Ax(QF,5),2&n){let a;Mx(a=function(t,e){return t[19].queries[e].queryList}(ge(),nf()))&&(i.el=a.first)}},decls:20,vars:0,consts:[[1,"page"],[1,"header"],[1,"navigation","links"],["href","#"],[1,"placeholder"],[1,"column"],[1,"graph"],["network",""],[1,"navigation","footer"],["href","https://github.com/anton-galkovsky/argent"]],template:function(n,i){1&n&&(Vs(0,"div",0),Vs(1,"div",1),Xf(2," Argent "),js(),Vs(3,"div",2),Vs(4,"a",3),Xf(5,"Tab1"),js(),Vs(6,"a",3),Xf(7,"Tab2"),js(),Vs(8,"a",3),Xf(9,"Tab3"),js(),js(),Vs(10,"div",4),Vs(11,"div",5),function(t,e,n,i){Vs(t,e,n,i),js()}(12,"div",6,7),js(),Vs(14,"div",5),Vs(15,"p"),Xf(16,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum at pharetra magna. Vivamus et felis blandit, ultrices velit ut, euismod risus. In aliquet sem in facilisis posuere. Aliquam ultricies tellus eu ex semper, at varius erat egestas. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Nulla ut augue libero. Quisque suscipit facilisis mi vitae tristique. Cras elit purus, tempus nec orci ac, finibus varius orci. Praesent in maximus quam. Vivamus ultricies laoreet ante, ut elementum velit scelerisque at. Etiam pulvinar metus ut velit luctus, eu varius tellus aliquet. Nullam dictum in nibh ut pharetra. Cras rutrum, magna quis feugiat euismod, nisi lacus tincidunt leo, a iaculis eros tortor sollicitudin augue. Cras nunc lacus, ultrices eget nunc eget, faucibus maximus tellus. Phasellus eget mauris ultrices, fermentum dui id, porta neque. Cras sagittis et sapien quis maximus. "),js(),js(),js(),Vs(17,"div",8),Vs(18,"a",9),Xf(19,"Github"),js(),js(),js())},styles:['.page[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:0 0 auto;height:100%}.header[_ngcontent-%COMP%]{background-color:gray;color:#0ff;padding:15px;font-size:xx-large;font-family:"Avantgarde","TeX Gyre Adventor","URW Gothic L",sans-serif}.navigation[_ngcontent-%COMP%]{display:flex;flex:0 0 auto;overflow:hidden;background-color:#333}.navigation.links[_ngcontent-%COMP%]{justify-content:flex-start}.navigation.footer[_ngcontent-%COMP%]{justify-content:flex-end}.navigation[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0ff;text-align:center;padding:14px 16px;text-decoration:none}.navigation[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:gray;color:#0ff}.placeholder[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex:1 0 auto;padding:15px;border:1.5px dashed orange;margin:15px}.column[_ngcontent-%COMP%]{border:1.5px dashed red;margin:15px;flex:0 1 50%;display:flex;flex-direction:column}.column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:30px}.column[_ngcontent-%COMP%]   .graph[_ngcontent-%COMP%]{flex:1 0 auto}']}),t})(),XF=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Or({type:t,bootstrap:[KF]}),t.\u0275inj=Eo({imports:[[WN,qF]]}),t})();(function(){if(aT)throw new Error("Cannot enable prod mode after platform setup.");sT=!1})(),$N().bootstrapModule(XF).catch(t=>console.error(t))}},ap=>{ap(ap.s=334)}]);